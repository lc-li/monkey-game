window.__require=function t(e,n,i){function o(a,s){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return o(e[a][1][t]||t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){"use strict";n.byteLength=function(t){var e=l(t),n=e[0],i=e[1];return 3*(n+i)/4-i},n.toByteArray=function(t){var e,n,i=l(t),a=i[0],s=i[1],c=new r(u(0,a,s)),p=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],c[p++]=e>>16&255,c[p++]=e>>8&255,c[p++]=255&e;return 2===s&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,c[p++]=255&e),1===s&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,c[p++]=e>>8&255,c[p++]=255&e),c},n.fromByteArray=function(t){for(var e,n=t.length,o=n%3,r=[],a=0,s=n-o;a<s;a+=16383)r.push(p(t,a,a+16383>s?s:a+16383));return 1===o?(e=t[n-1],r.push(i[e>>2]+i[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],r.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),r.join("")};for(var i=[],o=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],o[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){return 3*(e+n)/4-n}function p(t,e,n){for(var o,r,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(i[(r=o)>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(t,e,n){(function(e){"use strict";var i=t("base64-js"),o=t("ieee754"),r=t("isarray");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return l(this,t,e,n)}function l(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?_(t,e,n,i):"string"==typeof e?h(t,e,n):y(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function p(t,e,n,i){return u(e),e<=0?s(t,e):void 0!==n?"string"==typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}function d(t,e){if(u(e),t=s(t,e<0?0:0|m(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|g(e,n),o=(t=s(t,i)).write(e,n);return o!==i&&(t=t.slice(0,o)),t}function f(t,e){var n=e.length<0?0:0|m(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function _(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e),t}function y(t,e){if(c.isBuffer(e)){var n=0|m(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?s(t,0):f(t,e);if("Buffer"===e.type&&r(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(t).length;default:if(i)return X(t).length;e=(""+e).toLowerCase(),i=!0}}function v(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return G(this,e,n);case"base64":return D(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function b(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function k(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:w(t,e,n,i,o);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,i,o){var r,a=1,s=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var u=-1;for(r=n;r<s;r++)if(l(t,r)===l(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===c)return u*a}else-1!==u&&(r-=r-u),u=-1}else for(n+c>s&&(n=s-c),r=n;r>=0;r--){for(var p=!0,d=0;d<c;d++)if(l(t,r+d)!==l(e,d)){p=!1;break}if(p)return r}return-1}function E(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function T(t,e,n,i){return J(X(e,t.length-n),t,n,i)}function S(t,e,n,i){return J(q(e),t,n,i)}function C(t,e,n,i){return S(t,e,n,i)}function I(t,e,n,i){return J(K(e),t,n,i)}function L(t,e,n,i){return J(Z(e,t.length-n),t,n,i)}function D(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var r,a,s,c,l=t[o],u=null,p=l>239?4:l>223?3:l>191?2:1;if(o+p<=n)switch(p){case 1:l<128&&(u=l);break;case 2:128==(192&(r=t[o+1]))&&(c=(31&l)<<6|63&r)>127&&(u=c);break;case 3:r=t[o+1],a=t[o+2],128==(192&r)&&128==(192&a)&&(c=(15&l)<<12|(63&r)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:r=t[o+1],a=t[o+2],s=t[o+3],128==(192&r)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&r)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,p=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),o+=p}return R(i)}n.Buffer=c,n.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return p(null,t,e,n)},c.allocUnsafe=function(t){return d(null,t)},c.allocUnsafeSlow=function(t){return d(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,r=Math.min(n,i);o<r;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=c.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):v.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,i,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var r=(o>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(r,a),l=this.slice(i,o),u=t.slice(e,n),p=0;p<s;++p)if(l[p]!==u[p]){r=l[p],a=u[p];break}return r<a?-1:a<r?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return k(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return k(this,t,e,n,!1)},c.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return E(this,t,e,n);case"utf8":case"utf-8":return T(this,t,e,n);case"ascii":return S(this,t,e,n);case"latin1":case"binary":return C(this,t,e,n);case"base64":return I(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function R(t){var e=t.length;if(e<=O)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=O));return n}function P(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function G(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function M(t,e,n){var i,o=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>o)&&(n=o);for(var r="",a=e;a<n;++a)r+=(i=t[a])<16?"0"+i.toString(16):i.toString(16);return r}function N(t,e,n){for(var i=t.slice(e,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function B(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function x(t,e,n,i,o,r){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<r)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function U(t,e,n,i){e<0&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-n,2);o<r;++o)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function F(t,e,n,i){e<0&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-n,4);o<r;++o)t[n+o]=e>>>8*(i?o:3-o)&255}function z(t,e,n,i){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,i,r){return r||z(t,0,n,4),o.write(t,e,n,i,23,4),n+4}function H(t,e,n,i,r){return r||z(t,0,n,8),o.write(t,e,n,i,52,8),n+8}c.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var o=e-t;n=new c(o,void 0);for(var r=0;r<o;++r)n[r]=this[r+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},c.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);for(var i=e,o=1,r=this[t+--i];i>0&&(o*=256);)r+=this[t+--i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||B(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||B(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||x(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[e]=255&t;++r<n&&(o*=256);)this[e+r]=t/o&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||x(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);x(this,t,e,n,o-1,-o)}var r=0,a=1,s=0;for(this[e]=255&t;++r<n&&(a*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);x(this,t,e,n,o-1,-o)}var r=n-1,a=1,s=0;for(this[e+r]=255&t;--r>=0&&(a*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return H(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return H(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o,r=i-n;if(this===t&&n<e&&e<i)for(o=r-1;o>=0;--o)t[o+e]=this[o+n];else if(r<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),e);return r},c.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{var a=c.isBuffer(t)?t:X(new c(t,i).toString()),s=a.length;for(r=0;r<n-e;++r)this[r+e]=a[r%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function W(t){if((t=Y(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function Y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function X(t,e){var n;e=e||1/0;for(var i=t.length,o=null,r=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function q(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Z(t,e){for(var n,i,o,r=[],a=0;a<t.length&&!((e-=2)<0);++a)i=(n=t.charCodeAt(a))>>8,o=n%256,r.push(o),r.push(i);return r}function K(t){return i.toByteArray(W(t))}function J(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],4:[function(t,e,n){n.read=function(t,e,n,i,o){var r,a,s=8*o-i-1,c=(1<<s)-1,l=c>>1,u=-7,p=n?o-1:0,d=n?-1:1,h=t[e+p];for(p+=d,r=h&(1<<-u)-1,h>>=-u,u+=s;u>0;r=256*r+t[e+p],p+=d,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=i;u>0;a=256*a+t[e+p],p+=d,u-=8);if(0===r)r=1-l;else{if(r===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),r-=l}return(h?-1:1)*a*Math.pow(2,r-i)},n.write=function(t,e,n,i,o,r){var a,s,c,l=8*r-o-1,u=(1<<l)-1,p=u>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:r-1,f=i?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+p>=1?d/c:d*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=u?(s=0,a=u):a+p>=1?(s=(e*c-1)*Math.pow(2,o),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=f,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[n+h]=255&a,h+=f,a/=256,l-=8);t[n+h-f]|=128*_}},{}],5:[function(t,e){var n,i,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function c(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}})();var l,u=[],p=!1,d=-1;function h(){p&&l&&(p=!1,l.length?u=l.concat(u):d=-1,u.length&&f())}function f(){if(!p){var t=s(h);p=!0;for(var e=u.length;e;){for(l=u,u=[];++d<e;)l&&l[d].run();d=-1,e=u.length}l=null,p=!1,c(t)}}function _(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new _(t,e)),1!==u.length||p||s(f)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(){return[]},o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],AirDropReward:[function(t,e,n){"use strict";cc._RF.push(e,"80822iX2btNE59ru1uQ0e4Z","AirDropReward");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/BaseDialog"),s=t("../tool/GameGlobal"),c=t("../tool/GameHttp"),l=t("../tool/GamePublic"),u=t("../tool/GameUtils"),p=t("../Table/GameTable"),d=t("../tool/GameData"),h=t("../tool/GameUI"),f=t("../tool/GameEvent"),_=p.default.data.Item,y=cc._decorator,m=y.ccclass,g=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item1=null,e.tips1=null,e.item2=null,e.moneyLab=null,e.item3=null,e.upNum=null,e.airBoxData=null,e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),u.default.instance.log("caoyang",u.LOG_LEVEL.INFO,n),this.airBoxData=_[n.id]},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.initUI()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.initUI=function(){if(this.airBoxData){var t=this.airBoxData.Reward_type;switch(this.item1.active=!1,this.item2.active=!1,this.item3.active=!1,t){case 1:this.item1.active=!0,h.default.instance.setLocalizedLabelText(this.tips1,"AirDropReward/item1/tips",100*this.airBoxData.Up+"%");break;case 2:this.item2.active=!0;var e=Math.floor(3600*d.default.instance.moneyData.onlineNum*this.airBoxData.Up);this.moneyLab.string=u.default.instance.getShowDiamond(e);break;case 3:this.item3.active=!0,this.upNum.string=u.default.instance.getShowDiamond(this.airBoxData.Up)}}},e.prototype.onBtnGet=function(){var t=this,e=s.default.httpPort.getAirBox;c.default.instance.post(e,{},function(e){(e=JSON.parse(e))&&200===e.ret_code?(l.default.instance.isHavaAirBox=!1,d.default.instance.airBoxData=e.data.airbox,f.default.instance.dispatchEvent(f.default.MAIN_AIR_BOX_ACTIVE,!1),2==t.airBoxData.Reward_type&&h.default.instance.addFlyEffectEx(t.node,1,5),d.default.instance.requestMoneyData(d.MONEY_GET_CHANNEL.CLICK_ONLINE),t.node.destroy()):t.node.destroy()},function(){})},r([g(cc.Node)],e.prototype,"item1",void 0),r([g(cc.RichText)],e.prototype,"tips1",void 0),r([g(cc.Node)],e.prototype,"item2",void 0),r([g(cc.Label)],e.prototype,"moneyLab",void 0),r([g(cc.Node)],e.prototype,"item3",void 0),r([g(cc.Label)],e.prototype,"upNum",void 0),r([m],e)}(a.default);n.default=v,cc._RF.pop()},{"../Table/GameTable":"GameTable","../tool/BaseDialog":"BaseDialog","../tool/GameData":"GameData","../tool/GameEvent":"GameEvent","../tool/GameGlobal":"GameGlobal","../tool/GameHttp":"GameHttp","../tool/GamePublic":"GamePublic","../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils"}],AirDrop:[function(t,e,n){"use strict";cc._RF.push(e,"3001b6hDBJNMaQurkLkQBdO","AirDrop");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/GameBezier"),s=t("../tool/GameEvent"),c=t("../tool/GameUI"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bezierPos=null,e.airBoxData=null,e}return o(e,t),e.prototype.init=function(t,e){this.airBoxData=e.airBoxData,this.initPosition()},e.prototype.onLoad=function(){var t=this;this.initPosition(),a.default.instance.runUniformBezierAct(this.node,15,[{startPos:this.bezierPos.one,c1:this.bezierPos.two,c2:this.bezierPos.three,endPos:this.bezierPos.four}],function(){t.node.destroy(),s.default.instance.dispatchEvent(s.default.MAIN_AIR_BOX_ACTIVE,!0)})},e.prototype.initPosition=function(){var t=cc.winSize.height/2;this.node.setPosition(0,t);var e=(t- -350)/3,n=t-e,i=t-2*e;this.bezierPos={one:cc.v2(0,t),two:cc.v2(-900,n),three:cc.v2(900,i),four:cc.v2(0,-350)}},e.prototype.onBtnClick=function(){c.default.instance.showDialog("ui/airdrop/AirDropReward","AirDropReward",this,!1,this.airBoxData),this.node.destroy()},r([u],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../tool/GameBezier":"GameBezier","../tool/GameEvent":"GameEvent","../tool/GameUI":"GameUI"}],BackpackSkinDetails:[function(t,e,n){"use strict";cc._RF.push(e,"e01d2OAyHdInon80OfhP0e8","BackpackSkinDetails");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){},e.prototype.onLoad=function(){},r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],BackpackSkinItem:[function(t,e,n){"use strict";cc._RF.push(e,"7d0a9SrnaNB+b2rjsluDDWe","BackpackSkinItem");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/GameData"),s=t("../tool/GameEvent"),c=t("../tool/GameUI"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgKuang=null,e.skinSp=null,e.nameNode=null,e.nickName=null,e.priceLayout=null,e.useIcon=null,e.selectKuang=null,e.baseLayer=null,e}return o(e,t),e.prototype.init=function(t,e){var n=this;this.baseLayer=t,this.data=e,c.default.instance.loadSpriteFrame(this.bgKuang,"ui/backpack/"+e.Monkey_base[0],this.name),-1==e.Skin_id?(this.skinSp.node.active=!1,this.useIcon.active=!1):(c.default.instance.loadSpriteFrame(this.skinSp,"ui/backpack/"+e.Monkey_png,this.name),this.skinSp.node.active=!0,this.useIcon.active=a.default.instance.curWearSkinId==e.Skin_id,3==e.Skin_id?this.skinSp.node.x=-15:this.skinSp.node.x=-0),e.isUnlock?this.nameNode.active=!1:c.default.instance.loadSpriteFrame(this.nameNode.getComponent(cc.Sprite),"ui/backpack/"+e.Monkey_base[1],this.name,{callback:function(){cc.isValid(n.node)&&(n.nameNode.active=!0,n.nickName.string=n.getTipStr(e))}})},e.prototype.onLoad=function(){s.default.instance.addListener(s.default.ITEM_SELECTED,this.onItemSelected,this)},e.prototype.onDestroy=function(){s.default.instance.removeListener(s.default.ITEM_SELECTED,this.onItemSelected,this)},e.prototype.onBtnClick=function(){this.selectKuang.active||(-1!=this.data.Skin_id?s.default.instance.dispatchEvent(s.default.ITEM_SELECTED,this.data.Skin_id):c.default.instance.showTiShi("tishi/label2"))},e.prototype.onItemSelected=function(t){this.selectKuang.active=this.data.Skin_id==t},e.prototype.getTipStr=function(t){if(!t)return"";switch(t.Skin_type){case-1:return"???";case 1:break;case 2:return"Lv."+t.Unlock}},r([p(cc.Sprite)],e.prototype,"bgKuang",void 0),r([p(cc.Sprite)],e.prototype,"skinSp",void 0),r([p(cc.Node)],e.prototype,"nameNode",void 0),r([p(cc.Label)],e.prototype,"nickName",void 0),r([p(cc.Node)],e.prototype,"priceLayout",void 0),r([p(cc.Node)],e.prototype,"useIcon",void 0),r([p(cc.Node)],e.prototype,"selectKuang",void 0),r([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../tool/GameData":"GameData","../tool/GameEvent":"GameEvent","../tool/GameUI":"GameUI"}],BackpackTicketItem:[function(t,e,n){"use strict";cc._RF.push(e,"860941LvYBBHYd+nUMRlKqn","BackpackTicketItem");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/GameUI"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.describe=null,e}return o(e,t),e.prototype.init=function(t,e){this.data=e,a.default.instance.loadSpriteFrame(this.icon,"ui/common/"+e.Item_icon,this.name),this.describe.string=e.Item_description+" <color=#FFA438><size=26>"+100*e.Up+"%</size></color>"},e.prototype.onLoad=function(){},e.prototype.onBtnClick=function(){},r([l(cc.Sprite)],e.prototype,"icon",void 0),r([l(cc.RichText)],e.prototype,"describe",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../tool/GameUI":"GameUI"}],Backpack:[function(t,e,n){"use strict";cc._RF.push(e,"1ce2fg3FBNGhrY7NeiZ6+30","Backpack");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/BaseDialog"),s=t("../tool/GameAudio"),c=t("../tool/GameGlobal"),l=t("../tool/GameHttp"),u=t("../tool/GameUI"),p=t("../tool/List"),d=t("../tool/GameData"),h=t("../Table/GameTable"),f=t("../tool/GameUtils"),_=t("../tool/GameEvent"),y=h.default.data.Skin,m=h.default.data.Item,g=cc._decorator,v=g.ccclass,b=g.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skinNode=null,e.skinSpine=null,e.nickName=null,e.skinDescribe=null,e.useNode=null,e.btn_use=null,e.btn_ton=null,e.unlockTips=null,e.skinList=null,e.ticketList=null,e.noDataTips=null,e.bottomToggle=null,e.skinData=[],e.unlockSkinData=[],e.ticketData=[],e.curSelectSkinId=0,e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this.getBackpackData()},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.addEvent(),this.initWidget(),this.requestBackpack()},e.prototype.onDestroy=function(){t.prototype.destroy.call(this),this.removeEvent()},e.prototype.addEvent=function(){_.default.instance.addListener(_.default.ITEM_SELECTED,this.updateSkinDetails,this)},e.prototype.removeEvent=function(){_.default.instance.removeListener(_.default.ITEM_SELECTED,this.updateSkinDetails,this)},e.prototype.initWidget=function(){var t=this;this.scheduleOnce(function(){var e=-(t.bottomToggle.y+t.bottomToggle.height)-31+t.skinList.node.y;t.skinList.node.height=e,cc.find("view",t.skinList.node).height=e-40},1/60)},e.prototype.getBackpackData=function(){for(var t in this.skinData=[],y){var e=f.default.instance.clone(y[t]);this.skinData.push(e)}this.skinData.push({Skin_id:-1,Skin_type:-1,isUnlock:!1,Monkey_base:["Monkey_base_5","Monkey_base_5_1"]})},e.prototype.getTicketData=function(t){if(this.ticketData=[],t&&!(0>=t.length))for(var e=0;e<t.length;e++){var n=t[e];if(0===n.state){var i=m[n.id];i&&this.ticketData.push(i)}}},e.prototype.requestBackpack=function(){var t=this,e=c.default.httpPort.getBagData;l.default.instance.post(e,null,function(e){(e=JSON.parse(e))&&200===e.ret_code&&cc.isValid(t.node)&&(t.unlockSkinData=e.data.skins,t.skinList.numItems=t.skinData.length,_.default.instance.dispatchEvent(_.default.ITEM_SELECTED,d.default.instance.curWearSkinId),t.getTicketData(e.data.stageProps))},function(t){f.default.instance.log("caoyang",f.LOG_LEVEL.ERROR,t)})},e.prototype.checkSKinIsUnlock=function(t){if(0>=this.unlockSkinData.length)return!1;for(var e=!1,n=0;n<this.unlockSkinData.length;n++)if(t==this.unlockSkinData[n].skinId){e=!0;break}return e},e.prototype.updateSkinDetails=function(t){var e=this,n=y[t];if(n){this.skinNode.active=!0,this.curSelectSkinId=t,this.nickName.string=n.Skin_name,this.skinDescribe.string=n.Skin_description,u.default.instance.loadSpine(this.skinSpine,"spine/ui/pub_1-5/"+n.Backpack_spine+"/",n.Backpack_spine,this.name,{callback:function(){e.skinSpine&&cc.isValid(e.skinSpine.node)&&e.skinSpine.setAnimation(0,"loop_1",!0)}});var i=this.checkSKinIsUnlock(t);if(d.default.instance.curWearSkinId==t)this.useNode.active=!0,this.btn_use.active=!1,this.btn_ton.active=!1,this.unlockTips.node.active=!1;else if(this.useNode.active=!1,i)this.btn_ton.active=!1,this.unlockTips.node.active=!1,this.btn_use.active=!0;else switch(this.btn_use.active=!1,n.Skin_type){case 2:this.btn_ton.active=!1,u.default.instance.setLocalizedLabelText(this.unlockTips,"Backpack/SkinNode/unlockTips",n.Unlock_description),this.unlockTips.node.active=!0;break;case 3:this.btn_ton.active=!0,this.unlockTips.node.active=!1}}},e.prototype.onSkinListRenderEvent=function(t,e){var n=t.getComponent("BackpackSkinItem"),i=this.skinData[e];i.isUnlock=this.checkSKinIsUnlock(i.Skin_id),n.init(this,i)},e.prototype.onTicketListRenderEvent=function(t,e){var n=t.getComponent("BackpackTicketItem"),i=this.ticketData[e];n.init(this,i)},e.prototype.onBtnClick=function(t){switch(t.target.name){case"btn_use":this.requestUseSkin()}},e.prototype.requestUseSkin=function(){var t=this,e=c.default.httpPort.playersU,n={type:4,id:this.curSelectSkinId};l.default.instance.post(e,n,function(e){if((e=JSON.parse(e))&&200===e.ret_code&&e.data){var n=e.data.equiped;n&&(d.default.instance.updateDefaultData(n),t.skinList.updateAll(),_.default.instance.dispatchEvent(_.default.ITEM_SELECTED,t.curSelectSkinId))}},function(){})},e.prototype.onToggleEvent=function(t){s.default.instance.playEffect("dianji");var e=t.node.name;switch(this.skinNode.active=!1,this.ticketList.node.active=!1,this.noDataTips.active=!1,e){case"toggle1":this.ticketList.node.active=!0,this.ticketList.numItems=this.ticketData.length,this.noDataTips.active=0==this.ticketData.length;break;case"toggle2":this.skinNode.active=!0}},e.prototype.onBtnToken=function(){u.default.instance.showTiShi("tishi/label2")},e.prototype.onBtnClose=function(){this.node.destroy()},r([b(cc.Node)],e.prototype,"skinNode",void 0),r([b(sp.Skeleton)],e.prototype,"skinSpine",void 0),r([b(cc.Label)],e.prototype,"nickName",void 0),r([b(cc.Label)],e.prototype,"skinDescribe",void 0),r([b(cc.Node)],e.prototype,"useNode",void 0),r([b(cc.Node)],e.prototype,"btn_use",void 0),r([b(cc.Node)],e.prototype,"btn_ton",void 0),r([b(cc.Label)],e.prototype,"unlockTips",void 0),r([b(p.default)],e.prototype,"skinList",void 0),r([b(p.default)],e.prototype,"ticketList",void 0),r([b(cc.Node)],e.prototype,"noDataTips",void 0),r([b(cc.Node)],e.prototype,"bottomToggle",void 0),r([v],e)}(a.default);n.default=k,cc._RF.pop()},{"../Table/GameTable":"GameTable","../tool/BaseDialog":"BaseDialog","../tool/GameAudio":"GameAudio","../tool/GameData":"GameData","../tool/GameEvent":"GameEvent","../tool/GameGlobal":"GameGlobal","../tool/GameHttp":"GameHttp","../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils","../tool/List":"List"}],BaseDialog:[function(t,e,n){"use strict";cc._RF.push(e,"6739am+mxdCz43lUUlQ/6Mn","BaseDialog");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./GameUI"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._tsName="",e}return o(e,t),Object.defineProperty(e.prototype,"tsName",{get:function(){return this._tsName},set:function(t){this._tsName=t},enumerable:!1,configurable:!0}),e.prototype.preload=function(){},e.prototype.onLoad=function(){},e.prototype.resInitUI=function(){},e.prototype.start=function(){},e.prototype.init=function(){},e.prototype.onDestroy=function(){a.default.instance.releaseAssetBySys(this.name)},e.prototype.hide=function(){a.default.instance.releaseAssetBySys(this.name),this.node.parent=null,this.node.active=!1},e.prototype.show=function(){this.node.active=!0},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./GameUI":"GameUI"}],BindWallet:[function(t,e,n){"use strict";cc._RF.push(e,"0dedbbIbpBGUZUwhJDMjhqd","BindWallet");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../tool/BaseDialog"),l=t("../tool/GameEvent"),u=t("../tool/GameUI"),p=t("../tool/GameWeb"),d=cc._decorator,h=d.ccclass,f=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bindData=null,e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this.bindData=n},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),l.default.instance.addListener(l.default.BIND_WALLET_SUCCESS,this.requestBindCall,this)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),l.default.instance.removeListener(l.default.BIND_WALLET_SUCCESS,this.requestBindCall,this)},e.prototype.onBtnGo=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,p.default.instance.openModal()];case 1:return t.sent(),[2]}})})},e.prototype.requestBindCall=function(t){return a(this,void 0,void 0,function(){var e=this;return s(this,function(n){switch(n.label){case 0:return t&&t.walletInfo&&t.tonConnectUI?t.tonConnectUI.connected?[4,p.default.instance.requestLoginN(function(){return a(e,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return[4,p.default.instance.checkWalletBindStatus(function(e){return a(t,void 0,void 0,function(){var t=this;return s(this,function(n){switch(n.label){case 0:return e?[3,2]:[4,p.default.instance.requestBindT(function(e){return a(t,void 0,void 0,function(){var t=this;return s(this,function(n){switch(n.label){case 0:return e?[4,p.default.instance.requestAccout(function(e){e&&(u.default.instance.showTiShi("tishi/label4"),t.bindData&&t.bindData.bindCall&&t.bindData.bindCall(!0),t.onBtnClose())})]:[3,2];case 1:return n.sent(),[3,3];case 2:u.default.instance.showTiShi("tishi/label5"),this.bindData&&this.bindData.bindCall&&this.bindData.bindCall(!1),this.onBtnClose(),n.label=3;case 3:return[2]}})})})];case 1:return n.sent(),[3,3];case 2:p.default.instance.disconnect(),u.default.instance.showTiShi("tishi/label6"),this.bindData&&this.bindData.bindCall&&this.bindData.bindCall(!1),this.onBtnClose(),n.label=3;case 3:return[2]}})})})];case 1:return e.sent(),[2]}})})})]:"opened"==t.walletInfo.status?[2]:(u.default.instance.showTiShi("tishi/label5"),this.bindData&&this.bindData.bindCall&&this.bindData.bindCall(!1),[2]):[2];case 1:return n.sent(),[2]}})})},e.prototype.onBtnClose=function(){this.node.destroy()},r([h],e)}(c.default));n.default=f,cc._RF.pop()},{"../tool/BaseDialog":"BaseDialog","../tool/GameEvent":"GameEvent","../tool/GameUI":"GameUI","../tool/GameWeb":"GameWeb"}],ButtonEx:[function(t,e,n){"use strict";cc._RF.push(e,"a613bAaol9M2IS1rTyu6kn8","ButtonEx");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./GameAudio"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.inspector,p=s.executeInEditMode,d=s.menu,h=(s.help,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickSize=cc.rect(0,0),e.turnOffSound=!1,e.isCheckQuickClick=!0,e._quickClickDt=.5,e._isCanQuickClick=!0,e._isCanQuickClickEnd=!0,e.btnPressed=!1,e.btnRect=null,e.isCreateClickNode=!1,e}return o(e,t),e.prototype.onEnable=function(){this.setClickSize(),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),t.prototype.onEnable.call(this),this.btnPressed=!1,this._isCanQuickClick=!0,this._isCanQuickClickEnd=!0},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),t.prototype.onDisable.call(this)},e.prototype.onTouchStart=function(){this.interactable&&this.enabledInHierarchy&&(this.btnPressed=!0)},e.prototype._onTouchBegan=function(e){this.interactable&&this.enabledInHierarchy&&this.checkQuickClickBegan()&&(this.btnPressed=!0,t.prototype._onTouchBegan.call(this,e))},e.prototype.onTouchCancel=function(){this.interactable&&this.enabledInHierarchy&&(this.btnPressed=!1)},e.prototype.onTouchMove=function(t){if(this.interactable&&this.enabledInHierarchy){this.btnRect=this.node.getBoundingBox();var e=!0,n=this.node.parent.convertToNodeSpaceAR(t.getLocation());this.btnRect.contains(n)||(e=!1),this.btnPressed=e}},e.prototype._onTouchEnded=function(e){this.interactable&&this.enabledInHierarchy&&this.checkQuickClickEnd()&&(this.turnOffSound||a.default.instance.playEffect("dianji"),this.btnPressed=!1,t.prototype._onTouchEnded.call(this,e))},e.prototype.setClickSize=function(){var t=this.clickSize,e=this.node.getContentSize();if(!(t.width<=e.width||t.height<=e.height||this.isCreateClickNode)){if(this.node.getComponent(cc.Sprite)){var n=new cc.Node;n.name=this.node.name,n.width=e.width,n.height=e.height,n.addComponent(cc.Sprite),n.getComponent(cc.Sprite).spriteFrame=this.node.getComponent(cc.Sprite).spriteFrame,this.node.getComponent(cc.Sprite).enabled=!1,this.node.width=t.width,this.node.height=t.height,this.node.addChild(n)}else this.node.width=t.width,this.node.height=t.height;this.isCreateClickNode=!0}},e.prototype.checkQuickClickBegan=function(){var t=this;return!this.isCheckQuickClick||!!this._isCanQuickClick&&(this._isCanQuickClick=!1,this.scheduleOnce(function(){t._isCanQuickClick=!0},this._quickClickDt),!0)},e.prototype.checkQuickClickEnd=function(){var t=this;return!this.isCheckQuickClick||!!this._isCanQuickClickEnd&&(this._isCanQuickClickEnd=!1,this.scheduleOnce(function(){t._isCanQuickClickEnd=!0},this._quickClickDt),!0)},r([l()],e.prototype,"clickSize",void 0),r([l(cc.Boolean)],e.prototype,"turnOffSound",void 0),r([l(cc.Boolean)],e.prototype,"isCheckQuickClick",void 0),r([c,p,d("ButtonEx"),u("packages://custom-component/button/inspector.js")],e)}(cc.Button));n.default=h,cc._RF.pop()},{"./GameAudio":"GameAudio"}],CCMAudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"a78c84qpkFAfoM8RQmQxQjI","CCMAudioManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.CCMAudioManager=void 0;var i=function(){function t(){this.volume=1,this.bgmAudioID=-1,this.musicPlayCallback=new Map,this.effectPlayCallback=new Map}return Object.defineProperty(t,"Instance",{get:function(){return this.instance||(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.prototype.playMusic=function(t,e,n){var i=this;void 0===n&&(n=!0),n&&this.stopAllMusic(),this.play(t,e).then(function(t){i.musicPlayCallback.set(t,e),cc.audioEngine.setFinishCallback(t,function(){e&&(e.onComplete&&e.onComplete(),e.onEnd&&e.onEnd()),i.musicPlayCallback.delete(t)})}).catch(function(t){cc.error(t),e&&(e.onError&&e.onError(t),e.onEnd&&e.onEnd())})},t.prototype.pauseAllMusic=function(){this.musicPlayCallback.forEach(function(t,e){cc.audioEngine.pause(e),t.onPause&&t.onPause()})},t.prototype.resumeAllMusic=function(){this.musicPlayCallback.forEach(function(t,e){cc.audioEngine.resume(e),t.onResume&&t.onResume()})},t.prototype.stopAllMusic=function(){var t=this;this.musicPlayCallback.forEach(function(e,n){cc.audioEngine.stop(n),e.onStop&&e.onStop(),e.onEnd&&e.onEnd(),t.musicPlayCallback.delete(n)})},t.prototype.playEffect=function(t,e){var n=this;this.play(t,e).then(function(t){n.effectPlayCallback.set(t,e),cc.audioEngine.setFinishCallback(t,function(){e&&(e.onComplete&&e.onComplete(),e.onEnd&&e.onEnd()),n.effectPlayCallback.delete(t)})}).catch(function(t){cc.error(t),e&&(e.onError&&e.onError(t),e.onEnd&&e.onEnd())})},t.prototype.stopAllEffects=function(){var t=this;this.effectPlayCallback.forEach(function(e,n){cc.audioEngine.stop(n),e.onStop&&e.onStop(),e.onEnd&&e.onEnd(),t.effectPlayCallback.delete(n)})},t.prototype.playBGM=function(t,e){var n=this;(e=e||{}).loop=!0,this.stopBGM(),this.play(t,e).then(function(t){n.bgmAudioID=t}).catch(function(t){cc.error(t)})},t.prototype.pauseBGM=function(){this.bgmAudioID>=0&&cc.audioEngine.pause(this.bgmAudioID)},t.prototype.resumeBGM=function(){this.bgmAudioID>=0&&cc.audioEngine.resume(this.bgmAudioID)},t.prototype.stopBGM=function(){this.bgmAudioID>=0&&(cc.audioEngine.stop(this.bgmAudioID),this.bgmAudioID=-1)},t.prototype.stopAll=function(){this.musicPlayCallback.clear(),this.effectPlayCallback.clear(),cc.audioEngine.stopAll()},t.prototype.setVolume=function(t){this.volume=t},t.prototype.getClip=function(t){return new Promise(function(e,n){var i=t.indexOf(":")>-1;i||(t=t.substring(0,t.lastIndexOf(".")));var o=function(t,i){if(t)return cc.error(t),void n(t);e(i)};i?cc.assetManager.loadRemote(t,o):cc.resources.load(t,cc.AudioClip,o)})},t.prototype.play=function(t,e){var n=this;return new Promise(function(i,o){"string"==typeof t?n.getClip(t,e).then(function(t){i(n.playClip(t,e))}).catch(function(t){o(t)}):i(n.playClip(t,e))})},t.prototype.playClip=function(t,e){var n=e&&void 0!==e.volume?e.volume:this.volume,i=!(!e||void 0===e.loop)&&e.loop;return cc.audioEngine.play(t,i,n)},t}();n.CCMAudioManager=i,cc._RF.pop()},{}],CCMBinding:[function(t,e,n){"use strict";cc._RF.push(e,"88396uYlDlKdpiCzSL5nr8D","CCMBinding"),Object.defineProperty(n,"__esModule",{value:!0});var i=0,o=function(){function t(){this.DEFAULT_OPTIONS={timeout:60,hasCallback:!0,onProgress:void 0},this._options=this.DEFAULT_OPTIONS}return Object.defineProperty(t,"Instance",{get:function(){return this.instance||(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.withOptions=function(t){return this.Instance.withOptions(t)},t.callNativeMethod=function(t,e){return this.Instance.callNativeMethod(t,e)},t.prototype.withOptions=function(t){var e=Object.getPrototypeOf(this),n=Object.assign(Object.create(e),this);return n._options=Object.assign({},this.DEFAULT_OPTIONS,t),n},t.prototype.callNativeMethod=function(t,e){var n=this,o=this._options.hasCallback,r=this._options.onProgress;return new Promise(function(a,s){var c,l="",u="";if((o||r)&&(l="CCM_CB"+(new Date).getTime()+"_"+i++,u=l+"_p",c=setTimeout(function(){window[l]&&(n.clearCallback(l,-1,u),s({code:-3,msg:"delete cb name: "+l+",because of timeout"}))},1e3*n._options.timeout),window[l]=function(t){if(t){var e=t.code,i=t.msg,o=t.eCode,r=t.data;0==e?a(r):s({code:o,msg:i})}else s({code:-999,msg:"result is null"});n.clearCallback(l,c,u)},window[u]=function(t){if(n._options.onProgress&&t){var e=t.code,i=(t.msg,t.eCode,t.data);0==e&&n._options.onProgress(i)}}),cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID){var p=jsb.reflection.callStaticMethod("com/tencent/cocomat/binding/CCMBinding","execute","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)I",t,"object"==typeof e?JSON.stringify(e):"",l);if(0!==p){switch(p){case-1:s({code:-1,msg:t+" not found on Android platform"});break;case-2:s({code:-2,msg:"error! invalid parameters"});break;default:s({code:p,msg:"error! result code="+p})}o&&n.clearCallback(l,c,u)}}else cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS?jsb.reflection.callStaticMethod("CCMBinding","executeWithMethodName:args:callback:",t,"object"==typeof e?JSON.stringify(e):"",l):(s({code:-1,msg:"no implemented on this platform"}),n.clearCallback(l,c,u))})},t.prototype.clearCallback=function(t,e,n){void 0===e&&(e=-1),void 0===n&&(n=""),n&&""!=n&&delete window[n],t&&""!=t&&delete window[t],e>=0&&clearTimeout(e)},t}();n.default=o,cc._RF.pop()},{}],CCMImageCache:[function(t,e,n){"use strict";cc._RF.push(e,"172edOMN0ZGU4YdCSIdsBms","CCMImageCache"),Object.defineProperty(n,"__esModule",{value:!0}),n.ccmImageCache=void 0;var i="CCMImageCache",o=function(){function t(){this.loadedRes=[],this.cachedFileNames=[]}return t.prototype.getImage=function(t){for(var e=null,n=[],o=0;o<this.loadedRes.length;++o){var r=this.loadedRes[o];r.tex&&cc.isValid(r.tex)?r.key===t&&(e=r):(cc.loader.release(r.tex),cc.error(i,"the cached texture already destroyed"),n.push(r))}return this.trimCache(n),e?e.tex:null},t.prototype.saveTextureToMem=function(t,e,n,o,r,a){t&&e&&(-1==this.cachedFileNames.indexOf(t)?this.cachedFileNames.push(t):this.loadedRes=this.loadedRes.filter(function(e){var n=e.key!==t;return n||cc.error(i,"update Item:"+e),n}),this.loadedRes.push({tex:e,key:t,path:n,url:o,isRes:r}),cc.loader.setAutoReleaseRecursively(n,a))},t.prototype.trimCache=function(t){t&&0!=t.length&&(this.loadedRes=this.loadedRes.filter(function(e){var n=!t.includes(e);return n||cc.error(i,"remove:"+e),n}))},t}();n.ccmImageCache=new o,cc._RF.pop()},{}],CCMImageLoader:[function(t,e,n){"use strict";cc._RF.push(e,"def35v1mZhEt7KsyfMY3JIo","CCMImageLoader");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.CCMImageLoader=void 0;var r=cc.Texture2D,a=t("md5"),s=t("./CCMImageCache"),c=t("../CCMBinding/CCMBinding"),l=t("../CCMUtils"),u="CCMImageLoader",p={timeout:10,autoRelease:!0},d=function(){function t(){}return t.prototype.loadImg=function(t,e){var n=Object.assign({},p,e),i=n.target,o=n.timeout,r=a(t),c=s.ccmImageCache.getImage(r);return c&&cc.isValid(c)?Promise.resolve(c):t.startsWith("http")?this.loadWithTimeout(new h(new _,n.autoRelease).loadImg(t),i,o):this.loadWithTimeout(new h(new f,n.autoRelease).loadImg(t),i,o)},t.prototype.loadWithTimeout=function(t,e,n){var i=null;return Promise.race([new Promise(function(t,e){i=setTimeout(function(){e(new Error("LoadImageTimeout"))},1e3*n)}),t]).then(function(t){if(clearTimeout(i),e&&!cc.isValid(e))throw Error("target is invalid");if(t instanceof r)return t;throw cc.error(u,"result is not texture"),Error("result is not texture")}).catch(function(t){if(clearTimeout(i),cc.error(u,"err:["+t+"]"),!e||cc.isValid(e))throw t;throw Error("target is invalid")})},t}();n.CCMImageLoader=d;var h=function(){function t(t,e){this.imageloader=t,this.autoRelease=e}return t.prototype.loadImg=function(t){var e=this;return this.imageloader.loadImg(t).then(function(n){var i=a(t);return s.ccmImageCache.saveTextureToMem(i,n,t,t,e.imageloader instanceof f,e.autoRelease),n})},t}(),f=function(){function t(){}return t.prototype.loadImg=function(t){return new Promise(function(e,n){cc.resources.load(t,function(i,o){if(i||!o)return n("load local url failed\uff1a"+t+", err:"+i.name+": "+i.message);e(o)})})},t}(),_=function(){function t(){}return t.prototype.loadImg=function(t){return l.default.getInstance().isAndroid()?(new y).loadImg(t):l.default.getInstance().isIOS()?(new m).loadImg(t):new Promise(function(e,n){cc.assetManager.loadRemote(t,function(i,o){if(i||!o){var r="load remote url failed\uff1a"+t+", err:"+i.name+": "+i.message;return n(r)}e(o)})})},t}(),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.loadImg=function(t){return c.default.Instance.callNativeMethod("@downloadFile",{url:t}).then(function(t){var e=t.localPath;return new Promise(function(t,n){cc.assetManager.loadRemote(e,function(e,i){e?n(e):t(i)})})})},e}(_),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.loadImg=function(){return Promise.reject("not implemented yet")},e}(_);cc._RF.pop()},{"../CCMBinding/CCMBinding":"CCMBinding","../CCMUtils":"CCMUtils","./CCMImageCache":"CCMImageCache",md5:"md5"}],CCMLoader:[function(t,e,n){"use strict";cc._RF.push(e,"1e1aeG7e95Fm6KppbwNH84a","CCMLoader"),Object.defineProperty(n,"__esModule",{value:!0}),n.CCMLoader=void 0;var i=t("./CCMSpineLoader"),o=t("./CCMImageLoader"),r=function(){function t(){}return t.loadSpine=function(t,e){return(new i.default).loadSpine(t,e)},t.loadImage=function(t,e){return(new o.CCMImageLoader).loadImg(t,e)},t}();n.CCMLoader=r,cc._RF.pop()},{"./CCMImageLoader":"CCMImageLoader","./CCMSpineLoader":"CCMSpineLoader"}],CCMRouter:[function(t,e,n){"use strict";cc._RF.push(e,"0cac4WEByFBWavsOGLakGqf","CCMRouter"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./CCMBinding"),o=function(){function t(){this.methodMap=new Map}return t.callMethod=function(t,e){return this.Instance.callMethod(t,e)},t.registerMethod=function(t,e){return this.Instance.registerMethod(t,e)},t.unRegisterMethod=function(t){return this.Instance.unRegisterMethod(t)},Object.defineProperty(t,"Instance",{get:function(){return this.instance||(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.prototype.registerMethod=function(t,e){var n=this;this.methodMap.set(t,e),window["ccmbinding_router_"+t]=function(e){return n.callMethod(t,e).then().catch()}},t.prototype.unRegisterMethod=function(t){this.methodMap.delete(t),delete window["ccmbinding_router_"+t]},t.prototype.callMethod=function(t,e){var n=this.methodMap.get(t);if(n){var o=e.data,r=n.call(this,o);if(cc.sys.isNative&&"object"==typeof r)if(r instanceof Promise)r.then(function(t){var n=e["@nativeCallbackName"];i.default.withOptions({hasCallback:!1}).callNativeMethod(n,t).then(function(){}).catch(function(){})});else{var a=e["@nativeCallbackName"];i.default.withOptions({hasCallback:!1}).callNativeMethod(a,r).then(function(){}).catch(function(){})}return Promise.resolve(r)}return Promise.reject({code:-1,msg:t+" not register"})},t}();n.default=o,cc._RF.pop()},{"./CCMBinding":"CCMBinding"}],CCMSpineLoader:[function(t,e,n){"use strict";cc._RF.push(e,"0a82fZ9yUpBaIgg3eTu6zSB","CCMSpineLoader");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("./CCMZipLoader"),a=t("../CCMUtils"),s="CCMSpineLoader",c={timeout:10,autoRelease:!0},l=function(){function t(){}return t.prototype.loadSpine=function(t,e){var n=Object.assign({},c,e),i=n.target,o=n.timeout;return t.startsWith("http")?this.loadWithTimeout(new u(new d,n.autoRelease).loadSpine(t),i,o):this.loadWithTimeout(new u(new p,n.autoRelease).loadSpine(t),i,o)},t.prototype.loadWithTimeout=function(t,e,n){var i=null;return Promise.race([new Promise(function(t,e){i=setTimeout(function(){e(new Error("LoadSpineTimeout"))},1e3*n)}),t]).then(function(t){if(clearTimeout(i),e&&!cc.isValid(e))throw Error("target is invalid");if(t instanceof sp.SkeletonData)return t;throw cc.error(s,"result is not spine"),Error("result is not spine")}).catch(function(t){if(clearTimeout(i),cc.error(s,"err:["+t+"]"),!e||cc.isValid(e))throw t;throw Error("target is invalid")})},t}();n.default=l;var u=function(){function t(t,e){this.spineloader=t,this.autoRelease=e}return t.prototype.loadSpine=function(t){return this.spineloader.loadSpine(t).then(function(t){return t})},t}(),p=function(){function t(){}return t.prototype.loadSpine=function(t){return new Promise(function(e,n){cc.resources.load(t,sp.SkeletonData,function(i,o){if(i||!o)return n("load local url failed\uff1a"+t+", err:"+i.name+": "+i.message);e(o)})})},t}(),d=function(){function t(){}return t.prototype.loadSpine=function(t){return a.default.getInstance().isAndroid()?(new h).loadSpine(t):a.default.getInstance().isIOS()?(new f).loadSpine(t):new Promise(function(e,n){r.CCMZipLoader.load(t,!1).then(function(i){i.toSkeletonData().then(function(t){e(t)}).catch(function(e){var i="load remote url failed\uff1a"+t+", err:"+e.name+": "+e.message;return n(i)})})})},t}(),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.loadSpine=function(t){return r.CCMZipLoader.load(t,!0).then(function(e){return cc.error(s+"zip :",JSON.stringify(e)),e.toSkeletonData().then(function(t){return Promise.resolve(t)}).catch(function(e){var n="load remote url failed\uff1a"+t+", err:"+e.name+": "+e.message;return Promise.reject(n)})})},e}(d),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.loadSpine=function(t){return r.CCMZipLoader.load(t,!0).then(function(e){return cc.error(s+"zip :",JSON.stringify(e)),e.toSkeletonData().then(function(t){return Promise.resolve(t)}).catch(function(e){var n="load remote url failed\uff1a"+t+", err:"+e.name+": "+e.message;return Promise.reject(n)})})},e}(d);cc._RF.pop()},{"../CCMUtils":"CCMUtils","./CCMZipLoader":"CCMZipLoader"}],CCMUtils:[function(t,e,n){"use strict";cc._RF.push(e,"0b2571VWfpBBKeyf73Lfy25","CCMUtils"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this.clickTime={}}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.isQuickClick=function(t,e){return t||(t="normal"),this.clickTime||(this.clickTime={}),null==this.clickTime[t]&&(this.clickTime[t]=0),e||(e=500),(new Date).getTime()-this.clickTime[t]<e||(this.clickTime[t]=(new Date).getTime(),!1)},t.prototype.isPadScreen=function(){var t=cc.view.getVisibleSize().width,e=cc.view.getVisibleSize().height;return!(t>e&&t>=1.69*e||e>t&&e>=1.69*t)},t.prototype.isWxGame=function(){return cc.sys.platform===cc.sys.WECHAT_GAME},t.prototype.isAndroid=function(){return cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID},t.prototype.isIOS=function(){return cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS},t.prototype.isBrowser=function(){return cc.sys.isBrowser},t.prototype.key4property=function(t,e){if(t){for(var n=e.split("#"),i=0,o=n.length;i<o;i++)if(("object"!=typeof(t=t[n[i]])||null==t)&&i<o-1)return;return t}},t.TAG="CCMSceneManager",t}();n.default=i,cc._RF.pop()},{}],CCMZipLoader:[function(t,e,n){"use strict";cc._RF.push(e,"20993MIhGBLNJ5q81Lg6pqq","CCMZipLoader");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.CCMZipLoader=void 0;var r=t("../CCMBinding/CCMBinding"),a=t("jszip.min"),s="CCMZipLoader";cc.assetManager.downloader.register({".zip":cc.assetManager.downloader._downloaders[".bin"]});var c=function(){function t(t){this.url=t,this.filelist=[]}return Object.defineProperty(t.prototype,"loader",{get:function(){return this.url.startsWith("http")?cc.assetManager.loadRemote.bind(cc.assetManager):cc.resources.load.bind(cc.resources)},enumerable:!1,configurable:!0}),t.prototype.load=function(){this.url||cc.error(s,"zip url is empty")},t.prototype.file=function(){throw new Error('need overwrite "file" method')},t.prototype.spriteFrame=function(t){var e=this;return new Promise(function(n,i){e.file(t).then(function(t){n(new cc.SpriteFrame(t))}).catch(i)})},t.prototype.toSkeletonData=function(){var t=this;return new Promise(function(e,n){var i=t.filelist.find(function(t){return t.endsWith(".json")}),o=t.filelist.find(function(t){return t.endsWith(".atlas")});o||(o=t.filelist.find(function(t){return t.endsWith(".txt")}));var r=t.filelist.filter(function(t){return t.endsWith(".png")}),a="";if(i?o?0==r.length&&(a="texture not found."):a="atlas or txt file not found.":a="json file not found.",a)return cc.error(s,a+t.filelist.join(", ")),void n(a);Promise.all([t.file(i),t.file(o),t.file(r)]).then(function(n){var o=n[0],a=n[1],s=n[2],c=new sp.SkeletonData;c.loaded=!0,c._objFlags=0,c._name=i,c._native=t.url+"/"+i,c.skeletonJson=o,c._atlasText=a,c.textures=s,c._uuid=t.url,c.textureNames=r.map(function(t){return t.split("/").pop()}),setTimeout(function(){e(c)},10)}).catch(n)})},t.prototype.dump=function(){},t}(),l=function(t){function e(e){var n=t.call(this,e)||this;return n.items={},n}return o(e,t),e.prototype.load=function(){var e=this;return t.prototype.load.call(this),new Promise(function(t,n){e.loader(e.url,function(i,o){o?(o=o instanceof cc.Asset?o._nativeAsset:o,e.unzip(o).then(t.bind(null,e)).catch(n)):i&&n(JSON.stringify(i))})})},e.prototype.file=function(t){var e=this;if(t instanceof Array){var n=[];return t.forEach(function(t){return n.push(e.items[t])}),Promise.resolve(n)}return Promise.resolve(this.items[t])},e.prototype.unzip=function(t){var e=this,n=new a;return new Promise(function(i,o){n.loadAsync(t).then(function(t){for(var n=[],r=0,a=Object.keys(t.files);r<a.length;r++){var c=a[r];if(!c.startsWith("__MACOS")&&!c.endsWith("/")){e.filelist.push(c);var l=c.split(".").pop(),u=t.file(c);switch(l){case"json":case"atlas":case"txt":n.push(e.loadText(u));break;case"png":case"jpg":n.push(e.loadImage(u));break;case"mp3":n.push(e.loadAudio(u));break;case"zip":n.push(e.loadZip(u));break;default:cc.error(s,"unsupport file type: "+c)}}}Promise.all(n).then(i).catch(o)}).catch(function(t){o(t)})})},e.prototype.loadText=function(t){var e=this;return new Promise(function(n,i){t.async("text").then(function(i){var o=i.replace(",]","]");e.items[t.name]=o,n(o)}).catch(i)})},e.prototype.loadImage=function(t){var e=this;return new Promise(function(n,i){t.async("base64").then(function(i){var o=new Image;o.src="data:image/png;base64,"+i;var r=new cc.Texture2D;r.initWithElement(o),e.items[t.name]=r,n(r)}).catch(i)})},e.prototype.loadAudio=function(t){var e=this;return new Promise(function(n,i){t.async("arraybuffer").then(function(i){cc.sys.__audioSupport.context.decodeAudioData(i,function(i){var o=new cc.AudioClip;o._nativeAsset=i,o._setRawAsset(t.name,!1),o.url=t.name,e.items[t.name]=o,n(o)})}).catch(i)})},e.prototype.loadZip=function(t){var e=this;return new Promise(function(n,i){t.async("uint8array").then(function(t){e.unzip(t).then(n).catch(i)}).catch(i)})},e}(c),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.load=function(){var t=this;return r.default.Instance.callNativeMethod("@downloadZipFile",{url:this.url}).then(function(e){var n=e.files;return t.filelist=n,Promise.resolve(t)})},e.prototype.file=function(t){var e=this;if(t instanceof Array){var n=[];return t.forEach(function(i){return n.push(new Promise(function(n,o){cc.assetManager.loadRemote(i,function(i,r){r?n(e.getAssetContent(t,r)):o(i)})}))}),Promise.all(n)}return new Promise(function(n,i){cc.assetManager.loadRemote(t,function(o,r){r?n(e.getAssetContent(t,r)):i(o)})})},e.prototype.getAssetContent=function(t,e){if(e)switch(cc.path.extname(t)){case".atlas":return e.text;case".json":return e.json}return e},e}(c),p=function(){function t(){}return t.load=function(t,e){return(e?new u(t):new l(t)).load()},t}();n.CCMZipLoader=p,cc._RF.pop()},{"../CCMBinding/CCMBinding":"CCMBinding","jszip.min":"jszip.min"}],ConnectWallet:[function(t,e,n){"use strict";cc._RF.push(e,"95901e4fWlMf6kFr5WQhp9N","ConnectWallet");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../tool/BaseDialog"),l=t("../tool/GameEvent"),u=t("../tool/GameUI"),p=t("../tool/GameWeb"),d=cc._decorator,h=d.ccclass,f=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bindData=null,e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this.bindData=n},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),l.default.instance.addListener(l.default.BIND_WALLET_SUCCESS,this.requestBindCall,this)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),l.default.instance.removeListener(l.default.BIND_WALLET_SUCCESS,this.requestBindCall,this)},e.prototype.onBtnConnect=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,p.default.instance.openModal()];case 1:return t.sent(),[2]}})})},e.prototype.requestBindCall=function(t){return a(this,void 0,void 0,function(){var e=this;return s(this,function(n){switch(n.label){case 0:return t&&t.walletInfo&&t.tonConnectUI?t.tonConnectUI.connected?[4,p.default.instance.requestLoginN(function(){return a(e,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return[4,p.default.instance.checkWalletBindStatus(function(e){return a(t,void 0,void 0,function(){var t=this;return s(this,function(n){switch(n.label){case 0:return e?[3,2]:[4,p.default.instance.requestBindT(function(e){return a(t,void 0,void 0,function(){var t=this;return s(this,function(n){switch(n.label){case 0:return e?[4,p.default.instance.requestAccout(function(e){e&&(u.default.instance.showTiShi("tishi/label4"),t.bindData&&t.bindData.bindCall&&t.bindData.bindCall(!0),t.close())})]:[3,2];case 1:return n.sent(),[3,3];case 2:u.default.instance.showTiShi("tishi/label5"),this.bindData&&this.bindData.bindCall&&this.bindData.bindCall(!1),this.close(),n.label=3;case 3:return[2]}})})})];case 1:return n.sent(),[3,3];case 2:p.default.instance.disconnect(),u.default.instance.showTiShi("tishi/label6"),this.bindData&&this.bindData.bindCall&&this.bindData.bindCall(!1),this.close(),n.label=3;case 3:return[2]}})})})];case 1:return e.sent(),[2]}})})})]:"opened"==t.walletInfo.status?[2]:(u.default.instance.showTiShi("tishi/label5"),this.bindData&&this.bindData.bindCall&&this.bindData.bindCall(!1),[2]):[2];case 1:return n.sent(),[2]}})})},e.prototype.onBtnClose=function(){this.close(),l.default.instance.dispatchEvent(l.default.UPDATE_TOGGLE_PAGE)},e.prototype.close=function(){this.node.destroy()},r([h],e)}(c.default));n.default=f,cc._RF.pop()},{"../tool/BaseDialog":"BaseDialog","../tool/GameEvent":"GameEvent","../tool/GameUI":"GameUI","../tool/GameWeb":"GameWeb"}],Earnings:[function(t,e,n){"use strict";cc._RF.push(e,"b9df9xFfXBHrrB8RFrl59sb","Earnings");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/BaseDialog"),s=t("../tool/GameData"),c=t("../tool/GameUI"),l=t("../tool/GameUtils"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hourNode=null,e.offlineNode=null,e.offlineNum=null,e.goldNode=null,e.goldNum=null,e.offlineMoney=0,e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this.data=n},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.updateUI()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.updateUI=function(){if(1==this.data.type)this.offlineNode.active=!1,this.goldNode.active=!1,this.playAnim(this.hourNode);else if(2==this.data.type){this.hourNode.active=!1,this.goldNode.active=!1;var t=Math.floor(this.data.offlineTime/1e3);this.offlineMoney=t*s.default.instance.moneyData.onlineNum,this.offlineNum.string="+"+l.default.instance.getShowDiamond(this.offlineMoney),this.playAnim(this.offlineNode)}else 3==this.data.type&&(this.offlineNode.active=!1,this.hourNode.active=!1,this.goldNum.string=s.default.instance.pledgeData.pledgeNum+"/H",this.playAnim(this.goldNode),s.default.instance.isOpenAccelerate=!0,s.default.instance.saveData())},e.prototype.onBtnExcavate=function(){this.onBtnClose()},e.prototype.onBtnGet=function(){c.default.instance.addFlyEffectEx(this.offlineNum.node,1,5),s.default.instance.updateMoneyData({type:3,offlineTime:this.data.offlineTime}),s.default.instance.updateOfflineTime(),this.node.destroy()},e.prototype.onBtnSpeedUp=function(){cc.find("Canvas",cc.director.getScene()).getComponent("Main").onBtnClock({target:{name:"goldPointNode"}}),this.onBtnClose()},e.prototype.onBtnClose=function(){2!=this.data.type?this.node.destroy():this.onBtnGet()},e.prototype.playAnim=function(t){cc.isValid(t)&&(t.setPosition(cc.v2(0,-t.height)),t.active=!0,cc.tween(t).to(.3,{position:cc.v3(0,0,0)}).start())},r([d(cc.Node)],e.prototype,"hourNode",void 0),r([d(cc.Node)],e.prototype,"offlineNode",void 0),r([d(cc.Label)],e.prototype,"offlineNum",void 0),r([d(cc.Node)],e.prototype,"goldNode",void 0),r([d(cc.Label)],e.prototype,"goldNum",void 0),r([p],e)}(a.default);n.default=h,cc._RF.pop()},{"../tool/BaseDialog":"BaseDialog","../tool/GameData":"GameData","../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils"}],FlyEffectItem:[function(t,e,n){"use strict";cc._RF.push(e,"b5778NsKnNA3amlDi1g3cTE","FlyEffectItem");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item_1=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t){switch(this.item_1.active=!1,t){case 0:this.item_1.active=!0}},r([c(cc.Node)],e.prototype,"item_1",void 0),r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],FlyEffect:[function(t,e,n){"use strict";cc._RF.push(e,"6dc55g6R6tCbZyg926ShRh7","FlyEffect");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./tool/PoolManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.random1=-100,e.random2=100,e.createcoin=15,e.createTime=.05,e.standingTime=.08,e.coinSpeed=1e3,e.coinNode=null,e}return o(e,t),e.prototype.init=function(t,e){this.baseLayer=t,this.data=e},e.prototype.onPlayConiAni=function(t,e,n,i,o){var r=this;void 0===i&&(i=this.createcoin);var s=this.node.convertToNodeSpaceAR(e);this.coinNode=n;var c=i;this.schedule(function(){var e=a.PoolManager.instance.get("FlyEffectItem");if(e){e.parent=r.node,e.setPosition(s);var n=e.getPosition(),i=Math.floor(800*Math.random()),l=e.x+i,u=e.y-600,p=r.coinNode.getPosition(),d=[n,cc.v2(l,u),p];0!==t&&1!==t&&2!==t&&3!==t||(p=r.coinNode.parent.convertToWorldSpaceAR(p),p=r.node.convertToNodeSpaceAR(p),d=[n,cc.v2(l,u),p]),e.getComponent("FlyEffectItem").init(t);var h=cc.bezierTo(1,d),f=cc.scaleTo(.02,1.5);c--,r.playFlyAnim(h,f,e,c,o)}},.03,i)},e.prototype.playFlyAnim=function(t,e,n,i,o){var r=cc.callFunc(function(){a.PoolManager.instance.put(n),i<=0&&o&&o()},this);cc.tween(n).then(cc.sequence(t,e,r)).start()},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./tool/PoolManager":"PoolManager"}],GMTest:[function(t,e,n){"use strict";cc._RF.push(e,"0127cjLeBxCu4TcSvbdz1e0","GMTest");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./tool/BaseDialog"),s=t("./tool/GameData"),c=t("./tool/GameGlobal"),l=t("./tool/GameHttp"),u=t("./tool/GameUI"),p=t("./tool/GameUtils"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userId=null,e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.userId.string=s.default.instance.userId},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.onBtnClock=function(t){switch(t.target.name){case"btn_close":this.close();break;case"btn_login":var e=c.default.httpPort.login;l.default.instance.post(e,{id:s.default.instance.userId},function(t){p.default.instance.log("yangrui",p.LOG_LEVEL.INFO,"login-------\x3e",JSON.parse(t))},function(){});break;case"btn_timer":e=c.default.httpPort.timer,l.default.instance.get(e,function(t){p.default.instance.log("yangrui",p.LOG_LEVEL.INFO,"timer-------\x3e",JSON.parse(t))},function(){});break;case"btn_scoreA":e=c.default.httpPort.scoreA,l.default.instance.post(e,{type:1,normalClick:2,criticalClick:2,onlineTime:2,offlineTime:0,powers:998},function(t){p.default.instance.log("yangrui",p.LOG_LEVEL.INFO,"scoreA-------\x3e",JSON.parse(t))},function(){});break;case"btn_inviteList":e=c.default.httpPort.inviteList,l.default.instance.post(e,{},function(t){p.default.instance.log("yangrui",p.LOG_LEVEL.INFO,"inviteList-------\x3e",JSON.parse(t))},function(){});break;case"btn_playersU":e=c.default.httpPort.playersU,l.default.instance.post(e,{type:4,id:1},function(t){p.default.instance.log("yangrui",p.LOG_LEVEL.INFO,"playersU-------\x3e",JSON.parse(t))},function(){});break;case"btn_ranking":e=c.default.httpPort.ranking,l.default.instance.post(e,{},function(t){p.default.instance.log("yangrui",p.LOG_LEVEL.INFO,"ranking-------\x3e",JSON.parse(t))},function(){});break;case"btn_getAirBox":e=c.default.httpPort.getAirBox,l.default.instance.post(e,{},function(t){p.default.instance.log("yangrui",p.LOG_LEVEL.INFO,"getAirBox-------\x3e",JSON.parse(t))},function(){});break;case"btn_getBagData":e=c.default.httpPort.getBagData,l.default.instance.post(e,{},function(t){p.default.instance.log("yangrui",p.LOG_LEVEL.INFO,"getBagData-------\x3e",JSON.parse(t))},function(){});break;case"btn_getTasks":e=c.default.httpPort.getTasks,l.default.instance.post(e,{},function(t){p.default.instance.log("yangrui",p.LOG_LEVEL.INFO,"getTasks-------\x3e",JSON.parse(t))},function(){});break;case"btn_obtainTask":e=c.default.httpPort.obtainTask,l.default.instance.post(e,{},function(t){p.default.instance.log("yangrui",p.LOG_LEVEL.INFO,"obtainTask-------\x3e",JSON.parse(t))},function(){});break;case"btn_clearCache":u.default.instance.loadScene("Login",function(){s.default.cleanAll()});break;case"btn_addScore":var n=s.default.instance.moneyData;n.normalClick=1e4,n.criticalClick=1e4,n.onlineTime=1e4,s.default.instance.requestMoneyData();break;case"btn_addAnger":s.default.instance.updateAngerData(!0,s.default.instance.angerData.totalNum)}},e.prototype.close=function(){this.node.destroy()},r([f(cc.Label)],e.prototype,"userId",void 0),r([h],e)}(a.default);n.default=_,cc._RF.pop()},{"./tool/BaseDialog":"BaseDialog","./tool/GameData":"GameData","./tool/GameGlobal":"GameGlobal","./tool/GameHttp":"GameHttp","./tool/GameUI":"GameUI","./tool/GameUtils":"GameUtils"}],GameAudio:[function(t,e,n){"use strict";cc._RF.push(e,"4070ab0gCRJ+bds/KiEFdra","GameAudio"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./ccm/CCMAudioManager/CCMAudioManager"),o=t("./GameStore"),r=t("./GameUtils"),a=t("./GameUI"),s=function(){function t(){this._sound=[],this._effects={},this._effectClips={},this._musicPlaying=!1,this._musicPlayFinish=null,this._enableEffect=!1,this._enableMusic=!1,this._enableVerb=!1,this._bgMusicFile=[],this._bgEffectFile=[],this._curMusicFile=null}return Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new t,this._instance.init(),this._instance)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bgMusicFile",{get:function(){var t=this._bgMusicFile;return 0===t.length?null:t[t.length-1].voiceUrl},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.initEnableMusic(),this.initEnableEffect(),this.initEnableVerb(),this._bgMusicFile=[],this._curMusicFile=null},t.prototype.preload=function(t){var e=this;this._sound=t;var n=function(t){var n="voice/"+i._sound[t];a.default.instance.loadResource(n,cc.AudioClip,function(t,i){t||(e._effectClips[n]=i)})},i=this;for(var o in this._sound)n(o)},t.prototype.music=function(t,e){void 0===e&&(e=!1);var n=this._sound[t];this.playMusic(n,e)},t.prototype.playMusic=function(t,e,n){var i=this;if(void 0===e&&(e=!1),cc.audioEngine.stopMusic(),this._musicPlaying=!1,null==o.default.instance.get(o.default.instance.STORE_TYPE.MUSIC)||void 0===o.default.instance.get(o.default.instance.STORE_TYPE.MUSIC)?this._enableMusic=!0:this._enableMusic=o.default.instance.get(o.default.instance.STORE_TYPE.MUSIC),this._enableMusic){var r=cc.assetManager.utils.normalize(t);r.startsWith("voice")||(r="voice/"+t);var s=this.getMusicVolume();cc.audioEngine.setMusicVolume(+s),a.default.instance.loadResource(r,cc.AudioClip,function(t,o){if(!t){var r=cc.audioEngine.playMusic(o,e);n&&n(r),i._musicPlaying=!0}})}},t.prototype.stopMusic=function(t){void 0===t&&(t=!0),t&&(this._bgMusicFile=[]),cc.audioEngine.stopMusic(),this._musicPlaying=!1},t.prototype.stopResumeMusic=function(){if(this._musicPlaying&&(cc.audioEngine.stopMusic(),this._musicPlaying=!1,this._bgMusicFile.splice(this._bgMusicFile.length-1,1)),0<this._bgMusicFile.length){var t=this._bgMusicFile[this._bgMusicFile.length-1];return this._curMusicFile=t.voiceUrl,this.playMusic(t.voiceUrl,!0),!0}return!1},t.prototype.pauseMusic=function(){cc.audioEngine.pauseMusic()},t.prototype.resumeMusic=function(){cc.audioEngine.resumeMusic()},t.prototype.getMusicVolume=function(){var t=o.default.instance.get(o.default.instance.STORE_TYPE.MUSICE_VOLUME);return null==t&&(t=.7,this.setMusicVolume(t)),+t},t.prototype.setMusicVolume=function(t){t=cc.misc.clamp01(t),cc.audioEngine.setMusicVolume(t),o.default.instance.put(o.default.instance.STORE_TYPE.MUSICE_VOLUME,t)},t.prototype.isMusicPlaying=function(){return cc.audioEngine.isMusicPlaying()},t.prototype.playEffectByIndex=function(t,e,n,i){var o=this._sound[t];this.playEffect(o,e,n,i)},t.prototype.playEffect=function(t,e,n,s,c){var l=this;if(void 0===e&&(e=!1),void 0===s&&(s=!0),void 0===c&&(c=1),!(1===c&&0===this.getEffectsVolume()||2===c&&0===this.getVoiceVolume())){var u=1===c?this.getEffectsVolume():this.getVoiceVolume();cc.audioEngine.setEffectsVolume(u),i.CCMAudioManager.Instance.setVolume(u),null==o.default.instance.get(o.default.instance.STORE_TYPE.VOICE)||void 0===o.default.instance.get(o.default.instance.STORE_TYPE.VOICE)?this._enableEffect=!0:this._enableEffect=o.default.instance.get(o.default.instance.STORE_TYPE.VOICE);var p=t;if((t=cc.assetManager.utils.normalize(t)).startsWith("voice")||(t="voice/"+t),this._enableEffect)if(s)i.CCMAudioManager.Instance.playEffect(t+".mp3");else{this._effects[t]&&cc.audioEngine.stopEffect(this._effects[t]);var d=this._effectClips[t];if(d){var h=cc.audioEngine.playEffect(d,e);1!=e||n?(n=n||t,this._effects[n]=h):this._effects[""+h]=p,cc.audioEngine.setFinishCallback(this._effects[n],function(){e||(l._effects[n]=null)})}else a.default.instance.loadResource(t,cc.AudioClip,function(i,o){if(i)r.default.instance.log("caoyang",r.LOG_LEVEL.ERROR,""+i);else{l._effectClips[t]=o;var a=cc.audioEngine.playEffect(o,e);1!=e||n?(n=n||t,l._effects[n]=a):l._effects[""+a]=p,cc.audioEngine.setFinishCallback(l._effects[n],function(){e||(l._effects[n]=null)})}})}}},t.prototype.getEffectsVolume=function(){var t=o.default.instance.get(o.default.instance.STORE_TYPE.EFFECTS_VOLUME);return t||0==t?+t:1},t.prototype.setEffectsVolume=function(t){t=cc.misc.clamp01(t),o.default.instance.put(o.default.instance.STORE_TYPE.EFFECTS_VOLUME,t)},t.prototype.getVoiceVolume=function(){var t=o.default.instance.get(o.default.instance.STORE_TYPE.VOICE_VOLUME);return t||0==t?+t:1},t.prototype.setVoiceVolume=function(t){t=cc.misc.clamp01(t),o.default.instance.put(o.default.instance.STORE_TYPE.VOICE_VOLUME,t)},t.prototype.pauseEffect=function(t){(t=cc.assetManager.utils.normalize(t)).startsWith("voice")||(t="voice/"+t);var e=this._effects[t];e?cc.audioEngine.pauseEffect(e):cc.error("\u97f3\u6548\u6587\u4ef6\u4e0d\u5b58\u5728! \u5730\u5740: "+t)},t.prototype.pauseAllEffects=function(){cc.audioEngine.pauseAllEffects()},t.prototype.resumeEffect=function(t){(t=cc.assetManager.utils.normalize(t)).startsWith("voice")||(t="voice/"+t);var e=this._effects[t];e?cc.audioEngine.resumeEffect(e):cc.error("\u97f3\u6548\u6587\u4ef6\u4e0d\u5b58\u5728! \u5730\u5740: "+t)},t.prototype.resumeAllEffects=function(){cc.audioEngine.resumeAllEffects()},t.prototype.stopEffect=function(t,e,n){var i=null,o=t;if(!0!==n||e)e?(i=this._effects[e],this._effects[e]=null):((t=cc.assetManager.utils.normalize(t)).startsWith("voice")||(t="voice/"+t),i=this._effects[t],this._effects[t]=null),null!=i&&cc.audioEngine.stopEffect(i);else for(var r in this._effects)Object.hasOwnProperty.call(this._effects,r)&&this._effects[r]==o&&(cc.audioEngine.stopEffect(parseInt(r)),this._effects[r]=null)},t.prototype.stopAllEffects=function(){cc.audioEngine.stopAllEffects()},t.prototype.uncache=function(t){t.startsWith("voice")||(t="voice/"+t);var e=this._effectClips[t];e||cc.audioEngine.uncache(e)},t.prototype.uncacheAll=function(){cc.audioEngine.uncacheAll()},t.prototype.enableEffect=function(t){this._enableEffect=t,o.default.instance.put(o.default.instance.STORE_TYPE.VOICE,t),o.default.instance.put(o.default.instance.STORE_TYPE.EFFECTS_VOLUME,t?1:0)},t.prototype.initEnableEffect=function(){var t=o.default.instance.get(o.default.instance.STORE_TYPE.VOICE);null==t&&(o.default.instance.put(o.default.instance.STORE_TYPE.VOICE,!0),t=!0),this._enableEffect=t},t.prototype.isEnableEffect=function(){return this._enableEffect},t.prototype.enableMusic=function(t){this._enableMusic=t,o.default.instance.put(o.default.instance.STORE_TYPE.MUSIC,t),t?this._bgMusicFile.length>0&&this.playMusic(this._bgMusicFile[this._bgMusicFile.length-1],!0):this.stopMusic()},t.prototype.initEnableMusic=function(){var t=o.default.instance.get(o.default.instance.STORE_TYPE.MUSIC);null==t&&(o.default.instance.put(o.default.instance.STORE_TYPE.MUSIC,!0),t=!0),this._enableMusic=t},t.prototype.isEnableMusic=function(){return this._enableMusic},t.prototype.enableVerb=function(t){this._enableVerb=t,o.default.instance.put(o.default.instance.STORE_TYPE.VERB,t)},t.prototype.initEnableVerb=function(){var t=o.default.instance.get(o.default.instance.STORE_TYPE.VERB);null==t&&(o.default.instance.put(o.default.instance.STORE_TYPE.VERB,!0),t=!0),this._enableVerb=t},t.prototype.isEnableVerb=function(){return this._enableVerb},t}();n.default=s,cc._RF.pop()},{"./GameStore":"GameStore","./GameUI":"GameUI","./GameUtils":"GameUtils","./ccm/CCMAudioManager/CCMAudioManager":"CCMAudioManager"}],GameBezier:[function(t,e,n){"use strict";cc._RF.push(e,"46c53C0tFBIC4jqU+EJJ3iC","GameBezier"),Object.defineProperty(n,"__esModule",{value:!0}),n.BezierData=void 0;n.BezierData=function(){};var i=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new t,this._instance)},enumerable:!1,configurable:!0}),t.prototype.runBezierAct=function(t,e,n){if(!(n.length<=0)){for(var i=cc.tween(),o=0;o<n.length;++o)i.bezierTo(e,n[o].c1,n[o].c2,n[o].endPos);t.setPosition(n[0].startPos),i.clone(t).start()}},t.prototype.runUniformBezierAct=function(t,e,n,i){if(!(n.length<=0)){for(var o=cc.tween(),r=[],a=0;a<n.length;++a){var s=[n[a].startPos,n[a].c1,n[a].c2,n[a].endPos];r=r.concat(this._caculateBezierPoint(s))}var c=this._caculateBezierLength(r)/e;for(a=1;a<r.length;++a){var l=cc.v2(r[a].x-r[a-1].x,r[a].y-r[a-1].y).len();if(l>0){var u=l/c;o.to(u,{position:r[a]})}}t.setPosition(r[0]),o.call(function(){i&&i()}),o.clone(t).start()}},t.prototype._caculateBezierPoint=function(t){for(var e=[],n=0;n<=1;n+=1/300){var i=this._caculateBezierP(t,n);e.push(i)}return e},t.prototype._caculateBezierLength=function(t){for(var e=0,n=1;n<t.length;++n)e+=cc.v2(t[n].x-t[n-1].x,t[n].y-t[n-1].y).len();return e},t.prototype._caculateBezierP=function(t,e){var n=cc.v2();return n.x=Math.floor(Math.pow(1-e,3)*t[0].x+3*e*Math.pow(1-e,2)*t[1].x+3*Math.pow(e,2)*(1-e)*t[2].x+Math.pow(e,3)*t[3].x),n.y=Math.floor(Math.pow(1-e,3)*t[0].y+3*e*Math.pow(1-e,2)*t[1].y+3*Math.pow(e,2)*(1-e)*t[2].y+Math.pow(e,3)*t[3].y),n},t}();n.default=i,cc._RF.pop()},{}],GameCfgInterface:[function(t,e,n){"use strict";cc._RF.push(e,"79208wyeD1B65qdhj6oL3It","GameCfgInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],GameData:[function(t,e,n){"use strict";cc._RF.push(e,"fbe1d4MmRRDx7oy/qvk8Mmv","GameData");var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.MONEY_GET_CHANNEL=void 0;var r=t("./GameEvent"),a=t("./GameGlobal"),s=t("./GameHttp"),c=t("./GameStore"),l=t("./GameUtils"),u=t("../Table/GameTable"),p=t("./GamePublic"),d=t("./GameWeb"),h=u.default.data.MonkeyExp,f=u.default.data.Onlinepoints,_=u.default.data.TapPoints,y=u.default.data.Leaderboard;n.MONEY_GET_CHANNEL={CLICK_ONLINE:1,OFFLINE:2,TASK:3,BIND_WALLET:8,INVITE_FRIEND:12,GM:13};var m=function(){function t(){this.accessToken="",this.userId="",this.photoUrl="",this.openId="",this.nickName="",this.myInviteCode="",this.tonAddress="",this.serverTime=0,this.moneyData={serverTotal:0,serverNum:0,normalClick:0,criticalClick:0,onlineTime:0,clickNum:1,onlineNum:1},this.angerData={totalNum:2e3,curNum:2e3,recoverNum:4,consumeNum:4,refreshTime:0},this.pledgeData={goldNum:0,pledgeNum:0},this.isShowPledgeRule=!0,this.offlineTime=0,this.curWearSkinId=1,this.airBoxData=null,this.isOpenAccelerate=!1}return Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.prototype.load=function(){var t=c.default.instance.get(c.default.instance.STORE_TYPE.GAME_PLAYER_DATA);if(l.default.instance.log("caoyang",l.LOG_LEVEL.INFO,"load ----------------- ",t),t)for(var e in t)this[e]=t[e]},t.prototype.saveData=function(){var t={accessToken:this.accessToken,userId:this.userId,offlineTime:this.offlineTime,isOpenAccelerate:this.isOpenAccelerate,tonAddress:this.tonAddress,isShowPledgeRule:this.isShowPledgeRule};c.default.instance.put(c.default.instance.STORE_TYPE.GAME_PLAYER_DATA,t)},t.cleanAll=function(){c.default.instance.removeAll(),t._instance=new t,p.default.cleanAll()},t.prototype.updateDefaultData=function(t){if(t&&!(0>=t.length)){for(var e=0;e<t.length;e++)switch(t[e].type){case 1:this.curWearSkinId=t[e].id}r.default.instance.dispatchEvent(r.default.UPDATE_WEAR_SKIN)}},t.prototype.updateMoneyData=function(t){if(t&&t.type){switch(t.type){case 1:t.isCritical?this.moneyData.criticalClick++:this.moneyData.normalClick++;break;case 2:this.moneyData.onlineTime+=t.onlineTime;break;case 3:this.requestMoneyData(n.MONEY_GET_CHANNEL.OFFLINE,t.offlineTime)}r.default.instance.dispatchEvent(r.default.UPDATE_MONEY_DATA)}},t.prototype.updateClickMoneyData=function(){var t=this.getCurLevel(),e=_[t];e&&(this.moneyData.clickNum=e.Tap_points)},t.prototype.getClickMoney=function(t){return void 0===t&&(t=!1),this.moneyData.clickNum*(t?2:1)},t.prototype.getTotalMoneyNum=function(){var t=this.moneyData,e=t.normalClick*this.getClickMoney(!1),n=t.criticalClick*this.getClickMoney(!0),i=t.onlineTime*t.onlineNum;return t.serverNum+e+n+i},t.prototype.requestMoneyData=function(t,e){var i=this;void 0===t&&(t=1);var o=this.moneyData.normalClick,c=this.moneyData.criticalClick,u=this.moneyData.onlineTime,p=a.default.httpPort.scoreA,d={type:t,powers:this.angerData.curNum,powersRefreshTime:this.angerData.refreshTime};switch(t){case n.MONEY_GET_CHANNEL.CLICK_ONLINE:d.normalClick=o,d.criticalClick=c,d.onlineTime=u;break;case n.MONEY_GET_CHANNEL.OFFLINE:d.offlineTime=e}s.default.instance.post(p,d,function(e){if((e=JSON.parse(e))&&200===e.ret_code){var a=l.default.instance.clone(i.moneyData.serverTotal);switch(i.moneyData.serverTotal=e.data.scoreSum,i.moneyData.serverNum=e.data.score,t){case n.MONEY_GET_CHANNEL.CLICK_ONLINE:i.moneyData.normalClick=Math.max(0,i.moneyData.normalClick-o),i.moneyData.criticalClick=Math.max(0,i.moneyData.criticalClick-c),i.moneyData.onlineTime=Math.max(0,i.moneyData.onlineTime-u);break;case n.MONEY_GET_CHANNEL.OFFLINE:}r.default.instance.dispatchEvent(r.default.UPDATE_MONEY_DATA),i.checkIsLevelUp(a,e.data.equiped),i.checkAirDrop(e.data)}},function(t){l.default.instance.log("caoyang",l.LOG_LEVEL.ERROR,t)})},t.prototype.updateAngerData=function(t,e){if(t){var n=this.angerData.refreshTime,i=this.serverTime,o=Math.floor((i-n)/1e3);this.angerData.curNum+=e||o*this.angerData.recoverNum,this.angerData.curNum=Math.min(this.angerData.totalNum,this.angerData.curNum)}else this.angerData.curNum-=this.angerData.consumeNum,this.angerData.curNum=Math.max(0,this.angerData.curNum);this.angerData.refreshTime=this.serverTime,r.default.instance.dispatchEvent(r.default.UPDATE_ANGER_DATA)},t.prototype.updateOfflineTime=function(){this.offlineTime=this.serverTime,this.saveData()},t.prototype.getOfflineTime=function(t){void 0===t&&(t=0);var e=this.serverTime-this.offlineTime;if(e<=0)return 0;var n=e/1e3;switch(t){case 0:return e;case 1:return Math.floor(n);case 2:return Math.floor(n/60);case 3:return Math.floor(n/60/60);case 4:return Math.floor(n/60/60/24)}},t.prototype.checkIsLevelUp=function(t,e){var n=this.getCurLevel(t);this.getCurLevel()<=n||(r.default.instance.dispatchEvent(r.default.LEVEL_UP),this.updateOnlineMoney(),this.updateClickMoneyData(),this.updateDefaultData(e))},t.prototype.getCurLevel=function(t){var e=t||this.moneyData.serverTotal,n=1;for(var i in h){var o=h[i];if(-1==o.Up_points||o.Up_points>=e){n=o.Exp_id;break}}return n},t.prototype.getMaxLevel=function(){var t=Object.keys(h);return+t[t.length-1]},t.prototype.getUpLvMoney=function(){var t=this.getCurLevel(),e=h[t].Up_points;return e<0&&(e=this.moneyData.serverTotal),e},t.prototype.updateOnlineMoney=function(){var t=this.getCurLevel(),e=f[t];e&&(this.moneyData.onlineNum=e.Onlinepoints)},t.prototype.checkAirDrop=function(t){if(t&&t.airbox&&!p.default.instance.isHavaAirBox){var e=t.airbox;0===e.state&&(this.airBoxData=e,r.default.instance.dispatchEvent(r.default.AIR_BOX_APPEAR,e))}},t.prototype.getCurRankData=function(t){var e=this.getCurLevel(t),n=null;for(var i in y){var o=y[i];if(o.Goal>=e){n=o;break}}if(!n){var r=Object.keys(y),a=r.length-1;n=y[r[a]]}return n},t.prototype.requestPledgeData=function(t,e){return i(this,void 0,void 0,function(){var n=this;return o(this,function(r){switch(r.label){case 0:return d.default.instance.checkConnected()?[4,d.default.instance.requestLoginN(function(){return i(n,void 0,void 0,function(){var n,i,r=this;return o(this,function(o){switch(o.label){case 0:return[4,d.default.instance.getAccount()];case 1:return(n=o.sent()).token=d.default.instance.nn.access_token_N,1==t?(i=a.default.httpPort.assetList,s.default.instance.post(i,n,function(t){if((t=JSON.parse(t))&&200===t.ret_code){var n=t.data.data;if(n&&!(0>=n.length)){for(var i=0;i<n.length;i++){var o=n[i];switch(o.assetType){case 3:r.pledgeData.goldNum=o.quantity;break;case 4:r.pledgeData.pledgeNum=o.quantity}}e&&e()}}},function(t){l.default.instance.log("caoyang",l.LOG_LEVEL.ERROR,t)})):(i=a.default.httpPort.getAsset,n.assetType=t,s.default.instance.post(i,n,function(t){(t=JSON.parse(t))&&200===t.ret_code&&(r.pledgeData.goldNum=t.data.quantity?t.data.quantity:0,e&&e())},function(t){l.default.instance.log("caoyang",l.LOG_LEVEL.ERROR,t)})),[2]}})})})]:(this.pledgeData.goldNum=0,this.pledgeData.pledgeNum=0,e&&e(),[2]);case 1:return r.sent(),[2]}})})},t._instance=new t,t}();n.default=m,cc._RF.pop()},{"../Table/GameTable":"GameTable","./GameEvent":"GameEvent","./GameGlobal":"GameGlobal","./GameHttp":"GameHttp","./GamePublic":"GamePublic","./GameStore":"GameStore","./GameUtils":"GameUtils","./GameWeb":"GameWeb"}],GameEvent:[function(t,e,n){"use strict";cc._RF.push(e,"3db56j70cNOgIMH3ETXLf57","GameEvent");var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator.ccclass,r=function(){this.callback=null,this.target=null,this.once=!1},a=function(){this.eventName="",this.callbacks=[]},s=function(){function t(){this._listenerMap={},this._eventList=[],this._listener=function(t,e,n,i){var o=new r;if(e instanceof Function?o.callback=e:cc.error("event callback not a function"),n?o.target=n:cc.error("global event is not have target"),o.once=i,this._eventList.length>0)for(var s=0;s<this._eventList.length;s++){if(this._eventList[s].eventName===t)return void this._eventList[s].callbacks.push(o);if(s===this._eventList.length-1){var c=new a;return void 0!==t?c.eventName=t:cc.error("event name is null"),c.callbacks.push(o),void this._eventList.push(c)}}else c=new a,void 0!==t?c.eventName=t:cc.error("event name is null"),c.callbacks.push(o),this._eventList.push(c)},this.addListener=function(t,e,n){this._listener(t,e,n,!1)},this.addOnceListener=function(t,e,n){this._listener(t,e,n,!0)},this.removeListener=function(t,e,n){for(var i=0;i<this._eventList.length;i++)if(this._eventList[i].eventName===t)for(var o=0;o<this._eventList[i].callbacks.length;o++)this._eventList[i].callbacks[o].target===n&&this._eventList[i].callbacks.splice(o,1)},this.removeAllListener=function(t){for(var e=0;e<this._eventList.length;e++)this._eventList[e].eventName===t&&this._eventList.splice(e,1)},this.dispatchEvent=function(t,e){void 0===e&&(e=null);for(var n=0;n<this._eventList.length;n++)if(this._eventList[n].eventName===t){for(var i=this._eventList[n].callbacks.length-1;i>=0;i--){var o=this._eventList[n].callbacks[i].callback,r=this._eventList[n].callbacks[i].target;o.call(r,e),this._eventList[n].callbacks[i]&&this._eventList[n].callbacks[i].once&&this._eventList[n].callbacks.splice(i,1)}return}}}var e;return e=t,Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.UI_NETWORK_ERROR="UI_NETWORK_ERROR",t.TIMER_HALF_S_UPDATE="TIMER_HALF_S_UPDATE",t.TIMER_S_UPDATE="TIMER_S_UPDATE",t.TIMER_M_UPDATE="TIMER_M_UPDATE",t.MAIN_GUIDE_COMPLETE="MAIN_GUIDE_COMPLETE",t.UPDATE_MONEY_DATA="UPDATE_MONEY_DATA",t.UPDATE_ANGER_DATA="UPDATE_ANGER_DATA",t.UPDATE_WEAR_SKIN="UPDATE_WEAR_SKIN",t.GAME_OFFLINE_EARNINGS="GAME_OFFLINE_EARNINGS",t.LEVEL_UP="LEVEL_UP",t.UPDATE_TOGGLE_PAGE="UPDATE_TOGGLE_PAGE",t.ITEM_SELECTED="ITEM_SELECTED",t.AIR_BOX_APPEAR="AIR_BOX_APPEAR",t.MAIN_AIR_BOX_ACTIVE="MAIN_AIR_BOX_ACTIVE",t.BIND_WALLET_SUCCESS="BIND_WALLET_SUCCESS",t._instance=new e,i([o],t)}();n.default=s,cc._RF.pop()},{}],GameGlobal:[function(t,e,n){"use strict";cc._RF.push(e,"25853XDGCdHWpHqmQ6J33w/","GameGlobal"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){switch(t.PUBLISH_CHANNEL){case 1:t.HTTP_URL="http://192.168.31.139:1380/";break;case 2:t.HTTP_URL="https://test.memepet.io/1380/",t.BASE_URL="https://test.memepet.io/";break;case 3:t.HTTP_URL="https://www.uptongame.xyz/1380/",t.BASE_URL="https://www.uptongame.xyz/"}}return Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.version="0.1.0.41",t.DEBUG=!0,t.curLogLevel=1,t.lauguageType=2,t.PUBLISH_CHANNEL=2,t.HTTP_URL="http://localhost:1380/",t.BASE_URL="https://test.memepet.io/",t._instance=new t,t.httpPort={default:t.HTTP_URL+"",timer:t.HTTP_URL+"timer",login:t.HTTP_URL+"login",scoreA:t.HTTP_URL+"scoreA",inviteList:t.HTTP_URL+"inviteList",playersU:t.HTTP_URL+"playersU",ranking:t.HTTP_URL+"ranking",getRankingData:t.HTTP_URL+"getRankingData",getAirBox:t.HTTP_URL+"getAirBox",getBagData:t.HTTP_URL+"getBagData",getTasks:t.HTTP_URL+"getTasks",obtainTask:t.HTTP_URL+"obtainTask",loginN:t.HTTP_URL+"loginN",loginT:t.HTTP_URL+"loginT",bindT:t.HTTP_URL+"bindT",accountT:t.HTTP_URL+"accountT",assetList:t.HTTP_URL+"assetList",getAsset:t.HTTP_URL+"getAsset",checkWallet:t.HTTP_URL+"checkWallet"},t}();n.default=i,cc._RF.pop()},{}],GameHttp:[function(t,e,n){"use strict";cc._RF.push(e,"0bc69n7IrlAbb4AqHc2YegY","GameHttp");var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator.ccclass,r=t("./GameUI"),a=t("./GameGlobal"),s=t("./GameUtils"),c=t("./GameData"),l=function(){function t(){}var e;return e=t,Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.prototype.get=function(t,e,n){this._sendRequest(t,null,!1,e,n)},t.prototype.getByArraybuffer=function(t,e,n){this._sendRequest(t,null,!1,e,n,"arraybuffer")},t.prototype.getWithParams=function(t,e,n,i){this._sendRequest(t,e,!1,n,i)},t.prototype.getWithParamsByArraybuffer=function(t,e,n,i){this._sendRequest(t,e,!1,n,i,"arraybuffer")},t.prototype.post=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=!1),this._sendRequest(t,e,!0,n,i,o,r)},t.prototype._getParamString=function(t){var e="";for(var n in t)e+=n+"="+t[n]+"&";return e.substr(0,e.length-1)},t.prototype._sendRequest=function(t,n,i,o,l,u,p){var d;if(void 0===u&&(u=null),void 0===p&&(p=!1),null!==t&&""!==t)if(d=n?t+"?"+this._getParamString(n):t,s.default.instance.log("John",s.LOG_LEVEL.INFO,"_sendRequest newUrl:"+d),p||!e.urls[d]){e.urls[d]=!0;var h=new XMLHttpRequest;i?h.open("POST",t):h.open("GET",d),"arraybuffer"===u&&(h.responseType=u),h.setRequestHeader("Content-Type","application/json"),h.setRequestHeader("Accept","application/json"),h.setRequestHeader("encoding","simple"),h.setRequestHeader("authorization",c.default.instance.accessToken),h.setRequestHeader("version",a.default.version),h.onerror=function(){delete e.urls[d],l&&(1===h.readyState&&0===h.status?l("NO_NETWORK"):l("UNKNOWN_ERROR"))},h.onreadystatechange=function(){var t=this;4===h.readyState&&(delete e.urls[d],4===h.readyState&&200===h.status?o&&("arraybuffer"===u?(o(h.response),s.default.instance.log("Caoyang",s.LOG_LEVEL.INFO,"response:",JSON.parse(h.response))):(o(h.responseText),s.default.instance.log("Caoyang",s.LOG_LEVEL.INFO,"responseText:",JSON.parse(h.responseText)))):(l&&l(h.status),401===h.status?(s.default.instance.log("caoyang",s.LOG_LEVEL.ERROR,"Login authentication failure"),r.default.instance.loadScene("Login",function(){r.default.instance.showDialog("ui/login/LoginOffline","LoginOffline",t,!1,{type:2})})):402===h.status&&(s.default.instance.log("caoyang",s.LOG_LEVEL.ERROR,"You have logged in to another device"),r.default.instance.loadScene("Login",function(){r.default.instance.showDialog("ui/login/LoginOffline","LoginOffline",t,!1,{type:1})}))))},null===n||""===n?h.send():h.send(JSON.stringify(n))}else s.default.instance.log("John",s.LOG_LEVEL.INFO,"_sendRequest error+"+t)},t.urls={},t._instance=new e,e=i([o],t)}();n.default=l,cc._RF.pop()},{"./GameData":"GameData","./GameGlobal":"GameGlobal","./GameUI":"GameUI","./GameUtils":"GameUtils"}],GameMainGuide:[function(t,e,n){"use strict";cc._RF.push(e,"7d5d90MUEhHbK5eKTOimljk","GameMainGuide"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("../tool/GameUI"),o=t("../Table/GameTable"),r=t("../tool/GameEvent"),a=o.default.data.Guide,s=function(){function t(){this.mainGuideData=null,this.guidePopuUpdate=null,this.guidePopuClose=null}return Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new t,this._instance)},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.initMainGuide()},t.prototype.initMainGuide=function(){this.mainGuideData||(this.mainGuideData={mainGuideId:1}),this.fixMainGuide(),this.showMainGuide()},t.prototype.fixMainGuide=function(){},t.prototype.showMainGuide=function(t){this.mainGuideData.mainGuideId=t||this.mainGuideData.mainGuideId,cc.find("Canvas").getChildByName("guideMainPopu")||a[this.mainGuideData.mainGuideId].ID&&i.default.instance.showDialog("ui/guide/guideMain","GuideMain",this,null,this.mainGuideData.mainGuideId,i.DIALOG_Z_INDEX.GUID_DIALOG)},t.prototype.completeMainGuide=function(t){t=t||this.mainGuideData.mainGuideId;var e=a[t];e.ID&&(this.mainGuideData.mainGuideId=e.NextId)},t.prototype.checkMainGuide=function(t){var e=this.mainGuideData.mainGuideId,n=a[e];n.ID&&t===n.BtnName&&(this.completeMainGuide(e),1===n.AutoNext?this.guidePopuUpdate&&this.guidePopuUpdate(this.mainGuideData.mainGuideId):this.guidePopuClose&&this.guidePopuClose())},t.prototype.checkMainGuideComplete=function(){return!a[this.mainGuideData.mainGuideId].ID},t.prototype.jumpGuide=function(){var t=this.getFinalGuideId(this.mainGuideData.mainGuideId);this.mainGuideData.mainGuideId=t,r.default.instance.dispatchEvent(r.default.MAIN_GUIDE_COMPLETE)},t.prototype.getFinalGuideId=function(t){var e=a[t].NextId;return a[e].ID?this.getFinalGuideId(e):e},t.prototype.getTopTipsPosY=function(){return 460},t}();n.default=s,cc._RF.pop()},{"../Table/GameTable":"GameTable","../tool/GameEvent":"GameEvent","../tool/GameUI":"GameUI"}],GamePublic:[function(t,e,n){"use strict";cc._RF.push(e,"ccc8fhhUGZLvrsLzLUpZf5j","GamePublic"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this._isHavaAirBox=!1,this._isKickToLogin=!1}return Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new t,this._instance)},enumerable:!1,configurable:!0}),t.cleanAll=function(){this._instance=new t},Object.defineProperty(t.prototype,"isHavaAirBox",{get:function(){return this._isHavaAirBox},set:function(t){this._isHavaAirBox=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isKickToLogin",{get:function(){return this._isKickToLogin},set:function(t){this._isKickToLogin=t},enumerable:!1,configurable:!0}),t}();n.default=i,cc._RF.pop()},{}],GameStore:[function(t,e,n){"use strict";cc._RF.push(e,"4db16C9EcVPCoL7ckmUU03u","GameStore"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this.STORE_TYPE={DEVICE_ID:"DEVICE_ID",MUSIC:"MUSIC",MUSICE_VOLUME:"MUSICE_VOLUME",VOICE:"VOICE",EFFECTS_VOLUME:"EFFECTS_VOLUME",VERB:"VERB",GAME_PLAYER_DATA:"GAME_PLAYER_DATA"}}return Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new t,this._instance)},enumerable:!1,configurable:!0}),t.cleanAll=function(){var e=t.instance;e.remove(e.STORE_TYPE.GAME_PLAYER_DATA)},t.prototype.put=function(t,e){null!==e&&this.setItem(t,e)},t.prototype.get=function(t){return this.getItem(t)},t.prototype.setItem=function(t,e){if(null!==e){var n=JSON.stringify(e);n=this.compileStr(n),cc.sys.localStorage.setItem(t,n)}},t.prototype.getItem=function(t){var e=cc.sys.localStorage.getItem(t);if(null===e)return null;try{return e=this.uncompileStr(e),JSON.parse(e)}catch(n){return null}},t.prototype.remove=function(t){cc.sys.localStorage.removeItem(t)},t.prototype.removeAll=function(){cc.sys.localStorage.clear()},t.prototype.compileStr=function(t){for(var e=String.fromCharCode(t.charCodeAt(0)+t.length),n=1;n<t.length;n++)e+=String.fromCharCode(t.charCodeAt(n)+t.charCodeAt(n-1));return escape(e)},t.prototype.uncompileStr=function(t){t=unescape(t);for(var e=String.fromCharCode(t.charCodeAt(0)-t.length),n=1;n<t.length;n++)e+=String.fromCharCode(t.charCodeAt(n)-e.charCodeAt(n-1));return e},t}();n.default=i,cc._RF.pop()},{}],GameTable:[function(t,e,n){"use strict";cc._RF.push(e,"a647c5/KehGtJyJAMyVlxrv","GameTable"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./TB_Guide"),o=t("./TB_Item"),r=t("./TB_Leaderboard"),a=t("./TB_MonkeyExp"),s=t("./TB_Onlinepoints"),c=t("./TB_Skin"),l=t("./TB_TapPoints"),u=t("./TB_WelfareTask"),p=t("./i18n/TB_LanguageSprite"),d=t("./i18n/TB_LanguageText"),h=function(){function t(){}return t.data={Guide:i.default,Item:o.default,Leaderboard:r.default,MonkeyExp:a.default,Onlinepoints:s.default,Skin:c.default,TapPoints:l.default,WelfareTask:u.default,LanguageSprite:p.default,LanguageText:d.default},t}();n.default=h,cc._RF.pop()},{"./TB_Guide":"TB_Guide","./TB_Item":"TB_Item","./TB_Leaderboard":"TB_Leaderboard","./TB_MonkeyExp":"TB_MonkeyExp","./TB_Onlinepoints":"TB_Onlinepoints","./TB_Skin":"TB_Skin","./TB_TapPoints":"TB_TapPoints","./TB_WelfareTask":"TB_WelfareTask","./i18n/TB_LanguageSprite":"TB_LanguageSprite","./i18n/TB_LanguageText":"TB_LanguageText"}],GameUI:[function(t,e,n){"use strict";cc._RF.push(e,"b4d675TsdFPEptRGfHCuMSJ","GameUI");var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.PRELOAD_TYPE=n.DIALOG_Z_INDEX=void 0;var r,a=t("./ButtonEx"),s=t("./GameGlobal"),c=t("./GameUtils"),l=t("../Table/GameTable").default.data.LanguageText,u=t("./PoolManager"),p=t("./GameAudio"),d=t("./GamePublic");n.DIALOG_Z_INDEX={DEFAULT:999,GUIDE:cc.macro.MAX_ZINDEX-1,GUID_DIALOG:cc.macro.MAX_ZINDEX,TI_SHI:cc.macro.MAX_ZINDEX},function(t){t[t.SPRITE_FRAME=1]="SPRITE_FRAME",t[t.SPINE=2]="SPINE",t[t.DIALOG=3]="DIALOG",t[t.CLIP=4]="CLIP",t[t.PREFAB=5]="PREFAB",t[t.AUDIO=6]="AUDIO"}(r=n.PRELOAD_TYPE||(n.PRELOAD_TYPE={}));var h=cc.assetManager;h.saveCurMap=function(){return h.assetsBackup=new Map,h.assets.forEach(function(t,e){h.assetsBackup.set(e,t)}),h.assetsBackup.size},h.logMapDiff=function(){var t=h.assets,e=h.assetsBackup,n=[];t.forEach(function(t,i){e.has(i)||n.push(i)});for(var i=new Map,o=0;o<n.length;o++){var r=n[o];i.set(r,t.get(r))}c.default.instance.log("caoyang",c.LOG_LEVEL.DEBUG,"diffArr map:",i)},cc.Tween.prototype.speed=function(t){t<0||!this._finalAction||(this._finalAction._speedMethod=!0,this._finalAction._speed=t)};var f=function(){function t(){this._dialogMap=new Map,this._clipMap=new Map,this._prefabMap=new Map,this._audioMap=new Map,this._assetMap=new Map,this._zIndex=0,this._curParent=null,this.maxProceNum=6,this.loadingToast=null}return Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.clean=function(){t._instance._dialogMap.clear(),t._instance._clipMap.clear(),t._instance._prefabMap.clear(),t._instance._audioMap.clear()},t.prototype.addClickEvent=function(t,e,n,i,o){var r=new cc.Component.EventHandler;r.target=e,r.component=n,r.handler=i,o&&(r.customEventData=o.toString());var a=t.getComponent("ButtonEx");a?a.clickEvents.push(r):c.default.instance.log("caoyang",c.LOG_LEVEL.ERROR,"\u8282\u70b9:"+t.name+"\u7f3a\u5c11ButtonEx\u7ec4\u4ef6")},t.prototype.removeClickEvent=function(t){var e=t.getComponent("ButtonEx");e?e.clickEvents=[]:c.default.instance.log("caoyang",c.LOG_LEVEL.ERROR,"\u8282\u70b9:"+t.name+"\u7f3a\u5c11ButtonEx\u7ec4\u4ef6")},t.prototype.addAssetRef=function(){},t.prototype.releaseAssetBySys=function(){},t.prototype.addPrefabRef=function(t,e){if(t)for(var n=t._uuid,i=cc.assetManager.dependUtil.getDepsRecursively(n),o=0;o<i.length;o++){var r=i[o],a=cc.assetManager.assets.get(r);this.addAssetRef(a,e)}},t.prototype.releasePrefab=function(t){if(t)for(var e=t._uuid,n=cc.assetManager.dependUtil.getDepsRecursively(e),i=0;i<n.length;i++){var o=n[i],r=cc.assetManager.assets.get(o);r&&r.decRef&&r instanceof cc.Texture2D&&r.packable}},t.prototype.addSceneRef=function(t,e){var n=cc.director.getScene();if(n&&n.uuid&&n.name==t){var i=cc.assetManager.dependUtil.getDepsRecursively(n.uuid);if(i&&!(i.length<=0))for(var o=0;o<i.length;o++){var r=i[o],a=cc.assetManager.assets.get(r);this.addAssetRef(a,e)}}},t.prototype.addTiledMapRef=function(t,e){if(t)for(var n=t._uuid,i=cc.assetManager.dependUtil.getDepsRecursively(n),o=0;o<i.length;o++){var r=i[o],a=cc.assetManager.assets.get(r);this.addAssetRef(a,e)}},t.prototype.releaseTiledMap=function(t){if(t)for(var e=t._uuid,n=cc.assetManager.dependUtil.getDepsRecursively(e),i=0;i<n.length;i++){var o=n[i],r=cc.assetManager.assets.get(o);r&&r.decRef&&r instanceof cc.Texture2D&&r.packable}},t.prototype.preload=function(t,e,n){for(var i=t.length,o=0,r=void 0,a="",s=0;s<t.length;s++)a=t[s][0],r=t[s][1],this.preloadRes(a,r,e,function(){if(++o===i)return n(!0,100);n&&n(!1,o/i*100)})},t.prototype.preloadRes=function(t,e,n,i,o){var a=this,s=void 0,l=void 0;switch(e){case r.SPRITE_FRAME:l=cc.SpriteFrame;break;case r.SPINE:l=sp.SkeletonData;break;case r.DIALOG:s=this._dialogMap,l=cc.Prefab;break;case r.CLIP:s=this._clipMap,l=cc.AnimationClip;break;case r.PREFAB:s=this._prefabMap,l=cc.Prefab;break;case r.AUDIO:s=this._audioMap,l=cc.AudioClip}s&&s.get(t)?i&&i():this.loadResource(t,l,function(l,u){if(l)return c.default.instance.log("caoyang GameUI preloadRes",c.LOG_LEVEL.ERROR,"preload res error! path: "+t+", error: ",l),void(u&&cc.Prefab);if(a.addAssetRef(u,n),e==r.DIALOG&&u instanceof cc.Prefab){var p=cc.instantiate(u);if(s&&s.set(t,p),o){var d=p.getComponent(o);d&&d.preload&&d.preload()}}else e===r.PREFAB?s&&s.set(t,u._uuid):s&&s.set(t,u);i&&i()})},t.prototype.showTiShi=function(t,e){void 0===e&&(e=60);var i={text:t,initY:e};this.showDialog("public/PopTiShi","PopTiShi",this,!1,i,n.DIALOG_Z_INDEX.TI_SHI)},t.prototype.showDialog=function(t,e,i,o,r,a,s,c){if(void 0===i&&(i=null),void 0===o&&(o=!1),void 0===r&&(r=null),void 0===a&&(a=n.DIALOG_Z_INDEX.DEFAULT),void 0===s&&(s=!0),void 0===c&&(c=!0),"login"!=this.getScenseName()){var l="prefab/"+t,u=this._dialogMap.get(l);u&&u.isValid?(this.showCacheDialog(u,e,i,r,a,s,c),r&&r.loadCall&&r.loadCall()):this.loadDialog(l,e,i,o,r,a,s,c)}},t.prototype.getScenseName=function(){if(cc.director.getScene())return cc.director.getScene().name},t.prototype.hideDialog=function(t,e){var n="prefab/"+t,i=this._dialogMap.get(n);if(i&&i.isValid){var o=i.getComponent(e);o&&o.hide&&o.node.active?o.hide():(i.parent=null,i.active=!1)}else{var r=cc.find("uiLayer",cc.director.getScene().getChildByName("Canvas"));if(r||(r=cc.director.getScene().getChildByName("Canvas")),!r)return;var a=t.split("/"),s=a[a.length-1],c=cc.find(s,r);if(!c)return;c.parent=null,c.destroy()}},t.prototype.loadDialog=function(t,e,n,i,o,r,a,s){var l=this;void 0===a&&(a=!0),void 0===s&&(s=!0),this.showLoading(!0,t),this.loadResource(t,cc.Prefab,function(u,p){if(u)return c.default.instance.log("caoyang GameUI loadDialog",c.LOG_LEVEL.ERROR,"load dialog prefab error! path: "+t+", error: ",u),void l.showLoading(!1,t);var d=cc.instantiate(p);l.showCacheDialog(d,e,n,o,r,a,s),i&&l._dialogMap.set(t,d),l.showLoading(!1,t),o&&o.loadCall&&o.loadCall()})},t.prototype.showCacheDialog=function(t,e,n,i,o,r,a){void 0===r&&(r=!0),void 0===a&&(a=!0),t.parent=null;var s="",l=cc.director.getScene();if(l){var u=cc.find("Canvas",l),p=null;if((p=i&&i.childParent?i.childParent:cc.find("uiLayer",u))||(p=u),r&&p.getChildByName(t.name)){var d=p.getChildByName(t.name),h=d.getComponent(e);return h&&(s=h.name,h.tsName=e,h.init&&h.init(n,i),h.preload&&h.preload(),h.resInitUI&&h.resInitUI()),a?d.zIndex=o:(d.zIndex=o+this._zIndex,this._zIndex=this._zIndex+1),s}var f=t.getComponent(e);if(f)return s=f.name,f.tsName=e,f.init&&f.init(n,i),f.preload&&f.preload(),a?p.addChild(t,o):(p.addChild(t,o+this._zIndex),this._zIndex=this._zIndex+1),f.show&&f.show(n,i),c.default.instance.log("caoyang",c.LOG_LEVEL.DEBUG,"dialog name: "+t.name),s}},t.AdaptWidget=function(t){var e=t.getComponent(cc.Widget);e||((e=t.addComponent(cc.Widget)).isAlignLeft=!0,e.isAlignRight=!0,e.isAlignTop=!0,e.isAlignBottom=!0,e.top=0,e.bottom=0,e.left=0,e.bottom=0,e.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE,e.updateAlignment())},t.prototype.loadPrefab=function(t,e,i,o,r,a){var s=this,l=a&&a.data?a.data:null,u=a&&a.zIndex?a.zIndex:n.DIALOG_Z_INDEX.DEFAULT,p=!!a&&a.callback,d=function(n){if(i||s._prefabMap.set(t,n._uuid),r&&r.isValid&&r.children){var c=cc.instantiate(n);a&&void 0!==a.scale&&(c.scale=a.scale);var d=e?c.getComponent(e):null;d&&d.init&&d.init(o,l),r.addChild(c,u),p&&p()}};t="prefab/"+t;var h=this._prefabMap.get(t);if(h){var f=cc.assetManager.assets.get(h);if(f)return void d(f)}this.showLoading(!0,t),this.loadResource(t,cc.Prefab,function(e,n){if(e||!n)return c.default.instance.log("caoyang",c.LOG_LEVEL.ERROR,"load prefab error! error: ",e),s.showLoading(!1,t),void(p&&p());d(n),s.showLoading(!1,t)})},t.prototype.loadSpine=function(t,e,n,i,o){var r=this,a=!!o&&o.callback;if(!(t&&t.node&&t.isValid&&t.node.isValid))return c.default.instance.log("caoyang",c.LOG_LEVEL.ERROR,"spSkeleton \u4e3a\u7a7a"),void(a&&a());var s=function(e){if(!(t&&t.node&&t.isValid&&t.node.isValid))return c.default.instance.log("caoyang",c.LOG_LEVEL.ERROR,"spSkeleton \u4e3a\u7a7a"),void(a&&a());r.addAssetRef(e,i),t.skeletonData=e,t.setSkin(e.skeletonJson.skins[0].name),t.premultipliedAlpha=!1,t.setAnimationCacheMode(o.cacheMode?o.cacheMode:sp.Skeleton.AnimationCacheMode.REALTIME);var n=!!o&&o.anim,s=!!o&&o.isLoop;n&&t.setAnimation(0,n,s),a&&a(t),t.node.opacity=0,cc.tween(t.node).to(.2,{opacity:255}).start()};this.loadResource(e+n,sp.SkeletonData,function(t,e){if(t||!e)return c.default.instance.log("caoyang",c.LOG_LEVEL.ERROR,"load spine error! error: ",t),c.default.instance.log("caoyang",c.LOG_LEVEL.ERROR,"load spine error! asset: ",e),void(a&&a());s(e)})},t.prototype.loadSpriteFrame=function(t,e,n,i){var o=this,r=!!i&&i.callback;if(!t||!t.isValid)return c.default.instance.log("caoyang",c.LOG_LEVEL.ERROR,"spriteFrameNode \u4e3a\u7a7a"),void(r&&r());var a=function(e){if(t.isValid){o.addAssetRef(e,n),t.spriteFrame=null,t.spriteFrame=e;var a=0;if(i&&void 0!==i.width&&(a=i.width),a){var s=Math.floor(a/e.getRect().width*e.getRect().height);t.node.width=a,t.node.height=s,setTimeout(function(){t.node&&(t.node.width!=a&&(t.node.width=a),t.node.height!=s&&(t.node.height=s))},0)}else{var c=0;if(i&&void 0!==i.height&&(c=i.height),c){var l=Math.floor(c/e.getRect().height*e.getRect().width);t.node.width=l,t.node.height=c,setTimeout(function(){t.node&&(t.node.width!=l&&(t.node.width=l),t.node.height!=c&&(t.node.height=c))},0)}}var u=!1;i&&void 0!==i.anim&&(u=i.anim),u&&(t.node.opacity=0,cc.tween(t.node).to(.2,{opacity:255}).start()),r&&r(e)}else r&&r(e)};this.loadResource(e,cc.SpriteFrame,function(t,e){if(t||!e)return c.default.instance.log("caoyang GameUI loadSpriteFrame",c.LOG_LEVEL.ERROR,"load sprite error! error: ",t),c.default.instance.log("caoyang GameUI loadSpriteFrame",c.LOG_LEVEL.ERROR,"load sprite error! spriteFrame: ",e),void(r&&r(e));a(e)})},t.prototype.getPrefab=function(t,e){var n=this,i=this._prefabMap.get(t);i?e&&e(i):(this.showLoading(!0,t),this.loadResource(t,cc.Prefab,function(i,o){if(i||!o)return c.default.instance.log("caoyang GameUI getPrefab",c.LOG_LEVEL.ERROR,"getPrefab error! error: ",i),e&&e(o),void n.showLoading(!1,t);n._prefabMap.set(t,o),e&&e(o),n.showLoading(!1,t)}))},t.prototype.changeSlot=function(t,e,n,i){var o=sp;this.loadResource(n,cc.SpriteFrame,function(n,r){if(n||!r)return c.default.instance.log("caoyang",c.LOG_LEVEL.ERROR,"load sprite error! error: ",n),void c.default.instance.log("caoyang",c.LOG_LEVEL.ERROR,"load sprite error! spriteFrame: ",r);for(var a=r.getTexture(),s=0;s<e.length;s++){var l=t.findSlot(e[s]).attachment,u=new o.SkeletonTexture;u.setRealTexture(a);var p=new sp.spine.TextureAtlasPage;p.name=a.name,p.uWrap=sp.spine.TextureWrap.ClampToEdge,p.vWrap=sp.spine.TextureWrap.ClampToEdge,p.texture=u,p.texture.setWraps(p.uWrap,p.vWrap),p.width=a.width,p.height=a.height;var d=new sp.spine.TextureAtlasRegion;d.page=p,d.width=a.width,d.height=a.height,d.originalWidth=a.width,d.originalHeight=a.height,d.rotate=!1,d.u=0,d.v=0,d.u2=1,d.v2=1,d.texture=u,l.region=d,l.width=a.width,l.height=a.height,l.setRegion(d),l.updateOffset()}i&&i()})},t.prototype.changeSlot2=function(t,e,n){if(t&&n){var i=t.findSlot(e);if(i){var o=i.attachment,r=new sp.SkeletonTexture;r.setRealTexture(n);var a=new sp.spine.TextureAtlasPage;a.name=n.name,a.uWrap=sp.spine.TextureWrap.ClampToEdge,a.vWrap=sp.spine.TextureWrap.ClampToEdge,a.texture=r,a.texture.setWraps(a.uWrap,a.vWrap),a.width=n.width,a.height=n.height;var s=new sp.spine.TextureAtlasRegion;s.page=a,s.width=n.width,s.height=n.height,s.originalWidth=n.width,s.originalHeight=n.height,s.rotate=!1,s.u=0,s.v=0,s.u2=1,s.v2=1,s.texture=r,o.region=s,o.width=n.width,o.height=n.height,o.setRegion(s),o.updateOffset()}}},t.prototype.loadJsonData=function(t,e,n){if(e){var i=""+t+e;cc.resources.load(i,cc.JsonAsset,null,function(t,e){n(t?-1:e.json)})}else n(-1)},t.prototype.createEventHandler=function(t,e,n,i){t.getComponent(cc.Button)||t.getComponent(a.default)||t.addComponent(cc.Button);var o=new cc.Component.EventHandler;return o.target=t,o.component=e,o.handler=n,i&&(o.customEventData=i),o},t.prototype.addFlyEffectEx=function(t,e,i,o,r,a){void 0===o&&(o=null),void 0===r&&(r=null),void 0===a&&(a=n.DIALOG_Z_INDEX.TI_SHI);var s,c,l=cc.director.getScene().getChildByName("Canvas");switch(e){case 1:s=cc.find("topLayout/dianomdNode",l),"object"==typeof o&&cc.isValid(o)&&(s=o),c=cc.find("icon",s),l.getComponent("Main").scheduleOnce(function(){p.default.instance.playEffect("fjb")},.5)}var u=t.parent.convertToWorldSpaceAR(t.position);e--;var d=cc.instantiate(l.getComponent("Main").flyEffect);l.addChild(d,a),d.getComponent("FlyEffect").onPlayConiAni(e,u,c,i,function(){cc.isValid(d)&&d.destroy(),r&&r instanceof Function&&r()})},t.prototype.playShakeAction=function(t,e,n){void 0===e&&(e=1);var i=t.getPosition();cc.tween(t).repeatForever(cc.tween().by(.02,{position:new cc.Vec3(5,7)}).by(.02,{position:new cc.Vec3(-6,7)}).by(.02,{position:new cc.Vec3(1,3)}).by(.02,{position:new cc.Vec3(3,-6)}).by(.02,{position:new cc.Vec3(-5,5)}).by(.02,{position:new cc.Vec3(2,-8)}).by(.02,{position:new cc.Vec3(-8,-10)}).by(.02,{position:new cc.Vec3(3,10)}).by(.02,{position:new cc.Vec3(5,-8)})).start(),setTimeout(function(){cc.isValid(t)&&(t.stopAllActions(),t.setPosition(i),n&&n())},1e3*e)},t.prototype.loadBuildinMaterial=function(t,e){var n=cc.Material.getBuiltinMaterial(t);e.setMaterial(0,n)},t.prototype.loadResource=function(t,e,n,i){e==cc.AudioClip?cc.resources.load(t,cc.AudioClip,function(t,e,n){i&&i(t,e,n)},function(t,e){n(t,e)}):e===cc.TiledMapAsset?cc.assetManager.loadAny({path:t,type:cc.TiledMapAsset,bundle:"resources"},{maxConcurrency:6,maxRequestsPerFrame:this.maxProceNum},function(t,e,n){i&&i(t,e,n)},function(t,e){n(t,e)}):cc.resources.load(t,e,function(t,e,n){i&&i(t,e,n)},function(t,e){n(t,e)})},t.prototype.loadScene=function(t,e){"Login"==t&&(d.default.instance.isKickToLogin=!0),cc.director.loadScene(t,e)},t.prototype.preloadScene=function(t,e){cc.director.preloadScene(t,e)},t.prototype.showLoading=function(t,e){if(!this.getIsRemoveToast(e)&&this.loadingToast)if(t)this.loadingToast.updateToast();else{if(!this.loadingToast)return;this.loadingToast.closeToast()}},t.prototype.getIsRemoveToast=function(t){return-1!==["prefab/public/PopLoading","prefab/public/PopTiShi","prefab/ui/login/LoginOffline"].indexOf(t)},t.prototype.copyToClipboard=function(t){return i(this,void 0,void 0,function(){var e=this;return o(this,function(){return navigator.clipboard.writeText(t).then(function(){e.showTiShi("tishi/label1")}).catch(function(n){c.default.instance.log("caoyang",c.LOG_LEVEL.ERROR,"Failed to copy code:",n);var i=document.createElement("textarea");return i.value=t,i.style.position="absolute",i.style.opacity=0,i.style.left="-999999px",i.style.top="-999999px",document.body.appendChild(i),i.focus(),i.select(),new Promise(function(t,e){document.execCommand("copy")?t():e(),i.remove()}).then(function(){e.showTiShi("tishi/label1")}).catch(function(t){c.default.instance.log("caoyang",c.LOG_LEVEL.ERROR,"Failed to copy code:",t)})}),[2]})})},t.prototype.careteNumAnim=function(t,e){if(cc.isValid(t)&&e){var n=u.PoolManager.instance.get("NumAnim");n.parent=t,n.getComponent("NumAnim").init(this,e)}},t.prototype.setLocalizedLabelText=function(t,e,n,i,o){if(void 0===i&&(i="XXX"),t&&cc.isValid(t.node)&&e){var r=l[e];if(r){var a=c.default.instance.clone(r["type_"+s.default.lauguageType]);if(a){t.textKey=e;var u=a.indexOf(i);setTimeout(function(){t.string=u>=0?a.replace(i,n):a,o&&o()},0)}}}},t.prototype.loadTGHead=function(t,e){var n=this;t&&cc.isValid(t.node)&&e&&""!=e?(t.node.opacity=0,cc.loader.load({url:e,type:"jpg"},function(e,i){if(e)return t.node.opacity=255,void n.loadDefaultHead(t);t&&cc.isValid(t.node)&&(t.spriteFrame=new cc.SpriteFrame(i)),t.node.opacity=255})):this.loadDefaultHead(t)},t.prototype.loadDefaultHead=function(t){t&&this.loadSpriteFrame(t,"ui/common/ui_common_bg02",null,{callback:function(){t&&cc.isValid(t.node)&&(t.node.opacity=255)}})},t.prototype.loadScript=function(t,e){t&&""!=t&&cc.assetManager.loadScript(t,function(n){n?c.default.instance.log("caoyang",c.LOG_LEVEL.ERROR,"Failed to load script:",n):(c.default.instance.log("caoyang",c.LOG_LEVEL.INFO,"Script loaded successfully",t),e&&e())})},t._instance=new t,t}();n.default=f,cc._RF.pop()},{"../Table/GameTable":"GameTable","./ButtonEx":"ButtonEx","./GameAudio":"GameAudio","./GameGlobal":"GameGlobal","./GamePublic":"GamePublic","./GameUtils":"GameUtils","./PoolManager":"PoolManager"}],GameUtils:[function(t,e,n){"use strict";cc._RF.push(e,"5d6b44obLNC1L/VpPj14Hur","GameUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.LOG_LEVEL=void 0;var i,o=t("./GameAudio"),r=t("./GameGlobal"),a=t("./GameData");(function(t){t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARNING=3]="WARNING",t[t.RELEASE=4]="RELEASE",t[t.ERROR=5]="ERROR",t[t.TOP=99999]="TOP"})(i=n.LOG_LEVEL||(n.LOG_LEVEL={}));var s=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.prototype.isFringe=function(){return cc.view.getViewportRect().width/cc.view.getViewportRect().height>=2},t.prototype.S4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},t.prototype.guid=function(){return this.S4()+this.S4()+"-"+this.S4()+"-"+this.S4()+"-"+this.S4()+"-"+this.S4()+this.S4()+this.S4()},t.prototype.isPhone=function(t){return!!/^[1][3,4,5,7,8][0-9]{9}$/.test(t)},t.prototype.isNumber=function(t){return!(!/^\d+(\.\d+)?$/.test(t)&&!/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/.test(t))},t.prototype.formatNumber=function(t,e,n){var i;return void 0===e&&(e=2),void 0===n&&(n=","),!isNaN(parseFloat(t))&&isFinite(t)?(t=+t,(i=(t=(void 0!==e?(Math.floor(100*t)/100).toFixed(e):t).toString()).split("."))[0]=i[0].toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+(n||",")),i.join(".")):NaN},t.prototype.toFixedOnlyHasPoint=function(t,e){void 0===e&&(e=2);var n=t.toString();return-1!==n.indexOf(".")?t.toFixed(e):n},t.prototype.getShowDiamond=function(t,e){if(void 0===e&&(e=2),!isNaN(parseFloat(t))&&isFinite(t)){if((t=+t)<Math.pow(10,5))return t;var n=Math.pow(10,e),i=Math.pow(10,3),o=Math.pow(10,6),r=Math.pow(10,9),a=Math.pow(10,18),s=Math.pow(10,15),c=Math.pow(10,12),l="";return t>=a?l=(t=Math.round(t*n/a)/n)+"ab":t>=s?l=(t=Math.round(t*n/s)/n)+"aa":t>=c?l=(t=Math.round(t*n/c)/n)+"T":t>=r?l=(t=Math.round(t*n/r)/n)+"B":t>=o?l=(t=Math.round(t*n/o)/n)+"M":t>=i&&(l=(t=Math.round(t*n/i)/n)+"K"),l}return NaN},t.prototype.getPaltformType=function(){var t=0;return cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID?t=1:cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS&&(t=2),t},t.prototype.csvToMap=function(t,e){void 0===e&&(e="\t");for(var n=[],i=this.csvToArray(t,e),o=0;o<i.length;o++){var r=i[o];if(r[0])for(var a=r[0].split(","),s=0;s<a.length;s++)n[s]||(n[s]=[]),n[s].push(parseInt(a[s]))}return n},t.prototype.cvsToObj=function(t,e){void 0===e&&(e="\t");for(var n={},i=this.csvToArray(t,e),o=i[1],r=i[2],a=4;a<i.length;a++){var s=i[a];if(s[1]&&""!==s[1]){n[s[1]]={ID:+s[1]};for(var c=2;c<s.length;c++)s[c]&&""!=s[c]&&("int"===r[c]||"float"===r[c]||"double"===r[c]?n[s[1]][o[c]]=+s[c]:n[s[1]][o[c]]=s[c])}}return n},t.prototype.csvToArray=function(t,e){void 0===e&&(e="\t");for(var n=t.replace(/\r\n?/g,"\n"),i=0,o=0,r=[[]],a=r[r.length-1],s=0;s<n.length;s++){var c=n[s];if("'"===c&&"\\"!==n[s-1])(i=i?0:1)&&(o=s+1);else if(!i&&(c===e||"\n"===c||s===n.length-1)){var l=o,u=l>=s?"":n.slice(l,s).trim();"'"===u[u.length-1]&&(u=u.slice(0,u.length-1)),a.push(u),o=s+1,"\n"===c&&(a=r[r.push([])-1])}}return r},t.prototype.parseCSV=function(t,e){for(var n=t.split("\n"),i={},o=[],r=0;r<n.length;r++){for(var a=n[r],s=(a=a.replace(/\r/g,"")).split(e),c={},l=0;l<s.length;l++)if(0===r)o.push(s[l]);else{var u=s[l];/^[0-9]+$/.test(u)?u=new Number(u):/^[0-9]+\.?[0-9]+?$/.test(u)&&(u=new Number(u)),c[o[l]]=u}0!=r&&(i[c.id]=c)}return i},t.prototype.formatDate=function(t){var e=t.getMonth()+1,n=t.getDate(),i=e<10?"0"+e:e.toString(),o=n<10?"0"+n:n.toString();return t.getFullYear()+"/"+i+"/"+o},t.prototype.formatMonthDate=function(t){var e=t.getMonth()+1,n=t.getDate();return e.toString()+"/"+(n<10?"0"+n:n.toString())},t.prototype.formatDatePlus=function(t){var e=t.getMonth()+1,n=t.getDate(),i=e<10?"0"+e:e.toString();return(n<10?"0"+n:n.toString())+"/"+i+"/"+t.getFullYear()},t.prototype.formatDateTime=function(t){var e=t.getMonth()+1,n=t.getDate(),i=t.getHours(),o=t.getMinutes(),r=t.getSeconds(),a=e<10?"0"+e:e.toString(),s=n<10?"0"+n:n.toString(),c=i<10?"0"+i:i.toString(),l=o<10?"0"+o:o.toString(),u=r<10?"0"+r:r.toString();return t.getFullYear()+"-"+a+"-"+s+" "+c+":"+l+":"+u},t.prototype.getDay=function(t){var e=0;return t>0&&(e=Math.floor(t/86400)),(e<10?"0"+e:e.toString())+"\u5929"},t.prototype.getHourAndMinAndSec=function(t){var e=0,n=0,i=0;return t>0&&(e=Math.floor(t/3600),n=Math.floor(t/60)%60,i=t%60),(e<10?"0"+e:e.toString())+":"+(n<10?"0"+n:n.toString())+":"+(i<10?"0"+i:i.toString())},t.prototype.getMinAndSec=function(t){var e=0,n=0;if(t>0){var i=t%3600;e=Math.floor(i/60),n=t%60}return(e<10?"0"+e:e.toString())+":"+(n<10?"0"+n:n.toString())},t.prototype.getHourAndMin=function(t){var e=0,n=0,i=0;t>0&&(e=Math.floor(t/3600),n=Math.floor(t/60)%60,i=t%60);var o=e<10?"0"+e:e.toString(),r=n<10?"0"+n:n.toString();return i<10||i.toString(),o+"\u65f6"+r+"\u5206"},t.prototype.getDayAndHour=function(t){var e=0,n=0,i=0,o=0;t>0&&(o=Math.floor(t/86400),t%=86400,e=Math.ceil(t/3600),t%=3600,n=Math.ceil(t/60)%60,i=t%60);var r=o<10?"0"+o:o.toString(),a=e<10?"0"+e:e.toString();return n<10||n.toString(),i<10||i.toString(),0==o?a+"\u5c0f\u65f6":r+"\u5929"+a+"\u5c0f\u65f6"},t.prototype.getDayAndHourAndMin=function(t){var e=0,n=0,i=0,o=0;t>0&&(o=Math.floor(t/86400),t%=86400,e=Math.floor(t/3600),t%=3600,n=Math.ceil(t/60)%60,i=t%60);var r=o<10?"0"+o:o.toString(),a=e<10?"0"+e:e.toString(),s=n<10?"0"+n:n.toString();return i<10||i.toString(),0==o&&0==e?s+"\u5206":0==o?a+"\u5c0f\u65f6"+s+"\u5206":r+"\u5929"+a+"\u5c0f\u65f6"+s+"\u5206"},t.prototype.getNexWeek=function(t,e){var n,i=a.default.instance.serverTime,o=new Date(i),r=-(n=new Date(i)).getDay()+t;n.setDate(n.getDate()+r);var s=n.getFullYear(),c=n.getMonth()+1,l=c+"",u=n.getDate(),p=new Date(s+"-"+l+"-"+u+" 00:00:00").getTime();return p+e<o?(r=7-n.getDay()+t,n.setDate(n.getDate()+r),s=n.getFullYear(),c=n.getMonth()+1,u=n.getDate(),p=new Date(s+"-"+c+"-"+u+" 00:00:00").getTime()):p},t.prototype.getNexMonth=function(t,e){var n=a.default.instance.serverTime,i=new Date(n),o=new Date(n),r=o.getFullYear(),s=o.getMonth(),c=new Date(r,s,t).getTime();return c+e<i?(r=o.getFullYear(),s=o.getMonth()+1,c=new Date(r,s,t).getTime()):c},t.prototype.checkIsDayChange=function(t,e){var n=e?new Date(e):new Date,i=new Date(t);return n.getFullYear()!==i.getFullYear()||n.getMonth()!==i.getMonth()||n.getDay()!==i.getDay()},t.prototype.supportsVibrate=function(){return"vibrate"in navigator},t.prototype.startVibrate=function(t){void 0===t&&(t=1)},t.prototype.encodeBase64=function(e){var n,i,o,r,a,s,c,l="",u=0;for(e=this._utf8_encode(e);u<e.length;)r=(n=e.charCodeAt(u++))>>2,a=(3&n)<<4|(i=e.charCodeAt(u++))>>4,s=(15&i)<<2|(o=e.charCodeAt(u++))>>6,c=63&o,isNaN(i)?s=c=64:isNaN(o)&&(c=64),l=l+t._keyStrBase64.charAt(r)+t._keyStrBase64.charAt(a)+t._keyStrBase64.charAt(s)+t._keyStrBase64.charAt(c);return l},t.prototype.decodeBase64=function(e){var n,i,o,r,a,s,c="",l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");l<e.length;)n=t._keyStrBase64.indexOf(e.charAt(l++))<<2|(r=t._keyStrBase64.indexOf(e.charAt(l++)))>>4,i=(15&r)<<4|(a=t._keyStrBase64.indexOf(e.charAt(l++)))>>2,o=(3&a)<<6|(s=t._keyStrBase64.indexOf(e.charAt(l++))),c+=String.fromCharCode(n),64!=a&&(c+=String.fromCharCode(i)),64!=s&&(c+=String.fromCharCode(o));return this._utf8_decode(c)},t.prototype._utf8_encode=function(t){t=t.replace(/rn/g,"n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},t.prototype._utf8_decode=function(t){for(var e="",n=0,i=0,o=0,r=0;n<t.length;)(i=t.charCodeAt(n))<128?(e+=String.fromCharCode(i),n++):i>191&&i<224?(o=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&o),n+=2):(o=t.charCodeAt(n+1),r=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&r),n+=3);return e},t.prototype.str_repeat=function(t,e){for(var n=[];e>0;n[--e]=t);return n.join("")},t.prototype.sprintf=function(){for(var t,e,n,i,o,r=0,a=arguments[r++],s=[],c="";a;){if(e=/^[^\x25]+/.exec(a))s.push(e[0]);else if(e=/^\x25{2}/.exec(a))s.push("%");else{if(!(e=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a)))throw"Huh ?!";if((t=arguments[e[1]||null===r++])||void 0===typeof t)throw"Too few arguments.";if(/[^s]/.test(e[7])&&"number"!=typeof t)throw"Expecting number but found "+typeof t;switch(e[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=e[6]?t.toExponential(e[6]):t.toExponential();break;case"f":t=e[6]?parseFloat(t).toFixed(e[6]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&e[6]?t.substring(0,e[6]):t;break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase()}t=/[def]/.test(e[7])&&e[2]&&t>=0?"+"+t:t,i=e[3]?"0"==e[3]?"0":e[3].charAt(1):" ",o=e[5]-String(t).length-c.length,n=e[5]?this.str_repeat(i,o):"",s.push(c+(e[4]?t+n:n+t))}a=a.substring(e[0].length)}return s.join("")},t.prototype.scientificNotationToString=function(t){var e=String(t);if(!/e/.test(e))return e;var n=!0;/e-/.test(e)&&(n=!1);var i=+e.match(/\d+$/)[0],o=e.match(/^[\d\.]+/)[0].replace(/\./,"");return n?o.padEnd(i+1,"0"):o.padStart(i+o.length,"0").replace(/^0/,"0.")},t.prototype.getFormattedData=function(e){if(e=Math.floor(e),(e=this.scientificNotationToString(e)).length<4)return e;var n=e.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),i=n.split(","),o=i.length;if(o>2){var r=o-2-1,a=void 0,s=void 0,c=t._showUnit.length;r<c?a=t._showUnit[r]:(r-=c,a=t._showUnit1[Math.floor(r/26)],a+=t._showUnit1[r%26]),r+1<c?s=t._showUnit[r+1]:(r-=c,s=t._showUnit1[Math.floor((r+1)/26)],s+=t._showUnit1[(r+1)%26]),7===(n=i[0]+","+i[1]).length?(n=i[0],n+=s):n+=a}else 7===(n=i[0]+","+i[1]).length&&(n=i[0],n+="K");return n},t.prototype.mutiCal=function(t,e,n){for(var i=0;i<n;i++)t*=e;return Math.floor(t)},t.prototype.setGrey=function(t,e){for(var n=t.getComponentsInChildren(cc.Sprite),i=0;i<n.length;i++){var o=cc.MaterialVariant.createWithBuiltin(e?"2d-gray-sprite":"2d-sprite",n[i]);n[i].setMaterial(0,o),e||o.define("USE_TEXTURE",!0)}},t.prototype.vibrate=function(t){!cc.sys.isNative&&"iOS"!=cc.sys.os&&o.default.instance.isEnableVerb()&&cc.sys.platform!=cc.sys.WECHAT_GAME&&navigator.vibrate(t)},t.prototype.checkBangs=function(){var t=cc.view.getFrameSize();return"iOS"==cc.sys.os&&812===t.height&&375===t.width||"iOS"==cc.sys.os&&896===t.height&&414===t.width},t.prototype.getRndInteger=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.prototype.clone=function(t){var e;if("object"==typeof t)if(null===t)e=null;else if(t instanceof Array){e=[];for(var n=0,i=t.length;n<i;n++)e.push(this.clone(t[n]))}else for(var o in e={},t)e[o]=this.clone(t[o]);else e=t;return e},t.prototype.getStack=function(){return(new Error).stack},t.prototype.randomByWeight=function(t){for(var e=t.length,n=0,i=0;i<e;i++)n+=t[i];var o=Math.floor(Math.random()*n),r=0;for(i=0;i<e;i++){if(o<=t[i]){r=i;break}o-=t[i]}return r},t.prototype.randArr=function(t){for(var e=t.length-1;e>=0;e--){var n=Math.floor(Math.random()*(e+1)),i=t[n];t[n]=t[e],t[e]=i}return t},t.prototype.judgeArrIsEqually=function(t,e){if(t.length!=e.length||0===t.length||0===e.length)return!1;var n=this.clone(t),i=this.clone(e);n.sort(function(t,e){return t-e}),i.sort(function(t,e){return t-e});for(var o=!0,r=0;r<n.length;r++)if(n[r]!==i[r]){o=!1;break}return o},t.prototype.getRandomNumFromArr=function(t,e,n){if(void 0===n&&(n=!1),!t||t.length<=0||e<=0)return[];var i=t.length,o=[];if(n)for(var r=0;r<e;r++){var a=Math.floor(Math.random()*i);o.push(t[a])}else for(r=0;r<e;r++)a=Math.floor(Math.random()*i),o.push(t[a]),t.splice(a,1),i--;return o},t.prototype.log=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(r.default.DEBUG&&!(e<r.default.curLogLevel)){var a=this.getStack(),s=a.split("\n"),c=s[3].split(" ");if(c[5]){var l=c[5].split("."),u="eval"==l[0]?"---- "+t+": \n":"---- "+t+" "+l[0]+".js "+l[1]+": \n";"string"==typeof n[0]?n[0]=u+n[0]:n.unshift(u),e===i.ERROR||e===i.TOP?console.log.apply(void 0,["%c "+n,"color:red"]):e===i.WARNING?console.log.apply(void 0,["%c "+n,"color:#994500"]):console.log.apply(void 0,n)}}},t.prototype.convertToStrToNum=function(t){if(!t||0===t.length)return[];for(var e=0;e<t.length;e++)isNaN(t[e])||(t[e]=+t[e]);return t},t.prototype.toTwoArr=function(t){return this.isNull(t)||null===t[0]?t=null:"number"==typeof t[0]?t=[t]:"string"==typeof t[0]&&(t=[t]),t},t.prototype.isNull=function(t){var e=!1;return null!=t&&"undefined"!==t||(e=!0),e},t.prototype.getFileSize=function(t){return t>Math.pow(1024,3)?(t/Math.pow(1024,3)).toFixed(2)+"G":t>Math.pow(1024,2)?(t/Math.pow(1024,2)).toFixed(2)+"M":t>1024?(t/1024).toFixed(2)+"K":t+"B"},t.prototype.getAngle=function(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI-90},t.prototype.numSubequal=function(t,e,n){return t.toFixed(n)===e.toFixed(n)},t.prototype.numBiggerEqual=function(t,e,n){return t>e||this.numSubequal(t,e,n)},t.prototype.pauseSystemEvents=function(){cc.director.getScene().pauseSystemEvents(!0)},t.prototype.resumeSystemEvents=function(){cc.director.getScene().resumeSystemEvents(!0)},t.prototype.getDistance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},t.prototype.retainDecimalPlaces=function(t,e){var n=(t||0).toString().split(".");if(!n[1]||n[1].length<=e)return t;for(var i=n[0]+".",o=0;o<e;o++)i+=n[1][o];return Number(i)},t.prototype.isNodeNull=function(t){var e=!0;return t&&cc.isValid(t)&&(e=!1),e},t.prototype.isArrayOneDimensional=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return!1;return!0},t.prototype.ImageToBase64=function(t){for(var e,n="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=t.byteLength,r=o%3,a=o-r,s=0;s<a;s+=3)n+=i[(16515072&(e=t[s]<<16|t[s+1]<<8|t[s+2]))>>18]+i[(258048&e)>>12]+i[(4032&e)>>6]+i[63&e];return 1==r?n+=i[(252&(e=t[a]))>>2]+i[(3&e)<<4]+"==":2==r&&(n+=i[(16128&(e=t[a]<<8|t[a+1]))>>8]+i[(1008&e)>>4]+i[(15&e)<<2]+"="),n},t.prototype.handleNormalQuickTalk=function(t,e,n,i,o){var r=e;r.string="",r.node.removeAllChildren(),r.string=n,r.node.opacity=0,r._labelSegments?t.scheduleOnce(function(){for(var e=r._labelSegments,n=0,a=[],s=0;s<e.length;s++){var c=e[s],l=new cc.Node;l.addComponent(cc.Mask),l.name="mask_"+c._lineCount,l.anchorX=c.anchorX,l.anchorY=c.anchorY,l.x=c.x+r.node.width/2,l.y=c.y-r.node.height/2,l.setContentSize(c.getContentSize()),c.parent=l,c.x=0,c.y=0,c.anchorX=.5,c.anchorY=.5,c.active=!0,r.node.addChild(l);var u=l.width,p=u/i;a.push({node:l,delay:n,dur:p,width:u}),n+=p}r.string="",r.node.opacity=255;var d=r.node.y;r.node.y=2600,t.scheduleOnce(function(){for(var t=function(t){var e=a[t];e.node.width=0,cc.tween(e.node).delay(e.delay).to(e.dur,{width:e.width}).call(function(){t===a.length-1&&o&&o()}).start()},e=0;e<a.length;e++)t(e);r.node.y=d},.1)},0):(r.node.opacity=255,o&&o())},t.prototype.handleBlackScreenTalk=function(t,e,n,i,o){var r=e;r.string="",r.node.removeAllChildren(),r.string=n,r.node.opacity=0,r._labelSegments?t.scheduleOnce(function(){for(var e=r._labelSegments,n=0,a=[],s=1,c=0;c<e.length;c++){var l=e[c];s!==l._lineCount&&(s=l._lineCount,n+=i),a.push({node:l,delay:n,dur:i})}r.node.opacity=255;var u=r.node.y;r.node.y=2600,t.scheduleOnce(function(){for(var t=function(t){var e=a[t];e.node.opacity=0,cc.tween(e.node).delay(e.delay).to(e.dur,{opacity:255}).call(function(){t===a.length-1&&o&&o()}).start()},e=0;e<a.length;e++)t(e);r.node.y=u},0)},0):(r.node.opacity=255,o&&o())},t.prototype.getWidthPhone=function(){var t=cc.view.getFrameSize();return t.width/t.height>=2},t.prototype.isToDay=function(t){var e=new Date,n=e.getFullYear(),i=e.getMonth()+1,o=e.getDate(),r=new Date(t),a=r.getFullYear(),s=r.getMonth()+1,c=r.getDate();return n===a&&i===s&&o===c},t.prototype.getPlayNickName=function(t,e){return void 0===e&&(e=4),t?t.length<=2*e?t:t.substring(0,e)+"..."+t.substring(t.length-e,t.length):""},t.prototype.getNumberSplit=function(t){var e=this.clone(t).toString();if(e.length<=3)return e;for(var n="",i=0;i<e.length;i++){var o=e.length-i-1;n+=e[i],o%3==0&&o>=3&&(n+=",")}return n},t.prototype.getIsWindows=function(){return cc.sys.os!=cc.sys.OS_IOS&&cc.sys.os!=cc.sys.OS_ANDROID},t.prototype.getRandomCritical=function(){return this.getRndInteger(1,100)<=8},t._instance=new t,t._keyStrBase64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t._showUnit=["K","M","B","T","P","E","Z","Y","S"],t._showUnit1=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t}();n.default=s,cc._RF.pop()},{"./GameAudio":"GameAudio","./GameData":"GameData","./GameGlobal":"GameGlobal"}],GameWeb:[function(t,e,n){"use strict";cc._RF.push(e,"dbfedRbgNVFyYLGOywtVQq0","GameWeb");var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./GameData"),a=t("./GameEvent"),s=t("./GameGlobal"),c=t("./GameHttp"),l=t("./GameUI"),u=t("./GameUtils"),p=function(){function t(){this.tonConnectUI=null,this.MEASUREMENT_ID="G-4NRN3VTVC0",this.nn={bot:s.default.DEBUG?"john_monkey_bot":"uptonfi_bot",webapp:s.default.DEBUG?"john_monkey":"UpTonGames",jointg:s.default.DEBUG?"https://t.me/john_monkey_channel":"https://t.me/uptonfinance",network:s.default.DEBUG?"-3":"-239",checkincontract:"EQBuPvxtasFPQIs_3jfCM7aoMc1QLJykRkZqmtxrYdQil5o5",buycontract:"EQBuPvxtasFPQIs_3jfCM7aoMc1QLJykRkZqmtxrYdQil5o5",access_token_N:""},this.shareTxtConfig={text1:"Hop on Upton with me! \ud83e\udd1c Get wild and grab \ud83d\udc35$BAYC at your fingertips!"}}return Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new t,this._instance)},enumerable:!1,configurable:!0}),t.prototype.init=function(){1!=s.default.PUBLISH_CHANNEL&&(this.initTelegram(),this.initTonConnect(),this.initVsConsole(),this.initGoogleAnalytics())},t.prototype.initTelegram=function(){var t=this;l.default.instance.loadScript(s.default.BASE_URL+"h5/telegram/js/telegram-web-app.js",function(){window.Telegram.WebApp.ready(),window.Telegram.WebApp.expand(),t.checkTelegramVersion("7.7")&&window.Telegram.WebApp.disableVerticalSwipes()})},t.prototype.initTonConnect=function(){var t=this;l.default.instance.loadScript("https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js",function(){return i(t,void 0,void 0,function(){var t;return o(this,function(){return t=new TON_CONNECT_UI.TonConnectUI({manifestUrl:s.default.BASE_URL+"h5/monkey/tonconnect-manifest.json"}),a.default.instance.addListener("ton-connect-ui-transaction-sent-for-signature",function(t){u.default.instance.log("caoyang",u.LOG_LEVEL.INFO,"Transaction init",t.detail)},this),t.onModalStateChange(function(e){u.default.instance.log("caoyang",u.LOG_LEVEL.RELEASE,"Connection status:",e),u.default.instance.log("caoyang",u.LOG_LEVEL.RELEASE,"tonConnectUI.account:",t.account),u.default.instance.log("caoyang",u.LOG_LEVEL.RELEASE,"tonConnectUI.connected:",t.connected),a.default.instance.dispatchEvent(a.default.BIND_WALLET_SUCCESS,{walletInfo:e,tonConnectUI:t})}),this.tonConnectUI=t,[2]})})})},t.prototype.initTgAnalytics=function(){l.default.instance.loadScript("https://tganalytics.xyz/index.js",function(){window.telegramAnalytics.init({token:"eyJhcHBfbmFtZSI6ImpvaG5fdGVzdDAxIiwiYXBwX3VybCI6Imh0dHBzOi8vdC5tZS9ib3RmYXRoZXIiLCJhcHBfZG9tYWluIjoiaHR0cHM6Ly90ZXN0Lm1lbWVwZXQuaW8ifQ==!K2uPk60vmHztC/TsfyYyPSaHOU0TVhQNk/QfU7rY1Wg=",appName:"john_monkey"})})},t.prototype.initVsConsole=function(){l.default.instance.loadScript("https://unpkg.com/vconsole@latest/dist/vconsole.min.js",function(){s.default.DEBUG&&(window.vConsole=new VConsole)})},t.prototype.initGoogleAnalytics=function(){try{gtag("config",this.MEASUREMENT_ID,{user_id:r.default.instance.userId})}catch(t){u.default.instance.log("caoyang",u.LOG_LEVEL.ERROR,t)}},t.prototype.getTelegramData=function(){return window.Telegram?window.Telegram.WebApp:null},t.prototype.openLink=function(t){var e,n=this.getTelegramData();n&&-1!==t.indexOf("t.me")?n.openTelegramLink(t):null===(e=window)||void 0===e||e.open(t)},t.prototype.openModal=function(){return i(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return this.tonConnectUI?[4,this.tonConnectUI.openModal()]:[2];case 1:return t.sent(),[2]}})})},t.prototype.connec=function(){return i(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return this.tonConnectUI?[4,this.tonConnectUI.connectWallet()]:[2];case 1:return t.sent(),[2]}})})},t.prototype.requestLoginN=function(t){return i(this,void 0,void 0,function(){var e,n=this;return o(this,function(){return(e=this.getTelegramData())?(c.default.instance.post(s.default.httpPort.loginT,{telegramData:e},function(e){e=JSON.parse(e),n.nn.access_token_N=e.access_token_N,t&&t()},function(t){u.default.instance.log("caoyang",u.LOG_LEVEL.ERROR,t)}),[2]):[2]})})},t.prototype.requestBindT=function(t){return void 0===t&&(t=null),i(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return this.nn.access_token_N?[4,this.getAccount()]:[2];case 1:return(e=n.sent()).token=this.nn.access_token_N,c.default.instance.post(s.default.httpPort.bindT,e,function(e){u.default.instance.log("caoyang",u.LOG_LEVEL.INFO,"bindT",e),t&&t(!0)},function(e){u.default.instance.log("caoyang",u.LOG_LEVEL.ERROR,e),t&&t(!1)}),[2]}})})},t.prototype.requestAccout=function(t){return void 0===t&&(t=null),i(this,void 0,void 0,function(){return o(this,function(){return this.nn.access_token_N?(c.default.instance.post(s.default.httpPort.accountT,{token:this.nn.access_token_N},function(e){if(200==(e=JSON.parse(e)).ret_code){var n=e.data;r.default.instance.tonAddress=n.tonAddress,u.default.instance.log("caoyang",u.LOG_LEVEL.INFO,"accountT",e),r.default.instance.saveData(),t&&t(!0)}},function(e){u.default.instance.log("caoyang",u.LOG_LEVEL.ERROR,e),t&&t(!1)}),[2]):[2]})})},t.prototype.checkWalletBindStatus=function(t){return void 0===t&&(t=null),i(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return this.nn.access_token_N?[4,this.getAccount()]:[2];case 1:return e=n.sent(),c.default.instance.post(s.default.httpPort.checkWallet,{token:this.nn.access_token_N,address:e.address},function(e){if(200==(e=JSON.parse(e)).ret_code){var n=e.data;t&&t(n.data)}},function(e){u.default.instance.log("caoyang",u.LOG_LEVEL.ERROR,e),t&&t(!0)}),[2]}})})},t.prototype.disconnect=function(){this.tonConnectUI&&this.checkConnected()&&this.tonConnectUI.disconnect()},t.prototype.checkConnected=function(){if(this.tonConnectUI)return this.tonConnectUI.connected},t.prototype.getAccount=function(){return i(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return this.tonConnectUI?this.checkConnected()?[3,2]:[4,this.tonConnectUI.openModal()]:[2];case 1:return t.sent(),[2];case 2:return[2,this.tonConnectUI.account]}})})},t.prototype.checkIn=function(){return i(this,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return this.tonConnectUI?this.checkConnected()?[3,2]:[4,this.tonConnectUI.openModal()]:[2];case 1:return e.sent(),[2];case 2:t={validUntil:Math.floor(Date.now()/1e3)+360,network:this.nn.network,messages:[{address:this.nn.checkincontract,amount:"10000000",stateInit:this.tonConnectUI.account.walletStateInit}]},e.label=3;case 3:return e.trys.push([3,5,,6]),[4,this.tonConnectUI.sendTransaction(t,{skipRedirectToWallet:"never"})];case 4:return[2,e.sent()];case 5:return e.sent(),[3,6];case 6:return[2]}})})},t.prototype.buy=function(t){return void 0===t&&(t="8000000"),i(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return this.tonConnectUI?this.checkConnected()?[3,2]:[4,this.tonConnectUI.openModal()]:[2];case 1:return n.sent(),[2];case 2:e={validUntil:Math.floor(Date.now()/1e3)+360,network:this.nn.network,messages:[{address:this.nn.buycontract,amount:t,stateInit:this.tonConnectUI.account.walletStateInit}]},n.label=3;case 3:return n.trys.push([3,5,,6]),[4,this.tonConnectUI.sendTransaction(e,{skipRedirectToWallet:"never"})];case 4:return[2,n.sent()];case 5:return n.sent(),[3,6];case 6:return[2]}})})},t.prototype.checkTelegramVersion=function(t){return window.Telegram.WebApp.isVersionAtLeast(t)},t.prototype.hapticFeedback=function(t){var e=this.getTelegramData();if(e&&this.checkTelegramVersion("6.1")){var n=["light","medium","heavy","rigid","soft"],i=t||Math.floor(Math.random()*n.length);e.HapticFeedback.impactOccurred(n[i])}},t.prototype.getInviteCode=function(){return this.getURLParameter("tgWebAppStartParam")},t.prototype.getURLParameter=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},t}();n.default=p,cc._RF.pop()},{"./GameData":"GameData","./GameEvent":"GameEvent","./GameGlobal":"GameGlobal","./GameHttp":"GameHttp","./GameUI":"GameUI","./GameUtils":"GameUtils"}],GuideMain:[function(t,e,n){"use strict";cc._RF.push(e,"75550icQp1HAr/KHiDVgcoz","GuideMain");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/BaseDialog"),s=t("../tool/GameEvent"),c=t("./GameMainGuide"),l=t("../Table/GameTable").default.data.Guide,u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeEmpty=null,e.nodeMask=null,e.nodeSpMask=null,e.maskRect=null,e.maskCircle=null,e.tipsLayout=null,e.lblTopTips=null,e.guideSpine=null,e.nodeText=null,e.text=null,e.nodeFinger=null,e.nodeContinue=null,e.clickEnable=!1,e.curGuideId=-1,e.nextGuideId=-1,e.clickNext=0,e.autoNext=0,e}return o(e,t),e.prototype.init=function(e,n){var i=this;t.prototype.init.call(this,e,n),this.clickEnable=!1,this.hideAll(n),this.updatePopu(n),this.scheduleOnce(function(){i.clickEnable=!0},1)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.onClickEmpty=function(){var t=this;1==this.clickEnable&&(this.clickEnable=!1,this.scheduleOnce(function(){t.clickEnable=!0},.5),1===this.clickNext&&(c.default.instance.completeMainGuide(this.curGuideId),1===this.autoNext?this.updatePopu(this.nextGuideId):this.onClose()))},e.prototype.onClose=function(){!0===c.default.instance.checkMainGuideComplete()&&s.default.instance.dispatchEvent(s.default.MAIN_GUIDE_COMPLETE),this.node.destroy()},e.prototype.updatePopu=function(t){var e=l[t];if(e.ID){this.curGuideId=t,this.nextGuideId=e.NextId,this.clickNext=e.ClickNext,this.autoNext=e.AutoNext,this.showTopTips(e.TopTips),this.showGuideGirl(e.ShowGuideGirl,e.GuideGirlIsRight),this.showDialogText(e.Text);var n=e.PrefabName,i=e.BtnName;if(n){var o,r=cc.director.getScene().getChildByName("Canvas"),a=null;(o=n?cc.find(n,r):r)&&(a=cc.find(i,o))&&this.scheduleOnce(function(){var t=a.convertToWorldSpaceAR(cc.v2(0,0)),n=this.node.convertToNodeSpaceAR(t),i=e.MaskData.split(",").map(Number);i[1]=n.y,this.showMaskByPos(i,e.MaskType),this.showFingerByPos(n)},0)}else this.showMask(e.MaskData,e.MaskType),this.showFinger(e.FingerPos);if(e.AutoCompleteTime&&e.AutoCompleteTime>0){var s=function(t){var e=this;return function(){t===e.curGuideId&&(c.default.instance.completeMainGuide(e.curGuideId),1===e.autoNext?e.updatePopu(e.nextGuideId):e.onClose())}}.bind(this);this.scheduleOnce(s(this.curGuideId),e.AutoCompleteTime)}}else this.onClose()},e.prototype.showTopTips=function(t){void 0===t&&(t=""),""==t?this.tipsLayout.active=!1:(this.lblTopTips.string=t,this.tipsLayout.y=c.default.instance.getTopTipsPosY(this.curGuideId),this.tipsLayout.active=!0)},e.prototype.showGuideGirl=function(t,e){if(1===t){this.guideSpine.x=1===e?170:-170;var n=Math.abs(this.guideSpine.scaleX);this.guideSpine.scaleX=1===e?-1*n:n,this.guideSpine.active=!0}else this.guideSpine.active=!1},e.prototype.showDialogText=function(t){void 0===t&&(t=""),""!==t?(this.text.string=t,this.nodeText.active=!0):this.nodeText.active=!1},e.prototype.showMask=function(t,e){if(!t)return this.nodeMask.node.x=-800,void(this.nodeSpMask.x=800);var n=t.split(",").map(Number);this.nodeMask.spriteFrame=1===parseInt(e)?this.maskRect:this.maskCircle,this.nodeMask.node.setPosition(n[0],n[1]),this.nodeSpMask.setPosition(-n[0],-n[1]),this.nodeMask.node.width=n[2],this.nodeMask.node.height=n[3]},e.prototype.showMaskByPos=function(t,e){if(!t)return this.nodeMask.node.x=-800,void(this.nodeSpMask.x=800);this.nodeMask.spriteFrame=1===parseInt(e)?this.maskRect:this.maskCircle,this.nodeMask.node.setPosition(t[0],t[1]),this.nodeSpMask.setPosition(-t[0],-t[1]),this.nodeMask.node.width=t[2],this.nodeMask.node.height=t[3]},e.prototype.showFinger=function(t){if(t){var e=t.split(",").map(Number);this.nodeFinger.setPosition(e[0],e[1]),this.nodeFinger.active=!0}else this.nodeFinger.active=!1},e.prototype.showFingerByPos=function(t){t?(this.nodeFinger.setPosition(t),this.nodeFinger.active=!0):this.nodeFinger.active=!1},e.prototype.hideAll=function(t){this.guideSpine.active=!1,this.nodeText.active=!1,this.nodeFinger.active=!1,this.nodeMask.node.x=-800,this.nodeSpMask.x=800;var e=l[t];e.ID&&(this.showTopTips(e.TopTips),this.showGuideGirl(e.ShowGuideGirl,e.GuideGirlIsRight),this.showDialogText(e.Text))},e.prototype.onClickBtnJumpGuide=function(){c.default.instance.jumpGuide(),this.onClose()},e.prototype.startContinueAnim=function(){var t=this.nodeContinue;cc.tween(t).repeatForever(cc.tween(t).to(1,{opacity:100}).to(1,{opacity:255})).start()},r([d(cc.Node)],e.prototype,"nodeEmpty",void 0),r([d(cc.Mask)],e.prototype,"nodeMask",void 0),r([d(cc.Node)],e.prototype,"nodeSpMask",void 0),r([d(cc.SpriteFrame)],e.prototype,"maskRect",void 0),r([d(cc.SpriteFrame)],e.prototype,"maskCircle",void 0),r([d(cc.Node)],e.prototype,"tipsLayout",void 0),r([d(cc.Label)],e.prototype,"lblTopTips",void 0),r([d(cc.Node)],e.prototype,"guideSpine",void 0),r([d(cc.Node)],e.prototype,"nodeText",void 0),r([d(cc.Label)],e.prototype,"text",void 0),r([d(cc.Node)],e.prototype,"nodeFinger",void 0),r([d(cc.Node)],e.prototype,"nodeContinue",void 0),r([p],e)}(a.default);n.default=h,cc._RF.pop()},{"../Table/GameTable":"GameTable","../tool/BaseDialog":"BaseDialog","../tool/GameEvent":"GameEvent","./GameMainGuide":"GameMainGuide"}],GuideNew:[function(t,e,n){"use strict";cc._RF.push(e,"1e3fdt97zFIBqcaVJbU6Prh","GuideNew");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/BaseDialog"),s=t("../tool/ButtonEx"),c=t("../tool/GameData"),l=t("../tool/GameWeb"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.oneStep=null,e.twoStep=null,e.oneProgress=null,e.twoProgress=null,e.threeProgress=null,e.fourProgress=null,e.btn_twoContinue=null,e.threeStep=null,e.threeNum=null,e.tips6=null,e.fourStep=null,e.fourNum=null,e.iconArr=[],e.data=null,e.colorData={normal:"#B58314",forbidden:"#818181"},e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this.data=n,this.updateStepUI(1,!0)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.onBtnClock=function(t){switch(t.target.name){case"btn_go":this.updateStepUI(2,!0);break;case"btn_twoBack":if(!this.btn_twoContinue.interactable)return;this.updateStepUI(1,!1);break;case"btn_twoContinue":this.updateStepUI(3,!0);break;case"btn_threeBack":this.updateStepUI(2,!1);break;case"btn_threeContinue":this.updateStepUI(4,!0);break;case"btn_fourBack":this.updateStepUI(3,!1);break;case"btn_join":var e=l.default.instance.nn.jointg;l.default.instance.openLink(e);break;case"btn_play":this.data&&this.data.callback&&this.data.callback(),this.node.destroy()}},e.prototype.updateStepUI=function(t,e){if(void 0===t&&(t=1),void 0===e&&(e=!0),this.oneStep.active=1==t,this.twoStep.active=2==t,this.threeStep.active=3==t,this.fourStep.active=4==t,e)switch(t){case 2:this.updateStepTwoUI();break;case 3:this.updateStepThreeUI();break;case 4:this.updateStepFourUI()}},e.prototype.updateStepTwoUI=function(){var t=this;this.initProgressUI(),this.playProgressAnim(this.oneProgress,1.5,function(){t.playProgressAnim(t.twoProgress,1.5,function(){t.playProgressAnim(t.threeProgress,1.5,function(){t.playProgressAnim(t.fourProgress,1.5,function(){t.btn_twoContinue.interactable=!0,cc.find("label",t.btn_twoContinue.node).getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(t.colorData.normal)})})})})},e.prototype.updateStepThreeUI=function(){var t=this.data.scoreData;this.threeNum.string=t.og;var e=this.tips6.string;e=(e=e.replace("XXX",c.default.instance.openId)).replace("###",t.ogPer+"%"),this.tips6.string=e},e.prototype.updateStepFourUI=function(){var t=this.data.scoreData;this.fourNum.string=t.score},e.prototype.initProgressUI=function(){this.btn_twoContinue.interactable=!1,cc.find("label",this.btn_twoContinue.node).getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(this.colorData.forbidden),this.oneProgress.progress=0,this.twoProgress.progress=0,this.threeProgress.progress=0,this.fourProgress.progress=0,cc.find("icon",this.oneProgress.node).getComponent(cc.Sprite).spriteFrame=this.iconArr[0],cc.find("icon",this.twoProgress.node).getComponent(cc.Sprite).spriteFrame=this.iconArr[0],cc.find("icon",this.threeProgress.node).getComponent(cc.Sprite).spriteFrame=this.iconArr[0],cc.find("icon",this.fourProgress.node).getComponent(cc.Sprite).spriteFrame=this.iconArr[0]},e.prototype.playProgressAnim=function(t,e,n){var i=this;t&&cc.isValid(t)&&(t.progress=0,cc.tween(t).to(e,{progress:1},{easing:"sineOut"}).call(function(){cc.find("icon",t.node).getComponent(cc.Sprite).spriteFrame=i.iconArr[1],n&&n()}).start())},r([d(cc.Node)],e.prototype,"oneStep",void 0),r([d(cc.Node)],e.prototype,"twoStep",void 0),r([d(cc.ProgressBar)],e.prototype,"oneProgress",void 0),r([d(cc.ProgressBar)],e.prototype,"twoProgress",void 0),r([d(cc.ProgressBar)],e.prototype,"threeProgress",void 0),r([d(cc.ProgressBar)],e.prototype,"fourProgress",void 0),r([d(s.default)],e.prototype,"btn_twoContinue",void 0),r([d(cc.Node)],e.prototype,"threeStep",void 0),r([d(cc.Label)],e.prototype,"threeNum",void 0),r([d(cc.Label)],e.prototype,"tips6",void 0),r([d(cc.Node)],e.prototype,"fourStep",void 0),r([d(cc.Label)],e.prototype,"fourNum",void 0),r([d(cc.SpriteFrame)],e.prototype,"iconArr",void 0),r([p],e)}(a.default);n.default=h,cc._RF.pop()},{"../tool/BaseDialog":"BaseDialog","../tool/ButtonEx":"ButtonEx","../tool/GameData":"GameData","../tool/GameWeb":"GameWeb"}],InviteItem:[function(t,e,n){"use strict";cc._RF.push(e,"766b24/wx9F3bQ7iLIFIrYV","InviteItem");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/GameUI"),s=t("../tool/GameUtils"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.head=null,e.nickName=null,e.his=null,e.mine=null,e}return o(e,t),e.prototype.init=function(t,e){this.nickName.string=s.default.instance.getPlayNickName(e.name),e.photoUrl&&a.default.instance.loadTGHead(this.head,e.photoUrl)},e.prototype.onLoad=function(){},r([u(cc.Sprite)],e.prototype,"head",void 0),r([u(cc.Label)],e.prototype,"nickName",void 0),r([u(cc.Label)],e.prototype,"his",void 0),r([u(cc.Label)],e.prototype,"mine",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils"}],InviteLayout:[function(t,e,n){"use strict";cc._RF.push(e,"1c2e04bbEdNKoQhIOgreoQe","InviteLayout");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/BaseDialog"),s=t("../tool/GameData"),c=t("../tool/GameEvent"),l=t("../tool/GameGlobal"),u=t("../tool/GameHttp"),p=t("../tool/GameUI"),d=t("../tool/GameUtils"),h=t("../tool/GameWeb"),f=t("../tool/List"),_=cc._decorator,y=_.ccclass,m=_.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollList=null,e.inviteNum=null,e.btn_invite=null,e.tips=null,e.inviteArr=[],e.inviteUrl="",e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this.inviteUrl="https://t.me/"+h.default.instance.nn.bot+"/"+h.default.instance.nn.webapp+"?startapp="+s.default.instance.myInviteCode},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.initWidget(),this.requestInvite(),this.playBtnAnim()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.initWidget=function(){var t=this,e=cc.view.getVisibleSize().height/2,n=cc.find("content/topLayout",this.node),i=n.getComponent(cc.Layout),o=cc.find("inviteNode",n);this.scheduleOnce(function(){i.paddingTop=e<=640?20:30,i.spacingY=e<=640?0:18},1/60),this.scheduleOnce(function(){var i=n.y+o.y-t.btn_invite.y-t.btn_invite.height/2-13;o.height=i,t.scrollList.node.height=i-132,cc.find("view",t.scrollList.node).height=i-132,t.tips.setScale(e<=640?.6:1),t.tips.y=-i/2-25},.1)},e.prototype.requestInvite=function(){var t=this,e=l.default.httpPort.inviteList;u.default.instance.post(e,null,function(e){(e=JSON.parse(e))&&200===e.ret_code&&cc.isValid(t.node)&&(t.inviteArr=e.data,t.tips.active=0==t.inviteArr.length,t.scrollList.numItems=t.inviteArr.length,t.inviteNum.string=""+t.inviteArr.length)},function(e){d.default.instance.log("caoyang",d.LOG_LEVEL.ERROR,e),t.inviteNum.string="0",t.tips.active=!0})},e.prototype.onListRenderEvent=function(t,e){var n=t.getComponent("InviteItem"),i=this.inviteArr[e];n.init(this,i)},e.prototype.onBtnCopy=function(){p.default.instance.copyToClipboard(this.inviteUrl)},e.prototype.onBtnInvate=function(){var t=h.default.instance.shareTxtConfig.text1,e="https://t.me/share/url?url="+this.inviteUrl+"&text="+encodeURIComponent(t);h.default.instance.openLink(e)},e.prototype.onBtnClose=function(){this.node.destroy(),c.default.instance.dispatchEvent(c.default.UPDATE_TOGGLE_PAGE)},e.prototype.playBtnAnim=function(){var t=cc.tween().to(.6,{scale:1.05},{easing:"linear"}),e=cc.tween().to(.6,{scale:1},{easing:"linear"});cc.tween(this.btn_invite).repeatForever(cc.tween().sequence(t,e)).start()},r([m(f.default)],e.prototype,"scrollList",void 0),r([m(cc.Label)],e.prototype,"inviteNum",void 0),r([m(cc.Node)],e.prototype,"btn_invite",void 0),r([m(cc.Node)],e.prototype,"tips",void 0),r([y],e)}(a.default);n.default=g,cc._RF.pop()},{"../tool/BaseDialog":"BaseDialog","../tool/GameData":"GameData","../tool/GameEvent":"GameEvent","../tool/GameGlobal":"GameGlobal","../tool/GameHttp":"GameHttp","../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils","../tool/GameWeb":"GameWeb","../tool/List":"List"}],ListItem:[function(t,e,n){"use strict";cc._RF.push(e,"e3acfQyIp9BFoW3CvwTUEv9","ListItem");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=cc._decorator,c=s.ccclass,l=s.property,u=s.disallowMultiple,p=s.menu,d=s.executionOrder;(function(t){t[t.NONE=0]="NONE",t[t.TOGGLE=1]="TOGGLE",t[t.SWITCH=2]="SWITCH"})(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.title=null,e.selectedMode=a.NONE,e.selectedFlag=null,e.selectedSpriteFrame=null,e._unselectedSpriteFrame=null,e.adaptiveSize=!1,e._selected=!1,e.is_touchEvent=!1,e._eventReg=!1,e.touchTime=15,e.touchScope=50,e.start_touch=null,e.touchSeedTime={time:0,is_touch:!1},e.isItemTouch=0,e}return o(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case a.TOGGLE:this.selectedFlag.active=t;break;case a.SWITCH:var e=this.selectedFlag.getComponent(cc.Sprite);e&&(e.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"btnCom",{get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(this.selectedMode==a.SWITCH){var t=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=t.spriteFrame}},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this)},e.prototype._registerEvent=function(){this._eventReg||(this.is_touchEvent?(this.touchScope=(this.node.width+this.node.height)/2,this.addTouch()):this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},e.prototype._onSizeChange=function(){this.list._onItemAdaptive(this.node)},e.prototype.createEvt=function(t,e,n){if(void 0===n&&(n=null),t.isValid){t.comName=t.comName||t.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var i=new cc.Component.EventHandler;return i.target=n||t.node,i.component=t.comName,i.handler=e,i}},e.prototype.showAni=function(t,e,n){var i,o=this;switch(t){case 0:i=cc.tween(o.node).to(.2,{scale:.7}).by(.3,{y:2*o.node.height});break;case 1:i=cc.tween(o.node).to(.2,{scale:.7}).by(.3,{x:2*o.node.width});break;case 2:i=cc.tween(o.node).to(.2,{scale:.7}).by(.3,{y:-2*o.node.height});break;case 3:i=cc.tween(o.node).to(.2,{scale:.7}).by(.3,{x:-2*o.node.width});break;default:i=cc.tween(o.node).to(.3,{scale:.1})}(e||n)&&i.call(function(){if(n){o.list._delSingleItem(o.node);for(var t=o.list.displayData.length-1;t>=0;t--)if(o.list.displayData[t].id==o.listId){o.list.displayData.splice(t,1);break}}e()}),i.start()},e.prototype.onClickThis=function(){this.list.selectedId=this.listId},e.prototype.addTouch=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.onTouchStart=function(t){this.isItemTouch=1,this.touchSeedTime.is_touch=!0,this.touchSeedTime.time=0,this.start_touch=t.getLocation()},e.prototype.onTouchEnd=function(){this.isItemTouch=2,this.touchSeedTime.is_touch&&(this.touchSeedTime.is_touch=!1,this.onClickThis())},e.prototype.update=function(){this.touchSeedTime.is_touch&&(this.touchSeedTime.time+=1)},r([l({type:cc.Sprite,tooltip:!1})],e.prototype,"icon",void 0),r([l({type:cc.Node,tooltip:!1})],e.prototype,"title",void 0),r([l({type:cc.Enum(a),tooltip:!1})],e.prototype,"selectedMode",void 0),r([l({type:cc.Node,tooltip:!1,visible:function(){return this.selectedMode>a.NONE}})],e.prototype,"selectedFlag",void 0),r([l({type:cc.SpriteFrame,tooltip:!1,visible:function(){return this.selectedMode==a.SWITCH}})],e.prototype,"selectedSpriteFrame",void 0),r([l({tooltip:!1})],e.prototype,"adaptiveSize",void 0),r([l()],e.prototype,"is_touchEvent",void 0),r([c,u(),p("List\u7ec4\u4ef6/List Item"),d(-5001)],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],List:[function(t,e,n){"use strict";cc._RF.push(e,"a75ceSmNPhMG4qxGkoDbpvH","List");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s,c,l=cc._decorator,u=l.ccclass,p=l.property,d=l.disallowMultiple,h=l.menu,f=l.executionOrder,_=l.requireComponent,y=t("./ListItem");(function(t){t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB"})(a||(a={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.ADHERING=2]="ADHERING",t[t.PAGE=3]="PAGE"}(s||(s={})),function(t){t[t.NONE=0]="NONE",t[t.SINGLE=1]="SINGLE",t[t.MULT=2]="MULT"}(c||(c={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateType=a.NODE,e.tmpNode=null,e.tmpPrefab=null,e._slideMode=s.NORMAL,e.pageDistance=.3,e.pageChangeEvent=new cc.Component.EventHandler,e._virtual=!0,e.cyclic=!1,e.lackCenter=!1,e.lackSlide=!1,e._updateRate=0,e.frameByFrameRenderNum=0,e.renderEvent=new cc.Component.EventHandler,e.selectedMode=c.NONE,e.repeatEventSingle=!1,e.selectedEvent=new cc.Component.EventHandler,e._selectedId=-1,e._forceUpdate=!1,e._updateDone=!0,e._j_listItemRendedTime=0,e._numItems=0,e._inited=!1,e._needUpdateWidget=!1,e._aniDelRuning=!1,e._doneAfterUpdate=!1,e.adhering=!1,e._adheringBarrier=!1,e.curPageNum=0,e}return o(e,t),Object.defineProperty(e.prototype,"slideMode",{get:function(){return this._slideMode},set:function(t){this._slideMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"virtual",{get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateRate",{get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedId",{get:function(){return this._selectedId},set:function(t){var e,n=this;switch(n.selectedMode){case c.SINGLE:if(!n.repeatEventSingle&&t==n._selectedId)return;e=n.getItemByListId(t);var i=void 0;if(n._selectedId>=0?n._lastSelectedId=n._selectedId:n._lastSelectedId=null,n._selectedId=t,e&&((i=e.getComponent(y.default)).selected=!0),n._lastSelectedId>=0&&n._lastSelectedId!=n._selectedId){var o=n.getItemByListId(n._lastSelectedId);o&&(o.getComponent(y.default).selected=!1)}n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],e,t%this._actualNumItems,null==n._lastSelectedId?null:n._lastSelectedId%this._actualNumItems);break;case c.MULT:if(!(e=n.getItemByListId(t)))return;i=e.getComponent(y.default),n._selectedId>=0&&(n._lastSelectedId=n._selectedId),n._selectedId=t;var r=!i.selected;i.selected=r;var a=n.multSelected.indexOf(t);r&&a<0?n.multSelected.push(t):!r&&a>=0&&n.multSelected.splice(a,1),n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],e,t%this._actualNumItems,null==n._lastSelectedId?null:n._lastSelectedId%this._actualNumItems,r)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numItems",{get:function(){return this._actualNumItems},set:function(t){var e=this;if(e.checkInited(!1))if(null==t||t<0)cc.error("numItems set the wrong::",t);else{if(e._actualNumItems=e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e.cyclic&&(e._numItems=e._cyclicNum*e._numItems),e._onScrolling(),e.frameByFrameRenderNum||e.slideMode!=s.PAGE||(e.curPageNum=e.nearestListId);else{e.cyclic&&(e._resizeContent(),e._numItems=e._cyclicNum*e._numItems);var n=e.content.getComponent(cc.Layout);if(n&&(n.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var i=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,o=0;o<i;o++)e._createOrUpdateItem2(o);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(o=0;o<e._numItems;o++)e._createOrUpdateItem2(o);e.displayItemNum=e._numItems}}e._j_listItemRendedTime=(new Date).getTime()}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._init()},e.prototype.onDestroy=function(){var t=this;cc.isValid(t._itemTmp)&&t._itemTmp.destroy(),cc.isValid(t.tmpNode)&&t.tmpNode.destroy(),t._pool&&t._pool.clear()},e.prototype.onEnable=function(){this._registerEvent(),this._init(),this._aniDelRuning&&(this._aniDelRuning=!1,this._aniDelItem&&(this._aniDelBeforePos&&(this._aniDelItem.position=this._aniDelBeforePos,delete this._aniDelBeforePos),this._aniDelBeforeScale&&(this._aniDelItem.scale=this._aniDelBeforeScale,delete this._aniDelBeforeScale),delete this._aniDelItem),this._aniDelCB&&(this._aniDelCB(),delete this._aniDelCB))},e.prototype.onDisable=function(){this._unregisterEvent()},e.prototype._registerEvent=function(){var t=this;t.node.on(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.on("touch-up",t._onTouchUp,t),t.node.on(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0),t.node.on(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._unregisterEvent=function(){var t=this;t.node.off(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.off("touch-up",t._onTouchUp,t),t.node.off(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0),t.node.off(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._init=function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t.content=t._scrollView.content,t.content){switch(t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(cc.instantiate(t.templateType==a.PREFAB?t.tmpPrefab:t.tmpNode)),t._slideMode!=s.ADHERING&&t._slideMode!=s.PAGE||(t._scrollView.inertia=!1,t._scrollView._onMouseWheel=function(){}),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t.cyclic&&(t._scrollView._processAutoScrolling=this._processAutoScrolling.bind(t),t._scrollView._startBounceBackIfNeeded=function(){return!1}),t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!")},e.prototype._processAutoScrolling=function(t){this._scrollView._autoScrollAccumulatedTime+=1*t;var e=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var n=e-1;e=n*n*n*n*n+1}var i=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(e)),o=this._scrollView.getScrollEndedEventTiming(),r=Math.abs(e-1)<=o;Math.abs(e-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),r&&(this._scrollView._autoScrolling=!1);var a=i.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(a),r),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},e.prototype.setTemplateItem=function(t){if(t){var e=this;e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=cc.size(t.width,t.height);var n=t.getComponent(y.default),i=!1;switch(n||(i=!0),i&&(e.selectedMode=c.NONE),(n=t.getComponent(cc.Widget))&&n.enabled&&(e._needUpdateWidget=!0),e.selectedMode==c.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var o=e.content.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((o+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var r=e.content.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((r+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},e.prototype.checkInited=function(t){return void 0===t&&(t=!0),!!this._inited||(t&&cc.error("List initialization not completed!"),!1)},e.prototype._resizeContent=function(){var t,e=this;switch(e._align){case cc.Layout.Type.HORIZONTAL:if(e._customSize){var n=e._getFixedSize(null);t=e._leftGap+n.val+e._itemSize.width*(e._numItems-n.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case cc.Layout.Type.VERTICAL:e._customSize?(n=e._getFixedSize(null),t=e._topGap+n.val+e._itemSize.height*(e._numItems-n.count)+e._lineGap*(e._numItems-1)+e._bottomGap):t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case cc.Layout.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var i=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*i+e._lineGap*(i-1)+e._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var o=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*o+e._columnGap*(o-1)+e._rightGap}}var r=e.content.getComponent(cc.Layout);if(r&&(r.enabled=!1),e._allItemSize=t,e._allItemSizeNoEdge=e._allItemSize-(e._sizeType?e._topGap+e._bottomGap:e._leftGap+e._rightGap),e.cyclic){var a=e._sizeType?e.node.height:e.node.width;e._cyclicPos1=0,a-=e._cyclicPos1,e._cyclicNum=Math.ceil(a/e._allItemSizeNoEdge)+1;var s=e._sizeType?e._lineGap:e._columnGap;e._cyclicPos2=e._cyclicPos1+e._allItemSizeNoEdge+s,e._cyclicAllItemSize=e._allItemSize+e._allItemSizeNoEdge*(e._cyclicNum-1)+s*(e._cyclicNum-1),e._cycilcAllItemSizeNoEdge=e._allItemSizeNoEdge*e._cyclicNum,e._cycilcAllItemSizeNoEdge+=s*(e._cyclicNum-1)}e._lack=!e.cyclic&&e._allItemSize<(e._sizeType?e.node.height:e.node.width);var c=e._lack&&e.lackCenter||!e.lackSlide?.1:0,l=e._lack?(e._sizeType?e.node.height:e.node.width)-c:e.cyclic?e._cyclicAllItemSize:e._allItemSize;l<0&&(l=0),e._sizeType?e.content.height=l:e.content.width=l},e.prototype._onScrolling=function(t){if(void 0===t&&(t=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var e=this.content.getPosition();e=this._sizeType?e.y:e.x;var n=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),i=this._sizeType?cc.v2(0,n):cc.v2(n,0);switch(this._alignCalcType){case 1:e>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i))):e<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)));break;case 2:e<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):e>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i)));break;case 3:e<this._cyclicPos1?(this.content.y=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):e>this._cyclicPos2&&(this.content.y=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i)));break;case 4:e>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i))):e<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)))}}var o,r,a,s;if(this._calcViewPos(),this._sizeType?(o=this.viewTop,a=this.viewBottom):(r=this.viewRight,s=this.viewLeft),this._virtual){this.displayData=[];var c=void 0,l=0,u=this._numItems-1;if(this._customSize)for(var p=!1;l<=u&&!p;l++)switch(c=this._calcItemPos(l),this._align){case cc.Layout.Type.HORIZONTAL:c.right>=s&&c.left<=r?this.displayData.push(c):0!=l&&this.displayData.length>0&&(p=!0);break;case cc.Layout.Type.VERTICAL:c.bottom<=o&&c.top>=a?this.displayData.push(c):0!=l&&this.displayData.length>0&&(p=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:c.bottom<=o&&c.top>=a?this.displayData.push(c):0!=l&&this.displayData.length>0&&(p=!0);break;case cc.Layout.AxisDirection.VERTICAL:c.right>=s&&c.left<=r?this.displayData.push(c):0!=l&&this.displayData.length>0&&(p=!0)}}else{var d=this._itemSize.width+this._columnGap,h=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:l=(s-this._leftGap)/d,u=(r-this._leftGap)/d;break;case 2:l=(-r-this._rightGap)/d,u=(-s-this._rightGap)/d;break;case 3:l=(-o-this._topGap)/h,u=(-a-this._topGap)/h;break;case 4:l=(a-this._bottomGap)/h,u=(o-this._bottomGap)/h}for(l=Math.floor(l)*this._colLineNum,u=Math.ceil(u)*this._colLineNum,l<0&&(l=0),--u>=this._numItems&&(u=this._numItems-1);l<=u;l++)this.displayData.push(this._calcItemPos(l))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var f=this._lastDisplayData.length,_=this.displayItemNum!=f;if(_&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(function(t,e){return t-e}),_=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[f-1]),this._forceUpdate||_)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var y=0;y<this.displayItemNum;y++)this._createOrUpdateItem(this.displayData[y]);this._forceUpdate=!1}this._calcNearestItem()}}},e.prototype._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},e.prototype._calcItemPos=function(t){var e,n,i,o,r,a,s,c;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var l=this._getFixedSize(t);r=this._leftGap+(this._itemSize.width+this._columnGap)*(t-l.count)+(l.val+this._columnGap*l.count),e=(u=this._customSize[t])>0?u:this._itemSize.width}else r=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;return this.lackCenter&&(r-=this._leftGap,r+=this.content.width/2-this._allItemSizeNoEdge/2),{id:t,left:r,right:a=r+e,x:r+this._itemTmp.anchorX*e,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return this._customSize?(l=this._getFixedSize(t),a=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-l.count)-(l.val+this._columnGap*l.count),e=(u=this._customSize[t])>0?u:this._itemSize.width):(a=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width),this.lackCenter&&(a+=this._rightGap,a-=this.content.width/2-this._allItemSizeNoEdge/2),{id:t,right:a,left:r=a-e,x:r+this._itemTmp.anchorX*e,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return this._customSize?(l=this._getFixedSize(t),i=-this._topGap-(this._itemSize.height+this._lineGap)*(t-l.count)-(l.val+this._lineGap*l.count),n=(u=this._customSize[t])>0?u:this._itemSize.height):(i=-this._topGap-(this._itemSize.height+this._lineGap)*t,n=this._itemSize.height),this.lackCenter&&(i+=this._topGap,i-=this.content.height/2-this._allItemSizeNoEdge/2),{id:t,top:i,bottom:o=i-n,x:this._itemTmp.x,y:o+this._itemTmp.anchorY*n};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:var u;if(this._customSize)l=this._getFixedSize(t),o=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-l.count)+(l.val+this._lineGap*l.count),n=(u=this._customSize[t])>0?u:this._itemSize.height;else o=this._bottomGap+(this._itemSize.height+this._lineGap)*t,n=this._itemSize.height;return this.lackCenter&&(o-=this._bottomGap,o+=this.content.height/2-this._allItemSizeNoEdge/2),{id:t,top:i=o+n,bottom:o,x:this._itemTmp.x,y:o+this._itemTmp.anchorY*n}}case cc.Layout.Type.GRID:var p=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c=(o=(i=-this._topGap-(this._itemSize.height+this._lineGap)*p)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:i=(o=this._bottomGap+(this._itemSize.height+this._lineGap)*p)+this._itemSize.height,c=o+this._itemTmp.anchorY*this._itemSize.height}switch(s=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:s+=this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s+=(1-this._itemTmp.anchorX)*this._itemSize.width,s-=(1-this.content.anchorX)*this.content.width,s*=-1}return{id:t,top:i,bottom:o,x:s,y:c};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:a=(r=this._leftGap+(this._itemSize.width+this._columnGap)*p)+this._itemSize.width,s=r+this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s=(r=(a=-this._rightGap-(this._itemSize.width+this._columnGap)*p)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,s+=(1-this.content.anchorX)*this.content.width}switch(c=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c-=(1-this._itemTmp.anchorY)*this._itemSize.height,c+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:c-=this._itemTmp.anchorY*this._itemSize.height,c+=this.content.anchorY*this.content.height,c*=-1}return{id:t,left:r,right:a,x:s,y:c}}}},e.prototype._calcExistItemPos=function(t){var e=this.getItemByListId(t);if(!e)return null;var n={id:t,x:e.x,y:e.y};return this._sizeType?(n.top=e.y+e.height*(1-e.anchorY),n.bottom=e.y-e.height*e.anchorY):(n.left=e.x-e.width*e.anchorX,n.right=e.x+e.width*(1-e.anchorX)),n},e.prototype.getItemPos=function(t){return this._virtual?this._calcItemPos(t):this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},e.prototype._getFixedSize=function(t){if(!this._customSize)return null;null==t&&(t=this._numItems);var e=0,n=0;for(var i in this._customSize)parseInt(i)<t&&(e+=this._customSize[i],n++);return{val:e,count:n}},e.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},e.prototype._onScrollEnded=function(){var t=this;if(t.curScrollIsTouch=!1,null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&cc.tween(e).to(.1,{scale:1.06}).to(.1,{scale:1}).start()}t._onScrolling(),this.callbackScrollEnded?this.touchScrollEnded():t._slideMode!=s.ADHERING||t.adhering?t._slideMode==s.PAGE&&(null!=t._beganPos&&t.curScrollIsTouch?this._pageAdhere():t.adhere()):t.adhere()},e.prototype.touchScrollEnded=function(){var t=this;if(t._virtual?t.displayData[0]:t._calcExistItemPos(0)){for(var e=t.viewLeft+t.node.width/2,n=[-1,0],i=0;i<t.displayData.length;i++){var o=t.displayData[i],r=Math.abs(o.x-e);(-1==n[0]||r<n[1])&&(n[0]=i,n[1]=r)}var a=t.displayData[n[0]].id;this.callbackScrollEnded(a)}},e.prototype._onTouchStart=function(t){if(this.curScrollIsTouch=!0,t.eventPhase!==cc.Event.AT_TARGET||t.target!==this.node){for(var e=t.target;null==e._listId&&e.parent;)e=e.parent;this._scrollItem=null!=e._listId?e:t.target}},e.prototype._onTouchUp=function(){var t=this;t._scrollPos=null,t._slideMode==s.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==s.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()),this._scrollItem=null},e.prototype._onTouchCancelled=function(){var t=this;t._scrollPos=null,t._slideMode==s.ADHERING?(t.adhering&&(t._adheringBarrier=!0),t.adhere()):t._slideMode==s.PAGE&&(null!=t._beganPos?t._pageAdhere():t.adhere()),this._scrollItem=null},e.prototype._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},e.prototype._onItemAdaptive=function(t){if(!this._sizeType&&t.width!=this._itemSize.width||this._sizeType&&t.height!=this._itemSize.height){this._customSize||(this._customSize={});var e=this._sizeType?t.height:t.width;this._customSize[t._listId]!=e&&(this._customSize[t._listId]=e,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},e.prototype._pageAdhere=function(){var t=this;if(t.cyclic||!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,n=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>n)switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},e.prototype.adhere=function(){var t=this;if(t.checkInited()&&!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t.node.height:t.node.width);t.scrollTo(t.nearestListId,.7,e)}},e.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var n=this.displayData[e];n&&this._createOrUpdateItem(n)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==s.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(t=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++)this._createOrUpdateItem2(e);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==s.PAGE&&(this.curPageNum=this.nearestListId)},e.prototype._createOrUpdateItem=function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems));else{var n=this._pool.size()>0;if(e=n?this._pool.get():cc.instantiate(this._itemTmp),n&&cc.isValid(e)||(e=cc.instantiate(this._itemTmp),n=!1),e._listId!=t.id&&(e._listId=t.id,e.setContentSize(this._itemSize)),e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.content.addChild(e),n&&this._needUpdateWidget){var i=e.getComponent(cc.Widget);i&&i.updateAlignment()}e.setSiblingIndex(this.content.childrenCount-1);var o=e.getComponent(y.default);e.listItem=o,o&&(o.listId=t.id,o.list=this,o._registerEvent()),this.renderEvent&&(cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems),this._j_listItemRendedTime>0&&(new Date).getTime()-this._j_listItemRendedTime<300?this._j_listItemRendedTime=(new Date).getTime():this._j_listItemRendedTime=0)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},e.prototype._createOrUpdateItem2=function(t){var e,n=this.content.children[t];n?this._forceUpdate&&this.renderEvent&&(n._listId=t,e&&(e.listId=t),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t%this._actualNumItems)):((n=cc.instantiate(this._itemTmp))._listId=t,this.content.addChild(n),e=n.getComponent(y.default),n.listItem=e,e&&(e.listId=t,e.list=this,e._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t%this._actualNumItems)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},e.prototype._updateListItem=function(t){if(t&&this.selectedMode>c.NONE){var e=t.node;switch(this.selectedMode){case c.SINGLE:t.selected=this.selectedId==e._listId;break;case c.MULT:t.selected=this.multSelected.indexOf(e._listId)>=0}}},e.prototype._resetItemSize=function(){},e.prototype._updateItemPos=function(t){var e=isNaN(t)?t:this.getItemByListId(t),n=this.getItemPos(e._listId);e.setPosition(n.x,n.y)},e.prototype.setMultSelected=function(t,e){var n=this;if(n.checkInited()){if(Array.isArray(t)||(t=[t]),null==e)n.multSelected=t;else{var i=void 0,o=void 0;if(e)for(var r=t.length-1;r>=0;r--)i=t[r],(o=n.multSelected.indexOf(i))<0&&n.multSelected.push(i);else for(r=t.length-1;r>=0;r--)i=t[r],(o=n.multSelected.indexOf(i))>=0&&n.multSelected.splice(o,1)}n._forceUpdate=!0,n._onScrolling()}},e.prototype.getMultSelected=function(){return this.multSelected},e.prototype.hasMultSelected=function(t){return this.multSelected&&this.multSelected.indexOf(t)>=0},e.prototype.updateItem=function(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(var e=0,n=t.length;e<n;e++){var i=t[e],o=this.getItemByListId(i);o&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,i%this._actualNumItems)}}},e.prototype.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},e.prototype.getItemByListId=function(t){if(this.content)for(var e=this.content.childrenCount-1;e>=0;e--){var n=this.content.children[e];if(n._listId==t)return n}},e.prototype.getItemByListIdx=function(t){if(this.content)for(var e=this.content.childrenCount-1;e>=0;e--){var n=this.content.children[e];if(n.idx==t)return n}},e.prototype.getListIdByItem=function(t){return this.content?this.content.children.indexOf(t):-1},e.prototype._getOutsideItem=function(){for(var t,e=[],n=this.content.childrenCount-1;n>=0;n--)t=this.content.children[n],this.displayData.find(function(e){return e.id==t._listId})||e.push(t);return e},e.prototype._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var n=t[e];if(!this._scrollItem||n._listId!=this._scrollItem._listId){n.isCached=!0,this._pool.put(n);for(var i=this._lastDisplayData.length-1;i>=0;i--)if(this._lastDisplayData[i]==n._listId){this._lastDisplayData.splice(i,1);break}}}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},e.prototype._delSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},e.prototype.aniDelItem=function(t,e,n){var i=this;if(!i.checkInited()||i.cyclic||!i._virtual)return cc.error("This function is not allowed to be called!");if(!e)return cc.error("CallFunc are not allowed to be NULL, You need to delete the corresponding index in the data array in the CallFunc!");if(i._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var o,r=i.getItemByListId(t);if(r){o=r.getComponent(y.default),i._aniDelRuning=!0,i._aniDelCB=e,i._aniDelItem=r,i._aniDelBeforePos=r.position,i._aniDelBeforeScale=r.scale;var a=i.displayData[i.displayData.length-1].id,s=o.selected;o.showAni(n,function(){var n,o,l;if(a<i._numItems-2&&(n=a+1),null!=n){var u=i._calcItemPos(n);i.displayData.push(u),i._virtual?i._createOrUpdateItem(u):i._createOrUpdateItem2(n)}else i._numItems--;if(i.selectedMode==c.SINGLE)s?i._selectedId=-1:i._selectedId-1>=0&&i._selectedId--;else if(i.selectedMode==c.MULT&&i.multSelected.length){var p=i.multSelected.indexOf(t);p>=0&&i.multSelected.splice(p,1);for(var d=i.multSelected.length-1;d>=0;d--)(_=i.multSelected[d])>=t&&i.multSelected[d]--}if(i._customSize){i._customSize[t]&&delete i._customSize[t];var h={},f=void 0;for(var _ in i._customSize){f=i._customSize[_];var y=parseInt(_);h[y-(y>=t?1:0)]=f}i._customSize=h}for(d=null!=n?n:a;d>=t+1;d--)if(r=i.getItemByListId(d)){var m=i._calcItemPos(d-1);o=cc.tween(r).to(.2333,{position:cc.v2(m.x,m.y)}),d<=t+1&&(l=!0,o.call(function(){i._aniDelRuning=!1,e(t),delete i._aniDelCB})),o.start()}l||(i._aniDelRuning=!1,e(t),i._aniDelCB=null)},!0)}else e(t)},e.prototype.scrollTo=function(t,e,n,i){void 0===e&&(e=.5),void 0===n&&(n=null),void 0===i&&(i=!1);var o=this;if(o.checkInited(!1)){null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=o._numItems&&(t=o._numItems-1),!o._virtual&&o._layout&&o._layout.enabled&&o._layout.updateLayout();var r,a,s=o.getItemPos(t);if(!s)return!1;switch(o._alignCalcType){case 1:r=s.left,r-=null!=n?o.node.width*n:o._leftGap,s=cc.v2(r,0);break;case 2:r=s.right-o.node.width,r+=null!=n?o.node.width*n:o._rightGap,s=cc.v2(r+o.content.width,0);break;case 3:a=s.top,a+=null!=n?o.node.height*n:o._topGap,s=cc.v2(0,-a);break;case 4:a=s.bottom+o.node.height,a-=null!=n?o.node.height*n:o._bottomGap,s=cc.v2(0,-a+o.content.height)}var c=o.content.getPosition();c=Math.abs(o._sizeType?c.y:c.x);var l=o._sizeType?s.y:s.x;Math.abs((null!=o._scrollPos?o._scrollPos:c)-l)>.5&&(o._scrollView.scrollToOffset(s,e),o._scrollToListId=t,o._scrollToEndTime=(new Date).getTime()/1e3+e,o._scrollToSo=o.scheduleOnce(function(){if(o._adheringBarrier||(o.adhering=o._adheringBarrier=!1),o._scrollPos=o._scrollToListId=o._scrollToEndTime=o._scrollToSo=null,i){var e=o.getItemByListId(t);e&&cc.tween(e).to(.1,{scale:1.05}).to(.1,{scale:1}).start()}},e+.1),e<=0&&o._onScrolling())}},e.prototype._calcNearestItem=function(){var t,e,n,i,o,r,a=this;a.nearestListId=null,a._virtual&&a._calcViewPos(),n=a.viewTop,i=a.viewRight,o=a.viewBottom,r=a.viewLeft;for(var s=!1,c=0;c<a.content.childrenCount&&!s;c+=a._colLineNum)if(t=a._virtual?a.displayData[c]:a._calcExistItemPos(c))switch(e=a._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,a._alignCalcType){case 1:t.right>=r&&(a.nearestListId=t.id,r>e&&(a.nearestListId+=a._colLineNum),s=!0);break;case 2:t.left<=i&&(a.nearestListId=t.id,i<e&&(a.nearestListId+=a._colLineNum),s=!0);break;case 3:t.bottom<=n&&(a.nearestListId=t.id,n<e&&(a.nearestListId+=a._colLineNum),s=!0);break;case 4:t.top>=o&&(a.nearestListId=t.id,o>e&&(a.nearestListId+=a._colLineNum),s=!0)}if((t=a._virtual?a.displayData[a.displayItemNum-1]:a._calcExistItemPos(a._numItems-1))&&t.id==a._numItems-1)switch(e=a._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,a._alignCalcType){case 1:i>e&&(a.nearestListId=t.id);break;case 2:r<e&&(a.nearestListId=t.id);break;case 3:o<e&&(a.nearestListId=t.id);break;case 4:n>e&&(a.nearestListId=t.id)}},e.prototype.prePage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,t)},e.prototype.nextPage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,t)},e.prototype.skipPage=function(t,e){var n=this;if(n.checkInited())return n._slideMode!=s.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(t<0||t>=n._numItems||n.curPageNum!=t&&(n.curPageNum=t,n.pageChangeEvent&&cc.Component.EventHandler.emitEvents([n.pageChangeEvent],t),n.scrollTo(t,e)))},e.prototype.calcCustomSize=function(t){var e=this;if(e.checkInited()){if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e._customSize={};var n=cc.instantiate(e._itemTmp);e.content.addChild(n);for(var i=0;i<t;i++)cc.Component.EventHandler.emitEvents([e.renderEvent],n,i),n.height==e._itemSize.height&&n.width==e._itemSize.width||(e._customSize[i]=e._sizeType?n.height:n.width);return Object.keys(e._customSize).length||(e._customSize=null),n.removeFromParent(),n.destroy&&n.destroy(),e._customSize}},r([p({type:cc.Enum(a),tooltip:!1})],e.prototype,"templateType",void 0),r([p({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==a.NODE}})],e.prototype,"tmpNode",void 0),r([p({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==a.PREFAB}})],e.prototype,"tmpPrefab",void 0),r([p()],e.prototype,"_slideMode",void 0),r([p({type:cc.Enum(s),tooltip:!1})],e.prototype,"slideMode",null),r([p({type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==s.PAGE}})],e.prototype,"pageDistance",void 0),r([p({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this._slideMode==s.PAGE}})],e.prototype,"pageChangeEvent",void 0),r([p()],e.prototype,"_virtual",void 0),r([p({type:cc.Boolean,tooltip:!1})],e.prototype,"virtual",null),r([p({tooltip:!1,visible:function(){var t=this.slideMode==s.NORMAL;return t||(this.cyclic=!1),t}})],e.prototype,"cyclic",void 0),r([p({tooltip:!1,visible:function(){return this.virtual}})],e.prototype,"lackCenter",void 0),r([p({tooltip:!1,visible:function(){var t=this.virtual&&!this.lackCenter;return t||(this.lackSlide=!1),t}})],e.prototype,"lackSlide",void 0),r([p({type:cc.Integer})],e.prototype,"_updateRate",void 0),r([p({type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0})],e.prototype,"updateRate",null),r([p({type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0})],e.prototype,"frameByFrameRenderNum",void 0),r([p({type:cc.Component.EventHandler,tooltip:!1})],e.prototype,"renderEvent",void 0),r([p({type:cc.Enum(c),tooltip:!1})],e.prototype,"selectedMode",void 0),r([p({tooltip:!1,visible:function(){return this.selectedMode==c.SINGLE}})],e.prototype,"repeatEventSingle",void 0),r([p({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.selectedMode>c.NONE}})],e.prototype,"selectedEvent",void 0),r([p({serializable:!1})],e.prototype,"_numItems",void 0),r([u,d(),h("List\u7ec4\u4ef6/List"),_(cc.ScrollView),f(-5e3)],e)}(cc.Component);n.default=m,cc._RF.pop()},{"./ListItem":"ListItem"}],LocalizedLabel:[function(t,e){"use strict";cc._RF.push(e,"1ce1anwnA5NXYvpe3Wlo6E4","LocalizedLabel");var n=o(t("../tool/GameGlobal")),i=o(t("../Table/GameTable"));function o(t){return t&&t.__esModule?t:{default:t}}o(t("../tool/GameUI"));var r=i.default.data.LanguageText;cc.Class({extends:cc.Label,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{textKey:{default:"TEXT_KEY",multiline:!0,tooltip:"Enter i18n key here",notify:function(){"TEXT_KEY"!=this.localizedString&&(this.string=this.localizedString)}},localizedString:{override:!0,tooltip:"Here shows the localized string of Text Key",get:function(){var t=r[this.textKey];return t?t["type_"+n.default.lauguageType]:this.string},set:function(t){this.textKey=t}}},onLoad:function(){this._super(),this.localizedString&&"TEXT_KEY"!=this.localizedString&&(this.string=this.localizedString)}}),cc._RF.pop()},{"../Table/GameTable":"GameTable","../tool/GameGlobal":"GameGlobal","../tool/GameUI":"GameUI"}],LocalizedRichText:[function(t,e){"use strict";cc._RF.push(e,"61b88cd9pFHoIc0CPapyx4q","LocalizedRichText");var n=i(t("../tool/GameGlobal"));function i(t){return t&&t.__esModule?t:{default:t}}var o=i(t("../Table/GameTable")).default.data.LanguageText;cc.Class({extends:cc.RichText,editor:{executeInEditMode:!0,menu:"i18n/LocalizedRichText"},properties:{textKey:{default:"TEXT_KEY",multiline:!0,tooltip:"Enter i18n key here",notify:function(){"TEXT_KEY"!=this.localizedString&&(this.string=this.localizedString)}},localizedString:{override:!0,tooltip:"Here shows the localized string of Text Key",get:function(){var t=o[this.textKey];return t?t["type_"+n.default.lauguageType]:this.string},set:function(t){this.textKey=t}}},onLoad:function(){this.localizedString&&"TEXT_KEY"!=this.localizedString&&(this.string=this.localizedString)}}),cc._RF.pop()},{"../Table/GameTable":"GameTable","../tool/GameGlobal":"GameGlobal"}],LocalizedSprite:[function(t,e){"use strict";cc._RF.push(e,"2ad7707HttM84ngXShOYVQE","LocalizedSprite");var n=i(t("../tool/GameGlobal"));function i(t){return t&&t.__esModule?t:{default:t}}var o=i(t("../Table/GameTable")).default.data.LanguageSprite;cc.Class({extends:cc.Sprite,editor:{executeInEditMode:!0,menu:"i18n/LocalizedSprite"},properties:{textKey:{default:"TEXT_KEY",multiline:!0,tooltip:"Enter i18n key here",notify:function(){var t=this;cc.resources.load(this.localizedString,cc.SpriteFrame,function(e,n){e?cc.error(e.message||e):t.spriteFrame=n})}},localizedString:{override:!0,tooltip:"Here shows the localized string of Text Key",get:function(){var t=o[this.textKey];return t?t["type_"+n.default.lauguageType]:this.string},set:function(t){this.textKey=t}}},onLoad:function(){var t=this;this.localizedString&&cc.resources.load(this.localizedString,cc.SpriteFrame,function(e,n){e?cc.error(e.message||e):t.spriteFrame=n})}}),cc._RF.pop()},{"../Table/GameTable":"GameTable","../tool/GameGlobal":"GameGlobal"}],LoginLoading:[function(t,e,n){"use strict";cc._RF.push(e,"bd710aeNJlFpr2tT9U3W7A+","LoginLoading");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/BaseDialog"),s=t("../tool/GameData"),c=t("../tool/GameUI"),l=t("../Table/GameTable"),u=t("../tool/GameGlobal"),p=t("../tool/GamePublic"),d=l.default.data.Skin,h=cc._decorator,f=h.ccclass,_=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgSpine=null,e.shadowDog=null,e.shadowMonkey=null,e.spineMonkey=null,e.loadProgress=null,e.rate=null,e.version=null,e.isLoad=!1,e.isProldGame=!1,e.sceneRate=0,e.loadComplete=!0,e}return o(e,t),e.prototype.onLoad=function(){this.loadProgress.progress=0,this.rate.string="0%",this.version.string=u.default.version},e.prototype.update=function(t){if(this.isLoad&&!p.default.instance.isKickToLogin){var e=0;this.isProldGame?e=this.loadProgress.progress+t:(e=this.sceneRate,this.loadProgress.progress>e&&(e=this.loadProgress.progress)),this.loadProgress.progress=e,this.loadProgress.progress>=1&&(this.loadProgress.progress=1,this.isLoad=!1,s.default.instance.serverTime=(new Date).getTime(),c.default.instance.loadScene("Main")),this.rate.string=Math.floor(100*this.loadProgress.progress)+"%"}},e.prototype.updateLoad=function(t){this.isLoad=t,this.loadSkin()},e.prototype.loadSkin=function(){var t=this,e=s.default.instance.curWearSkinId,n=d[e];n&&(this.bgSpine.skeletonData&&this.bgSpine.skeletonData.name===n.Bg_spine||c.default.instance.loadSpine(this.bgSpine,"spine/ui/"+n.Bg_spine+"/",n.Bg_spine,this.name,{callback:function(){t.bgSpine&&cc.isValid(t.bgSpine.node)&&t.bgSpine.setAnimation(0,"loop_1",!0)}}),c.default.instance.loadSpine(this.spineMonkey,"spine/skin/"+n.Monkey_spine+"/",n.Monkey_spine,this.name,{callback:function(){t.spineMonkey&&cc.isValid(t.spineMonkey.node)&&(t.spineMonkey.setAnimation(0,"start_1",!0),3==n.Skin_id?(t.shadowDog.node.setPosition(cc.v2(-150,-180)),t.shadowDog.node.scaleX=-1,t.shadowMonkey.node.setPosition(cc.v2(150,-180)),c.default.instance.loadSpriteFrame(t.shadowDog,"ui/home/ui_home_bg12",t.name),c.default.instance.loadSpriteFrame(t.shadowMonkey,"ui/home/ui_home_bg12",t.name)):(t.shadowDog.node.setPosition(cc.v2(-125,-180)),t.shadowDog.node.scaleX=1,t.shadowMonkey.node.setPosition(cc.v2(120,-180)),c.default.instance.loadSpriteFrame(t.shadowDog,"ui/home/ui_home_bg10",t.name),c.default.instance.loadSpriteFrame(t.shadowMonkey,"ui/home/ui_home_bg10",t.name)))}}))},e.prototype.loadSceneRate=function(t){this.sceneRate=t},r([_(sp.Skeleton)],e.prototype,"bgSpine",void 0),r([_(cc.Sprite)],e.prototype,"shadowDog",void 0),r([_(cc.Sprite)],e.prototype,"shadowMonkey",void 0),r([_(sp.Skeleton)],e.prototype,"spineMonkey",void 0),r([_(cc.ProgressBar)],e.prototype,"loadProgress",void 0),r([_(cc.Label)],e.prototype,"rate",void 0),r([_(cc.Label)],e.prototype,"version",void 0),r([f],e)}(a.default);n.default=y,cc._RF.pop()},{"../Table/GameTable":"GameTable","../tool/BaseDialog":"BaseDialog","../tool/GameData":"GameData","../tool/GameGlobal":"GameGlobal","../tool/GamePublic":"GamePublic","../tool/GameUI":"GameUI"}],LoginOffline:[function(t,e,n){"use strict";cc._RF.push(e,"7db38pfdVdLo5YHwQ5gEZ6d","LoginOffline");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/BaseDialog"),s=t("../tool/GamePublic"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tips1=null,e.tips2=null,e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n);var i=1;n&&n.type&&(i=n.type),1==i?(this.tips1.active=!0,this.tips2.active=!1):2==i&&(this.tips1.active=!1,this.tips2.active=!0)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.onBtnOK=function(){s.default.instance.isKickToLogin=!1,this.node.destroy()},r([u(cc.Node)],e.prototype,"tips1",void 0),r([u(cc.Node)],e.prototype,"tips2",void 0),r([l],e)}(a.default);n.default=p,cc._RF.pop()},{"../tool/BaseDialog":"BaseDialog","../tool/GamePublic":"GamePublic"}],Login:[function(t,e,n){"use strict";cc._RF.push(e,"2080fhaWQFMnbPmzqMaYYvA","Login");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/GameGlobal"),s=t("../tool/GameData"),c=t("../tool/GameUI"),l=t("./LoginLoading"),u=t("../tool/GameHttp"),p=t("../tool/GameUtils"),d=t("../tool/GameWeb"),h=t("../tool/GamePublic"),f=cc._decorator,_=f.ccclass,y=f.property,m=[["prefab/public/NumAnim",c.PRELOAD_TYPE.PREFAB],["prefab/public/PopLoading",c.PRELOAD_TYPE.PREFAB],["prefab/public/PopTiShi",c.PRELOAD_TYPE.PREFAB],["prefab/public/FlyEffect",c.PRELOAD_TYPE.PREFAB],["prefab/public/FlyEffectItem",c.PRELOAD_TYPE.PREFAB]],g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=null,e.loadingTs=null,e}return o(e,t),e.prototype.onEnable=function(){h.default.instance.isKickToLogin||(d.default.instance.init(),s.default.instance.load())},e.prototype.onLoad=function(){this.loadingTs=this.loading.getComponent(l.default),this.loadLoading()},e.prototype.start=function(){var t=this;c.default.instance.preload(m,null,function(e){e&&t.requestLogin()})},e.prototype.loadLoading=function(){var t=this;cc.director.preloadScene("Main",function(e,n){var i=e/n;t.loadingTs&&t.loadingTs.loadSceneRate(i)},function(){t.loadingTs&&(t.loadingTs.isProldGame=!0)})},e.prototype.requestLogin=function(){var t=this,e=d.default.instance.getTelegramData(),n=a.default.httpPort.login,i={id:s.default.instance.userId,telegramData:e,inviteCode:d.default.instance.getInviteCode()};u.default.instance.post(n,i,function(e){if(e=JSON.parse(e),p.default.instance.log("caoyang",p.LOG_LEVEL.INFO,e),e){if(200!==e.ret_code)return void c.default.instance.showTiShi("tishi/label3");var n=e.data;s.default.instance.accessToken=e.access_token,s.default.instance.userId=n.id,n.openId&&(s.default.instance.openId=n.openId),s.default.instance.nickName=n.name,n.url&&(s.default.instance.photoUrl=n.url),s.default.instance.myInviteCode=n.myInviteCode,s.default.instance.moneyData.serverTotal=n.scoreSum,s.default.instance.moneyData.serverNum=n.score,s.default.instance.angerData.curNum=n.powers,s.default.instance.angerData.refreshTime=n.powersRefreshTime,s.default.instance.airBoxData=n.airbox,s.default.instance.updateDefaultData(n.equiped),n.tAddress&&(s.default.instance.tonAddress=n.tAddress),e.scores?c.default.instance.showDialog("ui/guide/GuideNew","GuideNew",t,!1,{scoreData:e.scores,callback:function(){t.enterGameLoadData()}}):t.enterGameLoadData()}},function(t){p.default.instance.log("caoyang",p.LOG_LEVEL.ERROR,t)})},e.prototype.enterGameLoadData=function(){this.loadingTs.updateLoad(!0),s.default.instance.saveData(),s.default.instance.updateOnlineMoney(),s.default.instance.updateClickMoneyData()},r([y(cc.Node)],e.prototype,"loading",void 0),r([_],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../tool/GameData":"GameData","../tool/GameGlobal":"GameGlobal","../tool/GameHttp":"GameHttp","../tool/GamePublic":"GamePublic","../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils","../tool/GameWeb":"GameWeb","./LoginLoading":"LoginLoading"}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"5a206YIEWVLKKr3ye38Ol8e","Main");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../tool/GameEvent"),l=t("../tool/GameGlobal"),u=t("../tool/GameData"),p=t("../tool/GameUI"),d=t("../tool/GameUtils"),h=t("../tool/GameAudio"),f=t("../tool/GamePublic"),_=t("../Table/GameTable"),y=t("../tool/GameWeb"),m=_.default.data.Skin,g=cc._decorator,v=g.ccclass,b=g.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickBg=null,e.topLayout=null,e.btn_air=null,e.centerLayout=null,e.head=null,e.nickName=null,e.level=null,e.levelPregress=null,e.upLevelRate=null,e.profitNum=null,e.goldNum=null,e.money=null,e.spineMonkey=null,e.shadowDog=null,e.shadowMonkey=null,e.angerTime=null,e.angerProgress=null,e.angerRate=null,e.angerSpine1=null,e.angerSpine2=null,e.bottomToggle=null,e.flyEffect=null,e.lastClickTime=0,e.startAnimFinish=!0,e.ANIM_LOOP_COUNT=2,e.standAnimData={standAnimName:"loop_1",animNum:e.ANIM_LOOP_COUNT},e.oneSecondTimer=null,e.fiveSecondTimer=null,e.angerAnimComplete=!0,e}return o(e,t),e.prototype.onLoad=function(){this.addEvent(),p.default.instance.showDialog("public/PopLoading","PopLoading",this),cc.find("btn_gm",this.topLayout).active=l.default.DEBUG,this.updatePlayerUI(),this.updateMoneyUI(),this.updateGoldUI(),this.updateAngerUI(),this.updateAirBoxUI(),this.updateWearSkin()},e.prototype.onDestroy=function(){this.removeEvent()},e.prototype.addEvent=function(){this.clickBg.on(cc.Node.EventType.TOUCH_START,this.onClickBg,this),this.spineMonkey.setCompleteListener(this.spineMoneyEventComplete.bind(this)),this.angerSpine2.setCompleteListener(this.spineAngerEventComplete.bind(this)),c.default.instance.addListener(c.default.UPDATE_MONEY_DATA,this.updateMoneyUI,this),c.default.instance.addListener(c.default.UPDATE_ANGER_DATA,this.updateAngerUI,this),c.default.instance.addListener(c.default.TIMER_S_UPDATE,this.timeSecondUpdate,this),c.default.instance.addListener(c.default.GAME_OFFLINE_EARNINGS,this.offLineDetection,this),c.default.instance.addListener(c.default.UPDATE_TOGGLE_PAGE,this.backTogglePage,this),c.default.instance.addListener(c.default.AIR_BOX_APPEAR,this.airBoxAppear,this),c.default.instance.addListener(c.default.MAIN_AIR_BOX_ACTIVE,this.updateAirBoxUI,this),c.default.instance.addListener(c.default.UPDATE_WEAR_SKIN,this.updateWearSkin,this)},e.prototype.removeEvent=function(){this.clickBg.off(cc.Node.EventType.TOUCH_START,this.onClickBg,this),this.spineMonkey.setCompleteListener(null),this.angerSpine2.setCompleteListener(null),c.default.instance.removeListener(c.default.UPDATE_MONEY_DATA,this.updateMoneyUI,this),c.default.instance.removeListener(c.default.UPDATE_ANGER_DATA,this.updateAngerUI,this),c.default.instance.removeListener(c.default.TIMER_S_UPDATE,this.timeSecondUpdate,this),c.default.instance.removeListener(c.default.GAME_OFFLINE_EARNINGS,this.offLineDetection,this),c.default.instance.removeListener(c.default.UPDATE_TOGGLE_PAGE,this.backTogglePage,this),c.default.instance.removeListener(c.default.AIR_BOX_APPEAR,this.airBoxAppear,this),c.default.instance.removeListener(c.default.MAIN_AIR_BOX_ACTIVE,this.updateAirBoxUI,this),c.default.instance.removeListener(c.default.UPDATE_WEAR_SKIN,this.updateWearSkin,this)},e.prototype.timeSecondUpdate=function(){u.default.instance.updateAngerData(!0)},e.prototype.onBtnClock=function(t){switch(t.target.name){case"btn_gm":p.default.instance.showDialog("gm/GM","GMTest",this);break;case"userNode":p.default.instance.showDialog("ui/rank/RankNew","RankNew",this);break;case"profitNode":p.default.instance.showDialog("ui/earning/Earnings","Earnings",this,!1,{type:1});break;case"goldPointNode":u.default.instance.isOpenAccelerate?this.goToBindWallet(function(){y.default.instance.openLink("https://t.me/uptonfi_bot/uptonfi_bot_web")}):p.default.instance.showDialog("ui/earning/Earnings","Earnings",this,!1,{type:3});break;case"btn_setting":p.default.instance.showDialog("ui/setting/Setting","Setting",this);break;case"btn_backpack":p.default.instance.showDialog("ui/backpack/Backpack","Backpack",this);break;case"btn_air":p.default.instance.showDialog("ui/airdrop/AirDropReward","AirDropReward",this,!1,u.default.instance.airBoxData);break;case"btn_earn":this.goToBindWallet(function(){y.default.instance.openLink("https://t.me/uptonfi_bot/uptonfi_bot_web")});break;case"btn_speedUp":y.default.instance.openLink("https://gmgn.ai/?ref=8hrS42z0&chain=sol")}},e.prototype.onToggleEvent=function(t,e){var n=this;void 0===e&&(e=!0),e&&h.default.instance.playEffect("dianji");for(var i=t.node.name,o=0;o<this.centerLayout.childrenCount;o++){var r=this.centerLayout.children[o];"AirDrop"!=r.name&&r.destroy()}switch(i){case"toggle1":p.default.instance.showDialog("ui/task/Task","Task",this,!1,{childParent:this.centerLayout});break;case"toggle2":this.goToBindWallet(function(){p.default.instance.showDialog("ui/pledge/Pledge","Pledge",n,!1,{childParent:n.centerLayout})});break;case"toggle3":break;case"toggle4":p.default.instance.showDialog("ui/invite/InvitePrefab","InviteLayout",this,!1,{childParent:this.centerLayout})}},e.prototype.goToBindWallet=function(t){void 0===t&&(t=null),y.default.instance.checkConnected()?t&&t():p.default.instance.showDialog("ui/wallet/ConnectWallet","ConnectWallet",this,!1,{childParent:this.centerLayout,bindCall:function(e){e&&t&&t()}})},e.prototype.backTogglePage=function(){var t=this.bottomToggle.children[2];cc.isValid(t)&&t.getComponent(cc.Toggle).check()},e.prototype.onClickBg=function(t){y.default.instance.hapticFeedback(2);var e=u.default.instance.angerData;if(e.curNum<e.consumeNum)this.playAngerAnim("start_2",!1);else{var n=d.default.instance.getRandomCritical(),i=u.default.instance.getClickMoney(n),o=t.getTouches()[0].getLocation(),r={pos:o=this.node.convertToNodeSpaceAR(o),num:i};p.default.instance.careteNumAnim(this.node,r),u.default.instance.updateMoneyData({type:1,isCritical:n}),u.default.instance.updateAngerData(!1),this.updateTimerGap(function(){u.default.instance.requestMoneyData(u.MONEY_GET_CHANNEL.CLICK_ONLINE)}),this.playMonkeyDogAnim()}},e.prototype.updatePlayerUI=function(){this.nickName.string=d.default.instance.getPlayNickName(u.default.instance.nickName),p.default.instance.loadTGHead(this.head,u.default.instance.photoUrl)},e.prototype.updateMoneyUI=function(){var t=u.default.instance.getTotalMoneyNum();this.money.string=d.default.instance.getNumberSplit(t);var e=u.default.instance.getCurLevel();this.level.string="Lv."+e;var n=u.default.instance.moneyData,i=n.serverNum,o=u.default.instance.getUpLvMoney(),r=Math.min(1,i/o);this.levelPregress.progress=r,this.upLevelRate.string=Math.floor(100*r)+"%";var a=3600*n.onlineNum;this.profitNum.string=d.default.instance.getShowDiamond(a)+"/H",u.default.instance.getCurLevel(t)>e&&(u.default.instance.requestMoneyData(u.MONEY_GET_CHANNEL.CLICK_ONLINE),this.oneSecondTimer&&this.unschedule(this.oneSecondTimer),this.oneSecondTimer=null,this.fiveSecondTimer&&this.unschedule(this.fiveSecondTimer),this.fiveSecondTimer=null)},e.prototype.updateAngerUI=function(){var t=u.default.instance.angerData;this.angerTime.string=t.recoverNum+"/S";var e=t.curNum/t.totalNum;this.angerProgress.progress=e,this.angerRate.string=t.curNum+"/"+t.totalNum,e>=1?this.angerSpine1.node.active=!0:(this.angerSpine1.node.active=!1,this.angerAnimComplete=!0),this.angerSpine2.node.active=!1},e.prototype.updateGoldUI=function(){return a(this,void 0,void 0,function(){var t=this;return s(this,function(){return this.goldNum.string=d.default.instance.getShowDiamond(u.default.instance.pledgeData.goldNum),u.default.instance.requestPledgeData(3,function(){cc.isValid(t.node)&&(t.goldNum.string=d.default.instance.getShowDiamond(u.default.instance.pledgeData.goldNum))}),[2]})})},e.prototype.updateTimerGap=function(t){var e=this;void 0===t&&(t=null),this.oneSecondTimer&&this.unschedule(this.oneSecondTimer),this.oneSecondTimer=function(){e.fiveSecondTimer&&e.unschedule(e.fiveSecondTimer),e.fiveSecondTimer=null,t&&t()},this.scheduleOnce(this.oneSecondTimer,2),this.fiveSecondTimer||(this.fiveSecondTimer=function(){e.oneSecondTimer&&e.unschedule(e.oneSecondTimer),e.fiveSecondTimer=null,t&&t()},this.scheduleOnce(this.fiveSecondTimer,7))},e.prototype.offLineDetection=function(){if(0!=u.default.instance.offlineTime){var t=u.default.instance.getOfflineTime(0);if(d.default.instance.log("caoyang",d.LOG_LEVEL.INFO,"offLineTime: "+d.default.instance.getHourAndMinAndSec(Math.floor(t/1e3))),!(t<3e5)){var e={type:2,offlineTime:t=Math.min(t,108e5)};p.default.instance.showDialog("ui/earning/Earnings","Earnings",this,!1,e)}}},e.prototype.airBoxAppear=function(t){t&&(f.default.instance.isHavaAirBox=!0,p.default.instance.showDialog("ui/airdrop/AirDrop","AirDrop",this,!1,{childParent:this.centerLayout,airBoxData:t},p.DIALOG_Z_INDEX.DEFAULT-1))},e.prototype.updateAirBoxUI=function(t){void 0===t&&(t=!1);var e=u.default.instance.airBoxData;if(e&&0===e.state){if(f.default.instance.isHavaAirBox=!0,this.btn_air.active=!0,t){var n=cc.find("spineIcon",this.btn_air),i=cc.find("spineFly",this.btn_air),o=cc.find("label",this.btn_air);n.active=!1,o.active=!1,i.active=!0;var r=i.getComponent(sp.Skeleton);r.setCompleteListener(function(){i.active=!1,n.active=!0,o.active=!0}),r.setAnimation(0,"loop_2",!1)}}else this.btn_air.active=!1},e.prototype.updateWearSkin=function(){var t=this,e=u.default.instance.curWearSkinId,n=m[e];if(n){var i=cc.find("spine",this.clickBg).getComponent(sp.Skeleton);i.skeletonData&&i.skeletonData.name===n.Bg_spine||p.default.instance.loadSpine(i,"spine/ui/"+n.Bg_spine+"/",n.Bg_spine,this.name,{callback:function(){i&&cc.isValid(i.node)&&i.setAnimation(0,"loop_1",!0)}}),p.default.instance.loadSpine(this.spineMonkey,"spine/skin/"+n.Monkey_spine+"/",n.Monkey_spine,this.name,{callback:function(){t.spineMonkey&&cc.isValid(t.spineMonkey.node)&&(t.spineMonkey.setAnimation(0,"loop_1",!0),3==n.Skin_id?(t.shadowDog.node.setPosition(cc.v2(-150,-180)),t.shadowDog.node.scaleX=-1,t.shadowMonkey.node.setPosition(cc.v2(150,-180)),p.default.instance.loadSpriteFrame(t.shadowDog,"ui/home/ui_home_bg12",t.name),p.default.instance.loadSpriteFrame(t.shadowMonkey,"ui/home/ui_home_bg12",t.name)):(t.shadowDog.node.setPosition(cc.v2(-125,-180)),t.shadowDog.node.scaleX=1,t.shadowMonkey.node.setPosition(cc.v2(120,-180)),p.default.instance.loadSpriteFrame(t.shadowDog,"ui/home/ui_home_bg10",t.name),p.default.instance.loadSpriteFrame(t.shadowMonkey,"ui/home/ui_home_bg10",t.name)))}})}},e.prototype.playMonkeyDogAnim=function(){var t=this.calcClickSpeed();if(!(t>13.6)){this.spineMonkey.timeScale=t,this.scheduleOnce(function(){h.default.instance.playEffect("slap")},.5/t);var e=u.default.instance.angerData,n=e.curNum/e.totalNum,i=1;n>=.6?i=2:n>=.3?i=3:n>=0&&(i=4),this.spineMonkey.setAnimation(0,"start_"+i,!1),this.startAnimFinish=!1}},e.prototype.spineMoneyEventComplete=function(t){if(t&&t.animation){this.spineMonkey.timeScale=1;var e=t.animation.name,n=e.split("_");if("start"==n[0])this.standAnimData.standAnimName="loop_"+n[1],this.startAnimFinish=!0,this.spineMonkey.setAnimation(0,this.standAnimData.standAnimName,!1);else if("loop"==n[0]){if(this.standAnimData.animNum--,this.standAnimData.animNum<=0){this.standAnimData.animNum=this.ANIM_LOOP_COUNT;var i=e.split(".");1==i.length?this.standAnimData.standAnimName=i[0]+".2":this.standAnimData.standAnimName=i[0]}this.spineMonkey.setAnimation(0,this.standAnimData.standAnimName,!1)}}},e.prototype.playAngerAnim=function(t,e){void 0===e&&(e=!0),this.angerAnimComplete&&(this.angerSpine2.node.active=!0,this.angerSpine2.setAnimation(0,t,e),this.angerAnimComplete=!1)},e.prototype.spineAngerEventComplete=function(){this.angerAnimComplete=!0},e.prototype.calcClickSpeed=function(){var t=(new Date).getTime(),e=t-this.lastClickTime;this.lastClickTime=t;var n=.67/(e/1e3);return n=+n.toFixed(2),Math.max(1,n)},r([b(cc.Node)],e.prototype,"clickBg",void 0),r([b(cc.Node)],e.prototype,"topLayout",void 0),r([b(cc.Node)],e.prototype,"btn_air",void 0),r([b(cc.Node)],e.prototype,"centerLayout",void 0),r([b(cc.Sprite)],e.prototype,"head",void 0),r([b(cc.Label)],e.prototype,"nickName",void 0),r([b(cc.Label)],e.prototype,"level",void 0),r([b(cc.ProgressBar)],e.prototype,"levelPregress",void 0),r([b(cc.Label)],e.prototype,"upLevelRate",void 0),r([b(cc.Label)],e.prototype,"profitNum",void 0),r([b(cc.Label)],e.prototype,"goldNum",void 0),r([b(cc.Label)],e.prototype,"money",void 0),r([b(sp.Skeleton)],e.prototype,"spineMonkey",void 0),r([b(cc.Sprite)],e.prototype,"shadowDog",void 0),r([b(cc.Sprite)],e.prototype,"shadowMonkey",void 0),r([b(cc.Label)],e.prototype,"angerTime",void 0),r([b(cc.ProgressBar)],e.prototype,"angerProgress",void 0),r([b(cc.Label)],e.prototype,"angerRate",void 0),r([b(sp.Skeleton)],e.prototype,"angerSpine1",void 0),r([b(sp.Skeleton)],e.prototype,"angerSpine2",void 0),r([b(cc.Node)],e.prototype,"bottomToggle",void 0),r([b(cc.Prefab)],e.prototype,"flyEffect",void 0),r([v],e)}(cc.Component);n.default=k,cc._RF.pop()},{"../Table/GameTable":"GameTable","../tool/GameAudio":"GameAudio","../tool/GameData":"GameData","../tool/GameEvent":"GameEvent","../tool/GameGlobal":"GameGlobal","../tool/GamePublic":"GamePublic","../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils","../tool/GameWeb":"GameWeb"}],NumAnim:[function(t,e,n){"use strict";cc._RF.push(e,"2d914jXup1F0Yb5g2i9dxuz","NumAnim");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/GameData"),s=t("../tool/GameUtils"),c=t("../tool/PoolManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.num=null,e.isRedouble=!1,e.numData={normal:{size:30,color:"#FFFFFF"},critical:{size:44,color:"#FFE44F"}},e}return o(e,t),e.prototype.init=function(t,e){var n=a.default.instance.moneyData.clickNum;this.num.string="+"+e.num,e.num==n?(this.isRedouble=!1,this.num.node.color=(new cc.Color).fromHEX(this.numData.normal.color),this.num.fontSize=this.numData.normal.size):(this.isRedouble=!0,this.num.fontSize=this.numData.critical.size,this.num.node.color=(new cc.Color).fromHEX(this.numData.critical.color)),this.node.setPosition(e.pos),this.node.opacity=255,this.node.setScale(1),this.node.stopAllActions(),this.playAnim()},e.prototype.playAnim=function(){var t=this;if(cc.isValid(this.node)){var e=s.default.instance.getRndInteger(-10,10);cc.tween(this.node).by(.4,{x:e/2,y:200,scale:.3}).by(.8,{x:e/2,y:150,scale:-.4,opacity:-255}).call(function(){t.node.stopAllActions(),c.PoolManager.instance.put(t.node)}).start()}},r([p(cc.Label)],e.prototype,"num",void 0),r([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../tool/GameData":"GameData","../tool/GameUtils":"GameUtils","../tool/PoolManager":"PoolManager"}],PledgeRule:[function(t,e,n){"use strict";cc._RF.push(e,"cbd42XQcINHT49mrtFJIWwE","PledgeRule");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/BaseDialog"),s=t("../tool/GameData"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),s.default.instance.isShowPledgeRule&&(s.default.instance.isShowPledgeRule=!1,s.default.instance.saveData())},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.onBtnClose=function(){this.node.destroy()},r([l],e)}(a.default));n.default=u,cc._RF.pop()},{"../tool/BaseDialog":"BaseDialog","../tool/GameData":"GameData"}],Pledge:[function(t,e,n){"use strict";cc._RF.push(e,"cb2c1H8FWhLBpSe6TtP9F5d","Pledge");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../tool/BaseDialog"),l=t("../tool/GameData"),u=t("../tool/GameEvent"),p=t("../tool/GameUI"),d=t("../tool/GameUtils"),h=t("../tool/GameWeb"),f=cc._decorator,_=f.ccclass,y=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allNum=null,e.pledgeNum=null,e.goldTime=null,e.goldNum=null,e.baycNum=null,e.walletCode=null,e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this.requestGoldData()},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.initUI()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.requestGoldData=function(){return a(this,void 0,void 0,function(){var t=this;return s(this,function(){return this.goldTime.string="("+l.default.instance.pledgeData.pledgeNum+"/H)",this.goldNum.string=d.default.instance.getShowDiamond(l.default.instance.pledgeData.goldNum),l.default.instance.requestPledgeData(1,function(){cc.isValid(t.node)&&(t.goldTime.string="("+l.default.instance.pledgeData.pledgeNum+"/H)",t.goldNum.string=d.default.instance.getShowDiamond(l.default.instance.pledgeData.goldNum),t.numRollAnim(t.pledgeNum,l.default.instance.pledgeData.pledgeNum))}),[2]})})},e.prototype.initUI=function(){var t=l.default.instance.getTotalMoneyNum();this.baycNum.string=d.default.instance.getShowDiamond(t);var e=d.default.instance.getPlayNickName(l.default.instance.tonAddress,10);this.walletCode.string=e,l.default.instance.isShowPledgeRule&&p.default.instance.showDialog("ui/pledge/PledgeRule","PledgeRule",this)},e.prototype.onBtnClick=function(t){switch(t.target.name){case"btn_close":this.close();break;case"btn_help":p.default.instance.showDialog("ui/pledge/PledgeRule","PledgeRule",this);break;case"btn_pledge":h.default.instance.openLink("https://t.me/uptonfi_bot/uptonfi_bot_web");break;case"btn_speed":l.default.instance.isOpenAccelerate?h.default.instance.openLink("https://t.me/uptonfi_bot/uptonfi_bot_web"):p.default.instance.showDialog("ui/earning/Earnings","Earnings",this,!1,{type:3});break;case"btn_bonus":cc.director.getScene().getChildByName("Canvas").getComponent("Main").onToggleEvent({node:{name:"toggle1"}},!1);break;case"btn_copy":p.default.instance.copyToClipboard(l.default.instance.tonAddress)}},e.prototype.numRollAnim=function(t,e){var n=this;if(t&&cc.isValid(t.node)&&!(0>=e)){var i,o=e-0,r=0;i=e<=10?.5:e<=100?1:2,this.schedule(function(e){r+=e;var a=Math.min(r/i,1),s=0+Math.floor(o*a);t.string=s.toString(),1===a&&(n.unscheduleAllCallbacks(),cc.tween(t.node).repeat(3,cc.tween().to(.3,{scale:1.5}).to(.3,{scale:1})).start())},0)}},e.prototype.close=function(){this.node.destroy(),u.default.instance.dispatchEvent(u.default.UPDATE_TOGGLE_PAGE)},r([y(cc.Label)],e.prototype,"allNum",void 0),r([y(cc.Label)],e.prototype,"pledgeNum",void 0),r([y(cc.Label)],e.prototype,"goldTime",void 0),r([y(cc.Label)],e.prototype,"goldNum",void 0),r([y(cc.Label)],e.prototype,"baycNum",void 0),r([y(cc.Label)],e.prototype,"walletCode",void 0),r([_],e)}(c.default);n.default=m,cc._RF.pop()},{"../tool/BaseDialog":"BaseDialog","../tool/GameData":"GameData","../tool/GameEvent":"GameEvent","../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils","../tool/GameWeb":"GameWeb"}],PoolManager:[function(t,e,n){"use strict";cc._RF.push(e,"5c9adNm0HhFtr+pDKePrNGV","PoolManager");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.PoolManager=void 0;var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=[],e.prefabMap={},e.poolMap={},e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this;for(var t=0;t<this.prefab.length;t++)this.prefabMap[this.prefab[t].name]=t,this.poolMap[this.prefab[t].name+"Pool"]=new cc.NodePool},e.prototype.get=function(t){var e=this.prefabMap[t];if(null!=e){var n=this.poolMap[t+"Pool"].get();return this.poolMap[t+"Pool"].size()>0?n.active=!0:(n=cc.instantiate(this.prefab[e])).active=!0,n}},e.prototype.put=function(t){t.active=!1,this.poolMap[t.name+"Pool"].put(t)},e.prototype.ClearPool=function(t){this.poolMap[t.name+"Pool"].clear()},e.prototype.ClearPoolAll=function(){for(var t in this.poolMap)this.poolMap[t].clear()},r([c(cc.Prefab)],e.prototype,"prefab",void 0),n=r([s],e)}(cc.Component);n.PoolManager=l,cc._RF.pop()},{}],PopLoading:[function(t,e,n){"use strict";cc._RF.push(e,"cddcfzdo/tCpbZsD55XoIrA","PopLoading");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./tool/GameUI"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spine=null,e}return o(e,t),e.prototype.init=function(){a.default.instance.loadingToast=this,this.node.active=!1},e.prototype.updateToast=function(){this.node.zIndex=a.DIALOG_Z_INDEX.TI_SHI,this.node.active=!0,this.spine.setAnimation(0,"loop_1",!0)},e.prototype.closeToast=function(){cc.isValid(this.node)&&(this.node.active=!1)},r([l(sp.Skeleton)],e.prototype,"spine",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./tool/GameUI":"GameUI"}],PopTiShi:[function(t,e,n){"use strict";cc._RF.push(e,"70930Oh3DtEJYKVmguk3prc","PopTiShi");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./Table/GameTable"),s=t("./tool/GameGlobal"),c=a.default.data.LanguageText,l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockBg=null,e.text=null,e.anim=null,e.isPlayAnim=!1,e}return o(e,t),e.prototype.init=function(t,e){this.isPlayAnim||(this.anim.y=e.initY?e.initY:60,this.anim.opacity=255,this.text.string=this.getTextStr(e.text))},e.prototype.start=function(){var t=this;this.anim.stopAllActions(),this.isPlayAnim=!0,cc.tween(this.anim).to(.3,{position:new cc.Vec3(this.anim.x,this.anim.y+60,0)}).delay(2.5).to(.3,{position:new cc.Vec3(this.anim.x,this.anim.y+120,0),opacity:0}).call(function(){t.isPlayAnim=!1,t.node.destroy()}).start()},e.prototype.getTextStr=function(t){var e=c[t];return e?e["type_"+s.default.lauguageType]:t},r([p(cc.Node)],e.prototype,"blockBg",void 0),r([p(cc.Label)],e.prototype,"text",void 0),r([p(cc.Node)],e.prototype,"anim",void 0),r([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"./Table/GameTable":"GameTable","./tool/GameGlobal":"GameGlobal"}],QRCode:[function(require,module,exports){"use strict";cc._RF.push(module,"ef5f7MnkuNLoJ/Au4vE5NV2","QRCode");var __extends=this&&this.__extends||(extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),extendStatics,__decorate=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(exports,"__esModule",{value:!0}),exports.QRCode=exports.QRCodeStyle=exports.QRCodePlugin=void 0;var _a=cc._decorator,ccclass=_a.ccclass,property=_a.property,executeInEditMode=_a.executeInEditMode;exports.QRCodePlugin=function(){function t(t){this.mode=n.MODE_8BIT_BYTE,this.data=t}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}t.prototype={getLength:function(){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},e.prototype={addData:function(e){var n=new t(e);this.dataList.push(n),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=c.getRSBlocks(t,this.errorCorrectLevel),n=new l,i=0,r=0;r<e.length;r++)i+=e[r].dataCount;for(r=0;r<this.dataList.length;r++){var a=this.dataList[r];n.put(a.mode,4),n.put(a.getLength(),o.getLengthInBits(a.mode,t)),a.write(n)}if(n.getLengthInBits()<=8*i)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[i][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,n),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(this.modules[t+n][e+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=o.getLostPoint(this);(0==n||t>i)&&(t=i,e=n)}return e},createMovieClip:function(t,e,n){var i=t.createEmptyMovieClip(e,n);this.make();for(var o=0;o<this.modules.length;o++)for(var r=1*o,a=0;a<this.modules[o].length;a++){var s=1*a;this.modules[o][a]&&(i.beginFill(0,100),i.moveTo(s,r),i.lineTo(s+1,r),i.lineTo(s+1,r+1),i.lineTo(s,r+1),i.endFill())}return i},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=o.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],r=t[n];if(null==this.modules[i][r])for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)this.modules[i+a][r+s]=-2==a||2==a||-2==s||2==s||0==a&&0==s}},setupTypeNumber:function(t){for(var e=o.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++)i=!t&&1==(e>>n&1),this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,i=o.getBCHTypeInfo(n),r=0;r<15;r++){var a=!t&&1==(i>>r&1);r<6?this.modules[r][8]=a:r<8?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(r=0;r<15;r++)a=!t&&1==(i>>r&1),r<8?this.modules[8][this.moduleCount-r-1]=a:r<9?this.modules[8][15-r-1+1]=a:this.modules[8][15-r-1]=a;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,i=this.moduleCount-1,r=7,a=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var c=0;c<2;c++)if(null==this.modules[i][s-c]){var l=!1;a<t.length&&(l=1==(t[a]>>>r&1)),o.getMask(e,i,s-c)&&(l=!l),this.modules[i][s-c]=l,-1==--r&&(a++,r=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,n,i){for(var r=c.getRSBlocks(t,n),a=new l,s=0;s<i.length;s++){var u=i[s];a.put(u.mode,4),a.put(u.getLength(),o.getLengthInBits(u.mode,t)),u.write(a)}var p=0;for(s=0;s<r.length;s++)p+=r[s].dataCount;if(a.getLengthInBits()>8*p)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*p+")");for(a.getLengthInBits()+4<=8*p&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*p||(a.put(e.PAD0,8),a.getLengthInBits()>=8*p));)a.put(e.PAD1,8);return e.createBytes(a,r)},e.createBytes=function(t,e){for(var n=0,i=0,r=0,a=new Array(e.length),c=new Array(e.length),l=0;l<e.length;l++){var u=e[l].dataCount,p=e[l].totalCount-u;i=Math.max(i,u),r=Math.max(r,p),a[l]=new Array(u);for(var d=0;d<a[l].length;d++)a[l][d]=255&t.buffer[d+n];n+=u;var h=o.getErrorCorrectPolynomial(p),f=new s(a[l],h.getLength()-1).mod(h);for(c[l]=new Array(h.getLength()-1),d=0;d<c[l].length;d++){var _=d+f.getLength()-c[l].length;c[l][d]=_>=0?f.get(_):0}}var y=0;for(d=0;d<e.length;d++)y+=e[d].totalCount;var m=new Array(y),g=0;for(d=0;d<i;d++)for(l=0;l<e.length;l++)d<a[l].length&&(m[g++]=a[l][d]);for(d=0;d<r;d++)for(l=0;l<e.length;l++)d<c[l].length&&(m[g++]=c[l][d]);return m};var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2};e.QRErrorCorrectLevel=i;for(var o={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;o.getBCHDigit(e)-o.getBCHDigit(o.G15)>=0;)e^=o.G15<<o.getBCHDigit(e)-o.getBCHDigit(o.G15);return(t<<10|e)^o.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;o.getBCHDigit(e)-o.getBCHDigit(o.G18)>=0;)e^=o.G18<<o.getBCHDigit(e)-o.getBCHDigit(o.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return o.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case 0:return(e+n)%2==0;case 1:return e%2==0;case 2:return n%3==0;case 3:return(e+n)%3==0;case 4:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case 5:return e*n%2+e*n%3==0;case 6:return(e*n%2+e*n%3)%2==0;case 7:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new s([1],0),n=0;n<t;n++)e=e.multiply(new s([1,r.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i++)for(var o=0;o<e;o++){for(var r=0,a=t.isDark(i,o),s=-1;s<=1;s++)if(!(i+s<0||e<=i+s))for(var c=-1;c<=1;c++)o+c<0||e<=o+c||0==s&&0==c||a==t.isDark(i+s,o+c)&&r++;r>5&&(n+=3+r-5)}for(i=0;i<e-1;i++)for(o=0;o<e-1;o++){var l=0;t.isDark(i,o)&&l++,t.isDark(i+1,o)&&l++,t.isDark(i,o+1)&&l++,t.isDark(i+1,o+1)&&l++,0!=l&&4!=l||(n+=3)}for(i=0;i<e;i++)for(o=0;o<e-6;o++)t.isDark(i,o)&&!t.isDark(i,o+1)&&t.isDark(i,o+2)&&t.isDark(i,o+3)&&t.isDark(i,o+4)&&!t.isDark(i,o+5)&&t.isDark(i,o+6)&&(n+=40);for(o=0;o<e;o++)for(i=0;i<e-6;i++)t.isDark(i,o)&&!t.isDark(i+1,o)&&t.isDark(i+2,o)&&t.isDark(i+3,o)&&t.isDark(i+4,o)&&!t.isDark(i+5,o)&&t.isDark(i+6,o)&&(n+=40);var u=0;for(o=0;o<e;o++)for(i=0;i<e;i++)t.isDark(i,o)&&u++;return n+Math.abs(100*u/e/e-50)/5*10}},r={glog:function(t){if(t<1)throw new Error("glog("+t+")");return r.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return r.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},a=0;a<8;a++)r.EXP_TABLE[a]=1<<a;for(a=8;a<256;a++)r.EXP_TABLE[a]=r.EXP_TABLE[a-4]^r.EXP_TABLE[a-5]^r.EXP_TABLE[a-6]^r.EXP_TABLE[a-8];for(a=0;a<255;a++)r.LOG_TABLE[r.EXP_TABLE[a]]=a;function s(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}function c(t,e){this.totalCount=t,this.dataCount=e}function l(){this.buffer=new Array,this.length=0}return s.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=r.gexp(r.glog(this.get(n))+r.glog(t.get(i)));return new s(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=r.glog(this.get(0))-r.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<t.getLength();i++)n[i]^=r.gexp(r.glog(t.get(i))+e);return new s(n,0).mod(t)}},c.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],c.getRSBlocks=function(t,e){var n=c.getRsBlockTable(t,e);if(null==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=n.length/3,o=new Array,r=0;r<i;r++)for(var a=n[3*r+0],s=n[3*r+1],l=n[3*r+2],u=0;u<a;u++)o.push(new c(s,l));return o},c.getRsBlockTable=function(t,e){switch(e){case i.L:return c.RS_BLOCK_TABLE[4*(t-1)+0];case i.M:return c.RS_BLOCK_TABLE[4*(t-1)+1];case i.Q:return c.RS_BLOCK_TABLE[4*(t-1)+2];case i.H:return c.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},l.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},e}(),exports.QRCodeStyle=cc.Enum({Default:0,Circle:1});var QRCode=function(_super){function QRCode(){var t=null!==_super&&_super.apply(this,arguments)||this;return t.String="\u4e8c\u7ef4\u7801\u5185\u5bb9",t.Icon=null,t.Background=cc.Color.WHITE,t.Foreground=cc.Color.BLACK,t.BorderWidth=0,t.Style=exports.QRCodeStyle.Default,t._lastOptions=null,t._graphics=null,t._width=0,t._height=0,t}return __extends(QRCode,_super),Object.defineProperty(QRCode.prototype,"string",{get:function(){return this.String},set:function(t){this.String=t},enumerable:!1,configurable:!0}),Object.defineProperty(QRCode.prototype,"icon",{get:function(){return this.Icon},set:function(t){this.Icon=t},enumerable:!1,configurable:!0}),Object.defineProperty(QRCode.prototype,"background",{get:function(){return this.Background},set:function(t){this.Background=t},enumerable:!1,configurable:!0}),Object.defineProperty(QRCode.prototype,"foreground",{get:function(){return this.Foreground},set:function(t){this.Foreground=t},enumerable:!1,configurable:!0}),Object.defineProperty(QRCode.prototype,"borderWidth",{get:function(){return this.BorderWidth},set:function(t){this.BorderWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(QRCode.prototype,"style",{get:function(){return this.Style},set:function(t){this.Style=t},enumerable:!1,configurable:!0}),QRCode.prototype.initGraphics=function(){this._width=this.node.width,this._height=this.node.height,this.Background=this.Background||cc.Color.WHITE,this.Foreground=this.Foreground||cc.Color.BLACK,this._graphics||(this._graphics=this.getComponent(cc.Graphics)||this.addComponent(cc.Graphics))},QRCode.prototype.drawQRCode=function(options){options.boderWidth=options.boderWidth||0,options.style=options.style||exports.QRCodeStyle.Default,options.background=options.background||cc.Color.WHITE,options.foreground=options.foreground||cc.Color.BLACK,options.graphic.clear(),options.graphic.fillColor=options.background,options.graphic.rect(-options.width/2,-options.height/2,options.width,options.height),options.graphic.fill();var qrcWidth=options.width-2*options.boderWidth,qrcHeight=options.height-2*options.boderWidth;options.graphic.fillColor=options.foreground;var qrc=new exports.QRCodePlugin(-1,exports.QRCodePlugin.QRErrorCorrectLevel.H),qrcText=eval("'"+encodeURI(options.text).replace(/%/gm,"\\x")+"'");qrc.addData(qrcText),qrc.make();for(var count=qrc.getModuleCount(),tileWidth=qrcWidth/count,tileHeight=qrcHeight/count,row=0;row<count;row++)for(var col=0;col<count;col++)if(qrc.isDark(row,col)){var w=Math.ceil((col+1)*tileWidth)-Math.floor(col*tileWidth),h=Math.ceil((row+1)*tileWidth)-Math.floor(row*tileWidth);options.style!=exports.QRCodeStyle.Circle?options.graphic.fillRect(Math.round(col*tileWidth)-options.width/2+options.boderWidth,Math.round(row*tileHeight)-options.height/2+options.boderWidth,w,h):(options.graphic.roundRect(Math.round(col*tileWidth)-options.width/2+options.boderWidth,Math.round(row*tileHeight)-options.height/2+options.boderWidth,w,h,tileWidth/2),options.graphic.fill())}var iconNode=this.node.getChildByName("icon");if(options.icon){null==iconNode&&(iconNode=new cc.Node("icon")),iconNode.setContentSize(new cc.Size(qrcWidth/5,qrcHeight/5));var sprite=iconNode.getComponent(cc.Sprite)||iconNode.addComponent(cc.Sprite);sprite.spriteFrame=options.icon,sprite.sizeMode=cc.Sprite.SizeMode.CUSTOM,iconNode.parent=this.node}else null!=iconNode&&(iconNode.removeFromParent(),iconNode.destroy())},QRCode.prototype.clearQRCode=function(){if(this._graphics){this._graphics.clear();var t=this.node.getChildByName("icon");cc.isValid(t)&&(t.removeFromParent(),t.destroy())}},QRCode.prototype.hasChanged=function(t){var e=this._lastOptions;return!e||t.text!=e.text||t.width!=e.width||t.height!=e.height||t.padding!=e.boderWidth||t.background!=e.background||t.foreground!=e.foreground||t.icon!=e.icon||t.style!=e.style},QRCode.prototype.update=function(){if(this.initGraphics(),this._graphics)if(this.String&&""!=this.String){var t={text:this.String,graphic:this._graphics,width:this._width,height:this._height,background:this.Background,foreground:this.Foreground,boderWidth:this.BorderWidth,icon:this.Icon,style:this.Style};this.hasChanged(t)&&(this.drawQRCode(t),this._lastOptions=t)}else this.clearQRCode()},__decorate([property({tooltip:"\u4e8c\u7ef4\u7801\u5185\u5bb9"})],QRCode.prototype,"String",void 0),__decorate([property({type:cc.SpriteFrame,tooltip:"\u4e2d\u95f4\u663e\u793a\u7684icon"})],QRCode.prototype,"Icon",void 0),__decorate([property({tooltip:"\u80cc\u666f\u8272"})],QRCode.prototype,"Background",void 0),__decorate([property({tooltip:"\u524d\u666f\u8272"})],QRCode.prototype,"Foreground",void 0),__decorate([property({type:cc.Integer,tooltip:"\u4e8c\u7ef4\u7801\u5916\u8fb9\u8ddd"})],QRCode.prototype,"BorderWidth",void 0),__decorate([property({type:exports.QRCodeStyle,tooltip:"\u4e8c\u7ef4\u7801\u6837\u5f0f"})],QRCode.prototype,"Style",void 0),QRCode=__decorate([ccclass,executeInEditMode],QRCode),QRCode}(cc.Component);exports.QRCode=QRCode,cc._RF.pop()},{}],RankListItem:[function(t,e,n){"use strict";cc._RF.push(e,"5712dB29ApIgblArTyDnokA","RankListItem");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/GameData"),s=t("../tool/GameUI"),c=t("../tool/GameUtils"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.bgArr=[],e.rankIcon=null,e.rankIconArr=[],e.rankLab=null,e.head=null,e.nickName=null,e.goldIcon=null,e.goldIconArr=[],e.num=null,e}return o(e,t),e.prototype.init=function(t,e){this.rankData=e,e.isMe?this.initMeUI():this.initOtherUI()},e.prototype.initMeUI=function(){this.nickName.string=c.default.instance.getPlayNickName(a.default.instance.nickName),this.rankData.rank>=1&&this.rankData.rank<=3?(this.rankIcon.getComponent(cc.Sprite).spriteFrame=this.rankIconArr[this.rankData.rank-1],this.rankIcon.active=!0,this.rankLab.node.active=!1,this.bg.spriteFrame=this.bgArr[this.rankData.rank+1]):(this.rankLab.string=""+(this.rankData.rank>=0?this.rankData.rank:"--"),this.rankIcon.active=!1,this.rankLab.node.active=!0,this.bg.spriteFrame=this.bgArr[1]),s.default.instance.loadTGHead(this.head,a.default.instance.photoUrl);var t=this.rankData.curMoneyType;if(this.goldIcon.spriteFrame=this.goldIconArr[t-1],1==t){this.num.node.color=(new cc.Color).fromHEX("#FFB424"),this.num.node.getComponent(cc.LabelOutline).enabled=!1;var e=c.default.instance.getShowDiamond(a.default.instance.moneyData.serverTotal);this.num.string=e||"0"}else if(2==t){this.num.node.color=(new cc.Color).fromHEX("#FFFFFF"),this.num.node.getComponent(cc.LabelOutline).enabled=!0;var n=c.default.instance.getShowDiamond(a.default.instance.pledgeData.goldNum);this.num.string=n||"0"}},e.prototype.initOtherUI=function(){this.nickName.string=c.default.instance.getPlayNickName(this.rankData.name),this.rankData.rank<=3?(this.rankIcon.getComponent(cc.Sprite).spriteFrame=this.rankIconArr[this.rankData.rank-1],this.rankIcon.active=!0,this.rankLab.node.active=!1,this.bg.spriteFrame=this.bgArr[this.rankData.rank+1]):(this.rankLab.string=""+(this.rankData.rank?this.rankData.rank:"--"),this.rankIcon.active=!1,this.rankLab.node.active=!0,this.bg.spriteFrame=this.bgArr[0]);var t=c.default.instance.getShowDiamond(this.rankData.score);this.num.string=t||"0",s.default.instance.loadTGHead(this.head,this.rankData.photoUrl);var e=this.rankData.curMoneyType;this.goldIcon.spriteFrame=this.goldIconArr[e-1],1==e?(this.num.node.color=(new cc.Color).fromHEX("#FFB424"),this.num.node.getComponent(cc.LabelOutline).enabled=!1):2==e&&(this.num.node.color=(new cc.Color).fromHEX("#FFFFFF"),this.num.node.getComponent(cc.LabelOutline).enabled=!0)},r([p(cc.Sprite)],e.prototype,"bg",void 0),r([p(cc.SpriteFrame)],e.prototype,"bgArr",void 0),r([p(cc.Node)],e.prototype,"rankIcon",void 0),r([p(cc.SpriteFrame)],e.prototype,"rankIconArr",void 0),r([p(cc.Label)],e.prototype,"rankLab",void 0),r([p(cc.Sprite)],e.prototype,"head",void 0),r([p(cc.Label)],e.prototype,"nickName",void 0),r([p(cc.Sprite)],e.prototype,"goldIcon",void 0),r([p(cc.SpriteFrame)],e.prototype,"goldIconArr",void 0),r([p(cc.Label)],e.prototype,"num",void 0),r([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../tool/GameData":"GameData","../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils"}],RankNew:[function(t,e,n){"use strict";cc._RF.push(e,"f164eOXJoZJqbyYx7rsyy3D","RankNew");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/BaseDialog"),s=t("../tool/List"),c=t("../tool/GameGlobal"),l=t("../tool/GameHttp"),u=t("../tool/GameAudio"),p=t("../tool/GameUtils"),d=t("../tool/GameData"),h=t("../tool/GameUI"),f=cc._decorator,_=f.ccclass,y=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moneyIcon=null,e.moneyIconArr=[],e.moneyNum=null,e.rankList=null,e.rankPageItem=null,e.tips=null,e.myRankItem=null,e.rankLevel=0,e.curPage=1,e.curListType=2,e.curMoneyType=1,e.requestEnd=!0,e.rankData={list:[],rank:-1,total:0,page:0,per:0},e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.addEvent(),this.initWidget(),this.updateMoney(),this.requestRank(!1)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.removeEvent()},e.prototype.addEvent=function(){this.rankList.node.on("scroll-to-bottom",this.scrollBottom,this)},e.prototype.removeEvent=function(){this.rankList&&cc.isValid(this.rankList.node)&&this.rankList.node.off("scroll-to-bottom",this.scrollBottom,this)},e.prototype.initWidget=function(){var t=this,e=cc.find("content/bottomBg",this.node),n=cc.view.getVisibleSize().height/2;this.scheduleOnce(function(){var i=e.y+n;e.height=i,t.rankList.node.height=i-290,cc.find("view",t.rankList.node).height=i-290,t.tips.y=-(i-290)/2},1/60)},e.prototype.updateMoney=function(){switch(this.curMoneyType){case 1:this.moneyIcon.spriteFrame=this.moneyIconArr[0],this.moneyNum.string=p.default.instance.getShowDiamond(d.default.instance.moneyData.serverTotal),this.moneyNum.node.color=(new cc.Color).fromHEX("#FFB424");break;case 2:this.moneyIcon.spriteFrame=this.moneyIconArr[1],this.moneyNum.string=p.default.instance.getShowDiamond(d.default.instance.pledgeData.goldNum),this.moneyNum.node.color=(new cc.Color).fromHEX("#FFFFFF")}},e.prototype.scrollBottom=function(){if(this.requestEnd){var t=Math.ceil(this.rankData.total/this.rankData.per);this.curPage++,this.curPage>t?this.curPage=t:this.requestRank(!0)}},e.prototype.onBottomToggleEvent=function(t){if(u.default.instance.playEffect("dianji"),this.requestEnd){switch(t.node.name){case"toggle1":this.curMoneyType=1;break;case"toggle2":this.curMoneyType=2}this.curPage=1,this.requestRank(!1),this.updateMoney()}},e.prototype.onListRenderEvent=function(t,e){var n=t.getComponent("RankListItem"),i=this.rankData.list[e];i.curMoneyType=this.curMoneyType,n.init(this,i)},e.prototype.requestRank=function(t){var e=this;void 0===t&&(t=!1),h.default.instance.showLoading(!0);var n=c.default.httpPort.getRankingData,i={type:this.curMoneyType,pageSize:50,page:this.curPage};this.requestEnd=!1;var o=this;l.default.instance.post(n,i,function(n){if(h.default.instance.showLoading(!1),e.requestEnd=!0,(n=JSON.parse(n))&&200===n.ret_code){var i=n.data;if(t)Array.prototype.push.apply(o.rankData.list,i.list);else{if(!i||!o.rankData)return;o.rankData.list=i.list}if(o.rankData.rank=i.rank,o.rankData.total=i.total,o.rankData.page=i.page,o.rankData.per=i.per,o&&cc.isValid(o.node)&&o.rankList){var r=o.rankData.list?o.rankData.list.length:0;o.rankList.numItems=r,o.tips.active=0==r,o.updateMyRank()}}},function(t){h.default.instance.showLoading(!1),o.tips.active=!0,o.requestEnd=!0,p.default.instance.log("caoyang",p.LOG_LEVEL.ERROR,t)})},e.prototype.updateMyRank=function(){this.rankData&&this.rankData.rank&&this.rankData.list?(this.myRankItem.active=!0,this.myRankItem.getComponent("RankListItem").init(this,{isMe:!0,rank:this.rankData.rank,curMoneyType:this.curMoneyType})):this.myRankItem.active=!1},e.prototype.onBtnClose=function(){this.node.destroy()},r([y(cc.Sprite)],e.prototype,"moneyIcon",void 0),r([y(cc.SpriteFrame)],e.prototype,"moneyIconArr",void 0),r([y(cc.Label)],e.prototype,"moneyNum",void 0),r([y(s.default)],e.prototype,"rankList",void 0),r([y(cc.Prefab)],e.prototype,"rankPageItem",void 0),r([y(cc.Node)],e.prototype,"tips",void 0),r([y(cc.Node)],e.prototype,"myRankItem",void 0),r([_],e)}(a.default);n.default=m,cc._RF.pop()},{"../tool/BaseDialog":"BaseDialog","../tool/GameAudio":"GameAudio","../tool/GameData":"GameData","../tool/GameGlobal":"GameGlobal","../tool/GameHttp":"GameHttp","../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils","../tool/List":"List"}],RankPageItem:[function(t,e,n){"use strict";cc._RF.push(e,"7dd10ZdjZdK3omWnl6mZBem","RankPageItem");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/GameUtils"),s=t("../Table/GameTable"),c=t("../tool/GameData"),l=t("../tool/GameUI"),u=s.default.data.MonkeyExp,p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spine=null,e.title=null,e.progressBar=null,e.rate=null,e}return o(e,t),e.prototype.init=function(t,e){var n=this;this.title.string=e.Tier_name;var i=c.default.instance.moneyData.serverTotal,o=a.default.instance.clone(u[e.Goal].Up_points),r=0;-1==o?(r=c.default.instance.getCurRankData(i).Leaderboard_id<e.Leaderboard_id?i/(o=u[e.Goal-1].Up_points):1,this.rate.string=a.default.instance.getShowDiamond(i)+"/\u221e"):(r=i/o,this.rate.string=a.default.instance.getShowDiamond(i)+"/"+a.default.instance.getShowDiamond(o)),this.progressBar.progress=Math.min(1,r),l.default.instance.loadSpine(this.spine,"spine/ui/pub_1-5/"+e.Phb_spine[0]+"/",e.Phb_spine[0],this.name,{callback:function(){n.spine&&cc.isValid(n.spine.node)&&n.spine.setAnimation(0,e.Phb_spine[1],!0)}})},r([h(sp.Skeleton)],e.prototype,"spine",void 0),r([h(cc.Label)],e.prototype,"title",void 0),r([h(cc.ProgressBar)],e.prototype,"progressBar",void 0),r([h(cc.Label)],e.prototype,"rate",void 0),r([d],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../Table/GameTable":"GameTable","../tool/GameData":"GameData","../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils"}],Rank:[function(t,e,n){"use strict";cc._RF.push(e,"ddd1cTDLuNHS733AjsNYJLf","Rank");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/BaseDialog"),s=t("../tool/List"),c=t("../Table/GameTable"),l=t("../tool/GameData"),u=t("../tool/GameUI"),p=t("../tool/GameGlobal"),d=t("../tool/GameHttp"),h=t("../tool/GameAudio"),f=t("../tool/GameUtils"),_=c.default.data.Leaderboard,y=cc._decorator,m=y.ccclass,g=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.rankPageView=null,e.lightSpine=null,e.btn_left=null,e.btn_right=null,e.upTonNum=null,e.rankList=null,e.rankPageItem=null,e.tips=null,e.myRankItem=null,e.rankPageData=[],e.rankLevel=0,e.curPage=1,e.curListType=2,e.curMoneyType=1,e.requestEnd=!0,e.rankData={list:[],rank:-1,total:0,page:0,per:0},e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this.getRankTableData()},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.addEvent(),this.initWidget(),this.updateUpTon(),this.updateRankPageUI(!0)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.removeEvent()},e.prototype.addEvent=function(){this.rankPageView.node.on("scroll-ended",this.pageScrollEnd,this),this.rankList.node.on("scroll-to-bottom",this.scrollBottom,this)},e.prototype.removeEvent=function(){this.rankPageView&&cc.isValid(this.rankPageView.node)&&this.rankPageView.node.off("scroll-ended",this.pageScrollEnd,this),this.rankList&&cc.isValid(this.rankList.node)&&this.rankList.node.off("scroll-to-bottom",this.scrollBottom,this)},e.prototype.initWidget=function(){var t=this,e=cc.find("content/bottomBg",this.node),n=cc.view.getVisibleSize().height/2;this.scheduleOnce(function(){var i=e.y+n;e.height=i,t.rankList.node.height=i-370,cc.find("view",t.rankList.node).height=i-370,t.tips.y=-i/2+50},1/60)},e.prototype.getRankTableData=function(){for(var t in this.rankPageData=[],_)this.rankPageData.push(_[t])},e.prototype.updateUpTon=function(){this.upTonNum.string=f.default.instance.getShowDiamond(l.default.instance.pledgeData.goldNum)},e.prototype.updateRankPageUI=function(t){var e=this;if(void 0===t&&(t=!0),t){this.rankPageView.content.childrenCount>0&&this.rankPageView.removeAllPages();for(var n=1;n<=this.rankPageData.length;n++){var i=cc.instantiate(this.rankPageItem);i.name="rankPageItem_"+n,i.getComponent("RankPageItem").init(this,this.rankPageData[n-1]),this.rankPageView.addPage(i)}}var o=l.default.instance.getCurRankData();this.rankLevel=o.Leaderboard_id-1,this.scheduleOnce(function(){e.rankPageView.scrollToPage(e.rankLevel,.1)},1/60)},e.prototype.pageScrollEnd=function(t){var e=t.getCurrentPageIndex();this.rankLevel=e,this.curPage=1,this.updateUpBgUI(),this.requestRank(!1),this.updatePageBtnUI()},e.prototype.scrollBottom=function(){if(this.requestEnd){var t=Math.ceil(this.rankData.total/this.rankData.per);this.curPage++,this.curPage>t?this.curPage=t:this.requestRank(!0)}},e.prototype.updateUpBgUI=function(){var t=this.rankPageData[this.rankLevel];u.default.instance.loadSpriteFrame(this.bg,"ui/rank/"+t.Phb_bg,this.name),this.lightSpine.setSkin("loop_"+t.Leaderboard_id)},e.prototype.updatePageBtnUI=function(){this.rankLevel<=0?(this.btn_left.active=!1,this.btn_right.active=!0):this.rankLevel>=this.rankPageData.length-1?(this.btn_left.active=!0,this.btn_right.active=!1):(this.btn_left.active=!0,this.btn_right.active=!0)},e.prototype.onBtnChangePageView=function(t){if(this.requestEnd){switch(t.target.name){case"btn_left":this.rankLevel--;break;case"btn_right":this.rankLevel++}this.rankLevel>this.rankPageData.length-1&&(this.rankLevel=0),this.rankLevel<0&&(this.rankLevel=this.rankPageData.length-1),this.rankPageView.scrollToPage(this.rankLevel,.3)}},e.prototype.onListToggleEvent=function(t){if(h.default.instance.playEffect("dianji"),this.requestEnd){switch(t.node.name){case"toggle1":this.curListType=1;break;case"toggle2":this.curListType=2}this.curPage=1,this.requestRank(!1)}},e.prototype.onBottomToggleEvent=function(t){if(h.default.instance.playEffect("dianji"),this.requestEnd){switch(t.node.name){case"toggle1":this.curMoneyType=1;break;case"toggle2":this.curMoneyType=2}this.curPage=1,this.requestRank(!1)}},e.prototype.onListRenderEvent=function(t,e){var n=t.getComponent("RankListItem"),i=this.rankData.list[e];n.init(this,i)},e.prototype.requestRank=function(t){var e=this;void 0===t&&(t=!1);var n=p.default.httpPort.ranking,i={type:this.curListType,way:this.curMoneyType,level:this.rankLevel+1,page:this.curPage};this.requestEnd=!1,d.default.instance.post(n,i,function(n){if(e.requestEnd=!0,(n=JSON.parse(n))&&200===n.ret_code){var i=n.data;if(t)Array.prototype.push.apply(e.rankData.list,i.list);else{if(!i||!e.rankData)return;e.rankData.list=i.list}if(e.rankData.list=[],e.rankData.rank=i.rank,e.rankData.total=i.total,e.rankData.page=i.page,e.rankData.per=i.per,e&&cc.isValid(e.node)&&e.rankList){var o=e.rankData.list.length;e.rankList.numItems=o,e.tips.active=0==o,e.updateMyRank()}}},function(t){e.requestEnd=!0,f.default.instance.log("caoyang",f.LOG_LEVEL.ERROR,t)})},e.prototype.updateMyRank=function(){this.rankData&&this.rankData.rank&&this.myRankItem.getComponent("RankListItem").init(this,{isMe:!0,rank:this.rankData.rank})},e.prototype.onBtnClose=function(){this.node.destroy()},r([g(cc.Sprite)],e.prototype,"bg",void 0),r([g(cc.PageView)],e.prototype,"rankPageView",void 0),r([g(sp.Skeleton)],e.prototype,"lightSpine",void 0),r([g(cc.Node)],e.prototype,"btn_left",void 0),r([g(cc.Node)],e.prototype,"btn_right",void 0),r([g(cc.Label)],e.prototype,"upTonNum",void 0),r([g(s.default)],e.prototype,"rankList",void 0),r([g(cc.Prefab)],e.prototype,"rankPageItem",void 0),r([g(cc.Node)],e.prototype,"tips",void 0),r([g(cc.Node)],e.prototype,"myRankItem",void 0),r([m],e)}(a.default);n.default=v,cc._RF.pop()},{"../Table/GameTable":"GameTable","../tool/BaseDialog":"BaseDialog","../tool/GameAudio":"GameAudio","../tool/GameData":"GameData","../tool/GameGlobal":"GameGlobal","../tool/GameHttp":"GameHttp","../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils","../tool/List":"List"}],Setting:[function(t,e,n){"use strict";cc._RF.push(e,"2333evN/mBNI7zoXtwiDBV6","Setting");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/BaseDialog"),s=t("../tool/GameAudio"),c=t("../tool/GameData"),l=t("../tool/GameGlobal"),u=t("../tool/GameUI"),p=t("../tool/GameUtils"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=null,e.btn_music=null,e.btn_sound=null,e.version=null,e.clickCnt=0,e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.initUI()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.initUI=function(){cc.find("music_on",this.btn_music).active=!1,cc.find("music_off",this.btn_music).active=!0,s.default.instance.isEnableEffect()?(cc.find("sound_on",this.btn_sound).active=!0,cc.find("sound_off",this.btn_sound).active=!1):(cc.find("sound_on",this.btn_sound).active=!1,cc.find("sound_off",this.btn_sound).active=!0),this.version.string=l.default.version;var t=p.default.instance.getPlayNickName(c.default.instance.userId,6);this.id.string="ID: "+t},e.prototype.onClickBtnMusic=function(){},e.prototype.onClickBtnEffect=function(){var t=s.default.instance.isEnableEffect();s.default.instance.enableEffect(!t),this.initUI()},e.prototype.onClickBtnClose=function(){this.node.destroy()},e.prototype.onClickBtnCopy=function(){u.default.instance.copyToClipboard(c.default.instance.userId)},e.prototype.onBtnClickDebug=function(){window.vConsole||(this.clickCnt++,this.clickCnt>=30&&(this.clickCnt=0,window.vConsole=new VConsole))},r([f(cc.Label)],e.prototype,"id",void 0),r([f(cc.Node)],e.prototype,"btn_music",void 0),r([f(cc.Node)],e.prototype,"btn_sound",void 0),r([f(cc.Label)],e.prototype,"version",void 0),r([h],e)}(a.default);n.default=_,cc._RF.pop()},{"../tool/BaseDialog":"BaseDialog","../tool/GameAudio":"GameAudio","../tool/GameData":"GameData","../tool/GameGlobal":"GameGlobal","../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils"}],TB_Guide:[function(t,e,n){"use strict";cc._RF.push(e,"d3d8bKPCTVGJYCSmNCLbtn2","TB_Guide"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={},cc._RF.pop()},{}],TB_Item:[function(t,e,n){"use strict";cc._RF.push(e,"d4b932d4P5ATLtwGLgqkGEG","TB_Item"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={1:{Item_id:1,Reveal_type:1,Reward_type:1,Item_icon:"UpTon",Item_description:"Use the interest voucher to boost the annual rate to",Up:.02,Chance:-1},2:{Item_id:2,Reveal_type:1,Reward_type:1,Item_icon:"UpTon",Item_description:"Use the interest voucher to boost the annual rate to",Up:.03,Chance:-1},3:{Item_id:3,Reveal_type:1,Reward_type:1,Item_icon:"UpTon",Item_description:"Use the interest voucher to boost the annual rate to",Up:.06,Chance:-1},4:{Item_id:4,Reveal_type:2,Reward_type:2,Item_icon:"ui_common_icon01",Item_description:"#####",Up:.11,Chance:.5},5:{Item_id:5,Reveal_type:2,Reward_type:2,Item_icon:"ui_common_icon01",Item_description:"#####",Up:.12,Chance:.3},6:{Item_id:6,Reveal_type:2,Reward_type:2,Item_icon:"ui_common_icon01",Item_description:"#####",Up:.14,Chance:.2}},cc._RF.pop()},{}],TB_LanguageSprite:[function(t,e,n){"use strict";cc._RF.push(e,"5291cxMGqlBgISP+OAYVbFC","TB_LanguageSprite"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={"temp/test/label":{key:"temp/test/label",type_1:"\u5154\u5154\u90a3\u4e48\u53ef\u7231",type_2:"Rabbits are so cute",type_3:"\u5154\u5154\u90a3\u9ebc\u53ef\u611b"}},cc._RF.pop()},{}],TB_LanguageText:[function(t,e,n){"use strict";cc._RF.push(e,"5324c9CRnVFrYTlGOthRR7C","TB_LanguageText"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={"PopLoading/tips":{key:"PopLoading/tips",type_1:"\u52a0\u8f7d\u4e2d...",type_2:"Loading...",type_3:""},"tishi/label1":{key:"tishi/label1",type_1:"\u590d\u5236\u6210\u529f",type_2:"Copied",type_3:""},"tishi/label2":{key:"tishi/label2",type_1:"\u656c\u8bf7\u671f\u5f85",type_2:"Coming Soon",type_3:""},"tishi/label3":{key:"tishi/label3",type_1:"\u8bf7\u91cd\u542f\u6e38\u620f\u540e\u91cd\u8bd5",type_2:"Please restart the game and try again",type_3:""},"tishi/label4":{key:"tishi/label4",type_1:"\u94b1\u5305\u7ed1\u5b9a\u6210\u529f",type_2:"Wallet successfully linked.",type_3:""},"tishi/label5":{key:"tishi/label5",type_1:"\u94b1\u5305\u7ed1\u5b9a\u5931\u8d25",type_2:"Wallet linking failed.",type_3:""},"tishi/label6":{key:"tishi/label6",type_1:"\u94b1\u5305\u8fde\u63a5\u5931\u8d25, \u8bf7\u4f7f\u7528\u53e6\u4e00\u4e2a\u94b1\u5305",type_2:"Wallet connection failed. Please use a different wallet.",type_3:""},"GuideNew/oneStep/tips1/one":{key:"GuideNew/oneStep/tips1/one",type_1:"\u563f!",type_2:"Hey!",type_3:""},"GuideNew/oneStep/tips1/two":{key:"GuideNew/oneStep/tips1/two",type_1:"\u4f60\u7528Telegram\u6709\u4e00\u6bb5\u65f6\u95f4\u4e86\u3002\u662f\u65f6\u5019\u83b7\u5f97\u5956\u52b1\u4e86!",type_2:"You've been in Telegram for a while it's time to get rewarded!",type_3:""},"GuideNew/oneStep/btn_go/label":{key:"GuideNew/oneStep/btn_go/label",type_1:"WOW, LET's GO!",type_2:"WOW, LET's GO!",type_3:""},"GuideNew/twoStep/title":{key:"GuideNew/twoStep/title",type_1:"UPTON",type_2:"UPTON",type_3:""},"GuideNew/twoStep/tips2":{key:"GuideNew/twoStep/tips2",type_1:"\u6838\u5bf9\u60a8\u7684\u5e10\u6237",type_2:"Checking your account",type_3:""},"GuideNew/twoStep/oneProgress/title":{key:"GuideNew/twoStep/oneProgress/title",type_1:"",type_2:"Account Age Verified",type_3:""},"GuideNew/twoStep/twoProgress/title":{key:"GuideNew/twoStep/twoProgress/title",type_1:"",type_2:"Activity Level Analyzed",type_3:""},"GuideNew/twoStep/threeProgress/title":{key:"GuideNew/twoStep/threeProgress/title",type_1:"",type_2:"Telegram Premium Checked",type_3:""},"GuideNew/twoStep/fourProgress/title":{key:"GuideNew/twoStep/fourProgress/title",type_1:"",type_2:"OG Status Confirmed",type_3:""},"GuideNew/twoStep/btn_continue":{key:"GuideNew/twoStep/btn_continue",type_1:"\u7ee7\u7eed",type_2:"CUNTINUE",type_3:""},"GuideNew/threeStep/tips3":{key:"GuideNew/threeStep/tips3",type_1:"\u7cbe\u82f1\u6210\u5458!",type_2:"Elite member!",type_3:""},"GuideNew/threeStep/tips4":{key:"GuideNew/threeStep/tips4",type_1:"\u60a8\u5df2\u52a0\u5165Telegram",type_2:"You've joined Telegram",type_3:""},"GuideNew/threeStep/tips5":{key:"GuideNew/threeStep/tips5",type_1:"\u5e74\u524d",type_2:"Years ago",type_3:""},"GuideNew/threeStep/tips6":{key:"GuideNew/threeStep/tips6",type_1:"\u60a8\u7684\u5e10\u53f7\u662fXXX\u3002\u4f60\u662f\u524d###\u7684Telegram\u7528\u6237",type_2:"Your account number is XXX You're in the Top ### Telegram users",type_3:""},"GuideNew/fourStep/tips7":{key:"GuideNew/fourStep/tips7",type_1:"\u4f60\u592a\u68d2\u4e86!",type_2:"You are amazing!",type_3:""},"GuideNew/fourStep/tips8":{key:"GuideNew/fourStep/tips8",type_1:"\u8fd9\u662f\u4f60\u7684DOGS\u5956\u52b1",type_2:"Here is your DOGS reward",type_3:""},"GuideNew/fourStep/tips9":{key:"GuideNew/fourStep/tips9",type_1:"\u611f\u8c22\u60a8\u6536\u542cTelegram",type_2:"Thanks for your time on Telegram",type_3:""},"GuideNew/fourStep/btn_join/label":{key:"GuideNew/fourStep/btn_join/label",type_1:"\u52a0\u5165UPTON\u793e\u533a",type_2:"JOIN UPTON COMMUNITY",type_3:""},"GuideNew/fourStep/btn_play/label":{key:"GuideNew/fourStep/btn_play/label",type_1:"PLAY",type_2:"PLAY",type_3:""},"LoginLoading/tips":{key:"LoginLoading/tips",type_1:"\u83b7\u5f97\u9ad8\u6536\u76ca\u548c$UPTON\u7a7a\u6295\u6bcf\u4e00\u7b14\u5b58\u6b3e!",type_2:"EARN HIGH YIELDS AND $AIUP AIRDROPS WITH EVERY DEPOSIT!",type_3:""},"Invite/upBg/title":{key:"Invite/upBg/title",type_1:"\u9080\u8bf7\u670b\u53cb",type_2:"Invite Friends",type_3:""},"Invite/tipsNode/tips1":{key:"Invite/tipsNode/tips1",type_1:"\u4f60\u548c\u4f60\u7684\u670b\u53cb\u4f1a\u5f97\u5230\u5956\u52b1",type_2:"You and your friend will both receice rewards",type_3:""},"Invite/tipsNode/tips2":{key:"Invite/tipsNode/tips2",type_1:"\u9080\u8bf71\u4f4d\u670b\u53cb",type_2:"Invite 1 Friend",type_3:""},"Invite/tipsNode/tips3":{key:"Invite/tipsNode/tips3",type_1:"\u4f60\u548c\u4f60\u7684\u670b\u53cb+100000",type_2:"<color=#FFDF09>+50,000</color> for you and your friend",type_3:""},"Invite/tipsNode/tips4":{key:"Invite/tipsNode/tips4",type_1:"\u6bcf\u4e2a\u670b\u53cb\u8d5a1000\u7f8e\u5143\u5b58\u6b3e500 USDT",type_2:"Earn<color=#FFDF09>+1,000 $UP</color> for every friend who deposits 500 USDT",type_3:""},"Invite/title/label":{key:"Invite/title/label",type_1:"\u9080\u8bf7\u5217\u8868",type_2:"Invitation List",type_3:""},"Invite/inviteNode/inviteLab":{key:"Invite/inviteNode/inviteLab",type_1:"\u9080\u8bf7\u6570\u91cf",type_2:"Invite Count: ",type_3:""},"Invite/inviteNode/name":{key:"Invite/inviteNode/name",type_1:"\u540d\u79f0",type_2:"Name",type_3:""},"Invite/inviteNode/his":{key:"Invite/inviteNode/his",type_1:"\u4ed6\u7684",type_2:"Friend's",type_3:""},"Invite/inviteNode/mine":{key:"Invite/inviteNode/mine",type_1:"\u6211\u7684",type_2:"Mine",type_3:""},"Invite/tips/label":{key:"Invite/tips/label",type_1:"\u6682\u65e0\u6570\u636e",type_2:"No Data...",type_3:""},"Invite/downBg/btn_invite/label":{key:"Invite/downBg/btn_invite/label",type_1:"\u9080\u8bf7\u597d\u53cb",type_2:"Invite Friends",type_3:""},"setting/title1":{key:"setting/title1",type_1:"\u8bbe\u7f6e",type_2:"Settings",type_3:""},"setting/title2":{key:"setting/title2",type_1:"\u58f0\u97f3\u8bbe\u7f6e",type_2:"Sound",type_3:""},"setting/title3":{key:"setting/title3",type_1:"\u7528\u6237ID",type_2:"User ID",type_3:""},"setting/musicNode/title":{key:"setting/musicNode/title",type_1:"\u80cc\u666f\u97f3\u4e50",type_2:"BGM",type_3:""},"setting/soundNode/title":{key:"setting/soundNode/title",type_1:"\u97f3\u6548",type_2:"SFX",type_3:""},"setting/copyNode/btn_copy/label":{key:"setting/copyNode/btn_copy/label",type_1:"\u590d\u5236",type_2:"Copy",type_3:""},"BackPack/topNode/title":{key:"BackPack/topNode/title",type_1:"\u80cc\u5305",type_2:"Backpack",type_3:""},"BackPack/skipNode/useNode/useLab":{key:"BackPack/skipNode/useNode/useLab",type_1:"\u4f7f\u7528\u4e2d",type_2:"In Use",type_3:""},"Backpack/bottom/toggle1/name":{key:"Backpack/bottom/toggle1/name",type_1:"\u5238",type_2:"Voucher",type_3:""},"Backpack/bottom/toggle2/name":{key:"Backpack/bottom/toggle2/name",type_1:"\u89d2\u8272",type_2:"Character",type_3:""},"Backpack/bottom/toggle3/name":{key:"Backpack/bottom/toggle3/name",type_1:"\u5373\u5c06\u63a8\u51fa",type_2:"Coming Soon",type_3:""},"Bakpack/ticketList/btn_use/label":{key:"Bakpack/ticketList/btn_use/label",type_1:"\u4f7f\u7528",type_2:"Apply",type_3:""},"Backpack/SkinNode/unlockTips":{key:"Backpack/SkinNode/unlockTips",type_1:"\u8fbe\u5230\u7b49\u7ea7: XXX \u4f60\u53ef\u4ee5\u83b7\u5f97\u76ae\u80a4",type_2:"Achieve Level XXX to Unlock",type_3:""},"BackpackSkinDetails/title":{key:"BackpackSkinDetails/title",type_1:"\u80cc\u5305\u76ae\u80a4",type_2:"KNAPSACK",type_3:""},"BackpackSkinDetails/tips":{key:"BackpackSkinDetails/tips",type_1:"\u6bb5\u4f4d\u8fbe\u5230XXX\u5373\u53ef\u83b7\u5f97",type_2:"Achieve Level XXX to Unlock",type_3:""},"Task/title":{key:"Task/title",type_1:"\u798f\u5229\u4efb\u52a1",type_2:"Bonus Tasks",type_3:""},"Task/tips":{key:"Task/tips",type_1:"\u8d5a\u53d6\u66f4\u591a\u72d7\u72d7\u5e01",type_2:"Earn More $BAYC",type_3:""},"Task/signInNode/signInTitle":{key:"Task/signInNode/signInTitle",type_1:"\u65e5\u5e38\u4efb\u52a1",type_2:"Daily Tasks",type_3:""},"Task/basicTitle":{key:"Task/basicTitle",type_1:"\u666e\u901a\u4efb\u52a1",type_2:"Basic tasks",type_3:""},"AirDropReward/title":{key:"AirDropReward/title",type_1:"\u7a7a\u6295",type_2:"Airdrop",type_3:""},"AirDropReward/item1/tips":{key:"AirDropReward/item1/tips",type_1:"\u4f7f\u7528\u52a0\u606f\u5238\u540e\uff0c\u5e74\u5229\u7387\u4e0a\u8c03XXX",type_2:"Use the interest voucher to boost the annual rate to <color=#FFEE34><size=30>XXX</size></color>",type_3:""},"AirDropReward/item2/tips":{key:"AirDropReward/item2/tips",type_1:"\u606d\u559c\u4f60\u83b7\u5f97\u4e86\u5927\u91cf\u7684$BAYC",type_2:"Congrats! You\u2019ve received a large amount of $BAYC.",type_3:""},"AirDropReward/btn_get/label":{key:"AirDropReward/btn_get/label",type_1:"\u83b7\u5f97",type_2:"Claim",type_3:""},"AirDropReward/item3/tips":{key:"AirDropReward/item3/tips",type_1:"\u795d\u8d3a\u4f60\u7684UPUP",type_2:"Congratulations on your UPUP",type_3:""},"Rank/listToggle/toggle1/label":{key:"Rank/listToggle/toggle1/label",type_1:"\u5468\u699c",type_2:"WEEKLY   LIST",type_3:""},"Rank/listToggle/toggle2/label":{key:"Rank/listToggle/toggle2/label",type_1:"\u5168\u90e8",type_2:"ALL   LISTS",type_3:""},"Rank/bottomToggle/toggle1/label":{key:"Rank/bottomToggle/toggle1/label",type_1:"\u7334\u5e01",type_2:"BAYC",type_3:""},"Rank/bottomToggle/toggle2/label":{key:"Rank/bottomToggle/toggle2/label",type_1:"UPTON",type_2:"UP",type_3:""},"Earnings/hourNode/tips1":{key:"Earnings/hourNode/tips1",type_1:"\u6302\u673a\u53ef\u6301\u7eed\u6536\u76ca\u3002",type_2:"Idle Earnings",type_3:""},"Earnings/hourNode/tips2":{key:"Earnings/hourNode/tips2",type_1:"\u63d0\u9ad8\u6e38\u620f\u7b49\u7ea7\u53ef\u83b7\u53d6\u66f4\u9ad8\u6536\u76ca\uff01",type_2:"Level up to earn more!",type_3:""},"Earnings/hourNode/btn_excavate/label":{key:"Earnings/hourNode/btn_excavate/label",type_1:"\u5f00\u59cb\u6316\u6398",type_2:"Start Mining",type_3:""},"Earnings/offlineNode/tips1":{key:"Earnings/offlineNode/tips1",type_1:"\u79bb\u7ebf\u5956\u52b1",type_2:"Offline Earnings",type_3:""},"Earnings/offlineNode/tips2":{key:"Earnings/offlineNode/tips2",type_1:"\u60a8\u53ef\u4ee5\u9886\u53d6\u6700\u591a3\u5c0f\u65f6\u7684\u79bb\u7ebf\u6536\u76ca\uff01",type_2:"You can claim up to 3 hours of offline earnings!",type_3:""},"Earnings/goldNode/tips2":{key:"Earnings/goldNode/tips2",type_1:"\u5229\u7528USDT\u53ef\u4ee5\u52a0\u901f\u91d1\u5e01\u7684\u83b7\u53d6",type_2:"STAKING USDT CAN ACCELERATE THE ACQ-UISITION OF UP",type_3:""},"Earnings/goldNode/btn_speed/label":{key:"Earnings/goldNode/btn_speed/label",type_1:"\u52a0\u901f",type_2:"HASTEN",type_3:""},"Main/topLayout/btn_backpack/label":{key:"Main/topLayout/btn_backpack/label",type_1:"\u80cc\u5305",type_2:"Backpack",type_3:""},"Main/topLayout/btn_air/label":{key:"Main/topLayout/btn_air/label",type_1:"\u7a7a\u6295",type_2:"Airdrop",type_3:""},"Main/topLayout/btn_earn/label":{key:"Main/topLayout/btn_earn/label",type_1:"\u8d5a\u94b1",type_2:"Earn",type_3:""},"Main/topLayout/btn_speedUp/label":{key:"Main/topLayout/btn_speedUp/label",type_1:"\u52a0\u901f",type_2:"Trade",type_3:""},"Main/bottomToggleContainer/toggle1":{key:"Main/bottomToggleContainer/toggle1",type_1:"\u798f\u5229\u4efb\u52a1",type_2:"Bonus",type_3:""},"Main/bottomToggleContainer/toggle2":{key:"Main/bottomToggleContainer/toggle2",type_1:"\u4e3b\u9875",type_2:"Home",type_3:""},"Main/bottomToggleContainer/toggle3":{key:"Main/bottomToggleContainer/toggle3",type_1:"\u9080\u8bf7",type_2:"Invite",type_3:""},"Main/bottomToggleContainer/toggle4":{key:"Main/bottomToggleContainer/toggle4",type_1:"\u94f6\u884c",type_2:"Earn",type_3:""},"BindWallet/title":{key:"BindWallet/title",type_1:"\u7ed1\u5b9a\u94b1\u5305",type_2:"BIND WALLET",type_3:""},"BindWallet/tips1":{key:"BindWallet/tips1",type_1:"\u8bf7\u5148\u7ed1\u5b9a\u94b1\u5305",type_2:"Please bind the wallet first",type_3:""},"BindWallet/btn_go/label":{key:"BindWallet/btn_go/label",type_1:"\u524d\u5f80",type_2:"GO",type_3:""},"ConnectWallet/title":{key:"ConnectWallet/title",type_1:"\u7ed1\u5b9a",type_2:"BIND",type_3:""},"ConnectWallet/btn_connect/label":{key:"ConnectWallet/btn_connect/label",type_1:"\u8fde\u63a5\u4f60\u7684TON\u94b1\u5305",type_2:"Connect your TON wallet",type_3:""},"LoginOffline/tips1":{key:"LoginOffline/tips1",type_1:"\u60a8\u7684\u8d26\u53f7\u5728\u5176\u4ed6\u8bbe\u5907\u767b\u5f55",type_2:"You've been logged out due to another active session on your account.",type_3:""},"LoginOffline/tips2":{key:"LoginOffline/tips2",type_1:"\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55!",type_2:"Login failed,  please try again!",type_3:""},"LoginOffline/btn_ok/label":{key:"LoginOffline/btn_ok/label",type_1:"OK",type_2:"OK",type_3:""},"Pledge/topNode/title":{key:"Pledge/topNode/title",type_1:"\u8d28\u62bc",type_2:"STAKE",type_3:""},"Pledge/pledgeNode/title1":{key:"Pledge/pledgeNode/title1",type_1:"\u5168\u90e8",type_2:"All",type_3:""},"Pledge/pledgeNode/title2":{key:"Pledge/pledgeNode/title2",type_1:"\u8d28\u62bc\u7684",type_2:"Stake USDT to Earn",type_3:""},"Pledge/speedNode/title1":{key:"Pledge/speedNode/title1",type_1:"\u91d1\u79ef\u5206",type_2:"UP",type_3:""},"Pledge/speedNode/title2":{key:"Pledge/speedNode/title2",type_1:"BAYC",type_2:"BAYC",type_3:""},"Pledge/speedNode/btn_speed/label":{key:"Pledge/speedNode/btn_speed/label",type_1:"\u52a0\u901f",type_2:"SPEED",type_3:""},"Pledge/speedNode/btn_bonus/label":{key:"Pledge/speedNode/btn_bonus/label",type_1:"\u5956\u91d1",type_2:"BONUS",type_3:""},"PledgeRule/title":{key:"PledgeRule/title",type_1:"\u8d28\u62bc\u8be6\u60c5",type_2:"RULE DETAILS",type_3:""},"PledgeRule/tips":{key:"PledgeRule/tips",type_1:"\u8d28\u62bc\u89c4\u5219: ",type_2:"REFRESH  RULES: ",type_3:""},"PledgeRule/tips1":{key:"PledgeRule/tips1",type_1:"1.\u6bcf24\u5c0f\u65f6\u5237\u65b0\u4e00\u6b21\u6570\u636e",type_2:"1.Refresh data every 24 hours",type_3:""},"PledgeRule/tips2":{key:"PledgeRule/tips2",type_1:"2.\u5982\u679c\u53d7\u9080\u8005\u4e0b\u6ce8\u8d85\u8fc7500U\uff0c\u4ed6\u4eec\u5c31\u6709\u8d44\u683c\u6210\u4e3a\u6d3b\u8dc3\u7528\u6237\uff0c\u9080\u8bf7\u8005\u5c06\u83b7\u5f971000\u91d1\u5e01\u3002",type_2:"2.If the invitee <color=#40FC7E>stakes over 500U</color>,  they qualify as an <color=#40FC7E>active user</color>,  and the inviter <color=#40FC7E>earns 1, 000 $UP</color>.",type_3:""}},cc._RF.pop()},{}],TB_Leaderboard:[function(t,e,n){"use strict";cc._RF.push(e,"82894/wgDJHMqkO6Z5XRr3I","TB_Leaderboard"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={1:{Leaderboard_id:1,Tier_name:"Rust",Skin_id:1,Phb_spine:["pub_1","loop_1"],Phb_bg:"ui_list_bg09",Goal:1},2:{Leaderboard_id:2,Tier_name:"Halo",Skin_id:2,Phb_spine:["pub_2","loop_1"],Phb_bg:"ui_list_bg10",Goal:2},3:{Leaderboard_id:3,Tier_name:"Wukong",Skin_id:3,Phb_spine:["pub_3","loop_1"],Phb_bg:"ui_list_bg13",Goal:3},4:{Leaderboard_id:4,Tier_name:"Slice",Skin_id:4,Phb_spine:["pub_4","loop_1"],Phb_bg:"ui_list_bg11",Goal:4},5:{Leaderboard_id:5,Tier_name:"GoldGlint",Skin_id:5,Phb_spine:["pub_5","loop_1"],Phb_bg:"ui_list_bg12",Goal:5}},cc._RF.pop()},{}],TB_MonkeyExp:[function(t,e,n){"use strict";cc._RF.push(e,"9b5daEQLX1L768drb4ij72N","TB_MonkeyExp"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={1:{Exp_id:1,lv:2,Up_points:432e3},2:{Exp_id:2,lv:3,Up_points:691200},3:{Exp_id:3,lv:4,Up_points:3110400},4:{Exp_id:4,lv:5,Up_points:4665600},5:{Exp_id:5,lv:6,Up_points:6998400},6:{Exp_id:6,lv:7,Up_points:10627200},7:{Exp_id:7,lv:8,Up_points:16070400},8:{Exp_id:8,lv:9,Up_points:24105600},9:{Exp_id:9,lv:10,Up_points:36288e3},10:{Exp_id:10,lv:11,Up_points:1336176e3},11:{Exp_id:11,lv:12,Up_points:1670284800},12:{Exp_id:12,lv:13,Up_points:2087856e3},13:{Exp_id:13,lv:14,Up_points:2609884800},14:{Exp_id:14,lv:15,Up_points:3262291200},15:{Exp_id:15,lv:16,Up_points:4077993600},16:{Exp_id:16,lv:17,Up_points:5097427200},17:{Exp_id:17,lv:18,Up_points:6371913600},18:{Exp_id:18,lv:19,Up_points:7964956800},19:{Exp_id:19,lv:20,Up_points:9956131200},20:{Exp_id:20,lv:-1,Up_points:-1}},cc._RF.pop()},{}],TB_Onlinepoints:[function(t,e,n){"use strict";cc._RF.push(e,"4dc9cuFExBA/aLeg8iUsJou","TB_Onlinepoints"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={1:{Tap_id:1,Exp_id:1,Onlinepoints:2},2:{Tap_id:2,Exp_id:2,Onlinepoints:4},3:{Tap_id:3,Exp_id:3,Onlinepoints:5},4:{Tap_id:4,Exp_id:4,Onlinepoints:8},5:{Tap_id:5,Exp_id:5,Onlinepoints:12},6:{Tap_id:6,Exp_id:6,Onlinepoints:18},7:{Tap_id:7,Exp_id:7,Onlinepoints:28},8:{Tap_id:8,Exp_id:8,Onlinepoints:42},9:{Tap_id:9,Exp_id:9,Onlinepoints:63},10:{Tap_id:10,Exp_id:10,Onlinepoints:95},11:{Tap_id:11,Exp_id:11,Onlinepoints:1289},12:{Tap_id:12,Exp_id:12,Onlinepoints:1611},13:{Tap_id:13,Exp_id:13,Onlinepoints:2014},14:{Tap_id:14,Exp_id:14,Onlinepoints:2517},15:{Tap_id:15,Exp_id:15,Onlinepoints:3147},16:{Tap_id:16,Exp_id:16,Onlinepoints:3933},17:{Tap_id:17,Exp_id:17,Onlinepoints:4917},18:{Tap_id:18,Exp_id:18,Onlinepoints:6146},19:{Tap_id:19,Exp_id:19,Onlinepoints:7682},20:{Tap_id:20,Exp_id:20,Onlinepoints:9603}},cc._RF.pop()},{}],TB_Skin:[function(t,e,n){"use strict";cc._RF.push(e,"8b47ex1UqNP1adNbaN7ifID","TB_Skin"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={1:{Skin_id:1,Skin_type:1,Unlock:1,Skin_name:"Rust",Skin_description:"A ruthless mercenary who seeks to rebuild order through his strength.",Monkey_spine:"dh_monkey_1",Backpack_spine:"pub_1",Dog_spine:"dh_dog_1",Monkey_png:"Monkey_1",Monkey_base:["Monkey_base_1","Monkey_base_1_1"],Bg:"ui_common_bg1",Bg_spine:"beijing",Unlock_description:""},2:{Skin_id:2,Skin_type:2,Unlock:2,Skin_name:"Halo",Skin_description:"Born on a mysterious isolated island and mutated into a half-zombiehe\uff0c he seeks to break the curse.",Monkey_spine:"dh_monkey_2",Backpack_spine:"pub_2",Dog_spine:"dh_dog_1",Monkey_png:"Monkey_2",Monkey_base:["Monkey_base_2","Monkey_base_2_1"],Bg:"ui_common_bg1",Bg_spine:"beijing",Unlock_description:"Lv.2"},3:{Skin_id:3,Skin_type:2,Unlock:3,Skin_name:"Wukong",Skin_description:"Wukong,  a descendant of Sun Wukong who aims to restore the spirit vein and fight against dark forces.",Monkey_spine:"dh_monkey_3",Backpack_spine:"pub_3",Dog_spine:"dh_pig_1",Monkey_png:"Monkey_3",Monkey_base:["Monkey_base_2","Monkey_base_2_1"],Bg:"ui_common_bg4",Bg_spine:"beijing2",Unlock_description:"Lv.3"},4:{Skin_id:4,Skin_type:2,Unlock:4,Skin_name:"Slice",Skin_description:"Lazy yet smart,  he earns respect through his automated pizza delivery device.",Monkey_spine:"dh_monkey_4",Backpack_spine:"pub_4",Dog_spine:"dh_dog_1",Monkey_png:"Monkey_4",Monkey_base:["Monkey_base_2","Monkey_base_2_1"],Bg:"ui_common_bg1",Bg_spine:"beijing",Unlock_description:"Lv.4"},5:{Skin_id:5,Skin_type:2,Unlock:5,Skin_name:"GoldGlint",Skin_description:"In pursuit of the treasure,  he embarks on adventures with charm and wisdom.",Monkey_spine:"dh_monkey_5",Backpack_spine:"pub_5",Dog_spine:"dh_dog_1",Monkey_png:"Monkey_5",Monkey_base:["Monkey_base_2","Monkey_base_2_1"],Bg:"ui_common_bg1",Bg_spine:"beijing",Unlock_description:"Lv.5"},6:{Skin_id:6,Skin_type:2,Unlock:10,Skin_name:"Jester",Skin_description:"A circus performer who uses humor to overcome obstacles and seeks treasure to restore his family's name.",Monkey_spine:"dh_monkey_6",Backpack_spine:"pub_6",Dog_spine:"dh_dog_1",Monkey_png:"Monkey_6",Monkey_base:["Monkey_base_2","Monkey_base_2_1"],Bg:"ui_common_bg1",Bg_spine:"beijing",Unlock_description:"Lv.10"},7:{Skin_id:7,Skin_type:2,Unlock:15,Skin_name:"Slick",Skin_description:"A sharp strategist,  charming his way through corporate challenges.",Monkey_spine:"dh_monkey_7",Backpack_spine:"pub_7",Dog_spine:"dh_dog_1",Monkey_png:"Monkey_7",Monkey_base:["Monkey_base_2","Monkey_base_2_1"],Bg:"ui_common_bg1",Bg_spine:"beijing",Unlock_description:"Lv.15"},8:{Skin_id:8,Skin_type:2,Unlock:20,Skin_name:"Regal",Skin_description:"The wise leader of a monkey clan,  striving to build a thriving kingdom despite many challenges.",Monkey_spine:"dh_monkey_8",Backpack_spine:"pub_8",Dog_spine:"dh_dog_1",Monkey_png:"Monkey_8",Monkey_base:["Monkey_base_2","Monkey_base_2_1"],Bg:"ui_common_bg1",Bg_spine:"beijing",Unlock_description:"Lv.20"}},cc._RF.pop()},{}],TB_TapPoints:[function(t,e,n){"use strict";cc._RF.push(e,"205359MD/NER6zig/+aFIiO","TB_TapPoints"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={1:{Points_id:1,Exp_id:1,Tap_points:5},2:{Points_id:2,Exp_id:2,Tap_points:11},3:{Points_id:3,Exp_id:3,Tap_points:23},4:{Points_id:4,Exp_id:4,Tap_points:48},5:{Points_id:5,Exp_id:5,Tap_points:101},6:{Points_id:6,Exp_id:6,Tap_points:212},7:{Points_id:7,Exp_id:7,Tap_points:445},8:{Points_id:8,Exp_id:8,Tap_points:935},9:{Points_id:9,Exp_id:9,Tap_points:1964},10:{Points_id:10,Exp_id:10,Tap_points:4124},11:{Points_id:11,Exp_id:11,Tap_points:5155},12:{Points_id:12,Exp_id:12,Tap_points:6444},13:{Points_id:13,Exp_id:13,Tap_points:8055},14:{Points_id:14,Exp_id:14,Tap_points:10069},15:{Points_id:15,Exp_id:15,Tap_points:12586},16:{Points_id:16,Exp_id:16,Tap_points:15733},17:{Points_id:17,Exp_id:17,Tap_points:19666},18:{Points_id:18,Exp_id:18,Tap_points:24583},19:{Points_id:19,Exp_id:19,Tap_points:30729},20:{Points_id:20,Exp_id:20,Tap_points:38411}},cc._RF.pop()},{}],TB_WelfareTask:[function(t,e,n){"use strict";cc._RF.push(e,"99a71LLOu1H+Zi01WIJyuop","TB_WelfareTask"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={1:{Welfare_id:1,Welfare_type:1,Continue:1,Task_name:"Ton Check In",Icon:"Welfare_icon_5",Reward_type:1,Reward:5e4},2:{Welfare_id:2,Welfare_type:2,Continue:1,Task_name:"Invite Friends",Icon:"Welfare_icon_2",Reward_type:1,Reward:5e4},3:{Welfare_id:3,Welfare_type:2,Continue:2,Task_name:"Follow on X",Icon:"Welfare_icon_3",Reward_type:1,Reward:5e4},4:{Welfare_id:4,Welfare_type:2,Continue:2,Task_name:"Join our Channel",Icon:"Welfare_icon_4",Reward_type:1,Reward:5e4},5:{Welfare_id:5,Welfare_type:2,Continue:2,Task_name:"Connect EVM Wallet",Icon:"Welfare_icon_6",Reward_type:1,Reward:5e4}},cc._RF.pop()},{}],TaskBasicItem:[function(t,e,n){"use strict";cc._RF.push(e,"9dd1417rRhGca/3yzXFkiKx","TaskBasicItem");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../tool/GameData"),l=t("../tool/GameGlobal"),u=t("../tool/GameHttp"),p=t("../tool/GameUI"),d=t("../tool/GameUtils"),h=t("../tool/GameWeb"),f=cc._decorator,_=f.ccclass,y=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.taskIcon=null,e.rewardIcon=null,e.rewardIconArr=[],e.num=null,e.btn_go=null,e.finishIcon=null,e.taskData=null,e}return o(e,t),e.prototype.init=function(t,e){this.taskData=e,this.taskData&&this.initUI()},e.prototype.onLoad=function(){},e.prototype.initUI=function(){var t=1==this.taskData.state;this.title.string=this.taskData.name,this.loadTaskSpriteFrame(this.taskIcon,this.taskData.taskIcon),this.rewardIcon.spriteFrame=this.rewardIconArr[this.taskData.rewardType-1],this.num.string=d.default.instance.getShowDiamond(this.taskData.score),this.btn_go.active=!t,this.finishIcon.active=t},e.prototype.onBtnGo=function(){if(this.taskData&&1!=this.taskData.state){var t=cc.director.getScene().getChildByName("Canvas").getComponent("Main"),e=this.taskData.url;switch(this.taskData.id){case"task01":return t.onToggleEvent({node:{name:"toggle4"}},!1),void(cc.find("toggle4",t.bottomToggle).getComponent(cc.Toggle).isChecked=!0);case"task02":case"task03":break;case"task04":return t.onToggleEvent({node:{name:"toggle2"}},!1),cc.find("toggle2",t.bottomToggle).getComponent(cc.Toggle).isChecked=!0,void this.requestTaskComplete();case"task1":return void this.goToSignInTask();case"task3":case"task4":break;case"task5":return void p.default.instance.showTiShi("tishi/label2")}if(h.default.instance.openLink(e),"task01"!=this.taskData.id)switch(this.taskData.completeType){case 1:this.requestTaskComplete()}}},e.prototype.goToSignInTask=function(){return a(this,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return h.default.instance.checkConnected()?[3,1]:(p.default.instance.showDialog("ui/wallet/BindWallet","BindWallet",this),[2]);case 1:return h.default.instance.nn.access_token_N?[3,3]:[4,h.default.instance.requestLoginN(function(){return a(t,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.requestChechIn()];case 1:return t.sent(),[2]}})})})];case 2:return e.sent(),[3,5];case 3:return[4,this.requestChechIn()];case 4:e.sent(),e.label=5;case 5:return[2]}})})},e.prototype.requestTaskComplete=function(){var t=this,e=l.default.httpPort.obtainTask,n={taskId:this.taskData.id,isRefresh:this.taskData.isRefresh};u.default.instance.post(e,n,function(e){if((e=JSON.parse(e))&&200===e.ret_code){var n=e.data.completeTask;t.taskData.state=n.state,1==t.taskData.rewardType&&(p.default.instance.addFlyEffectEx(t.node,1,5),c.default.instance.requestMoneyData(c.MONEY_GET_CHANNEL.CLICK_ONLINE));var i=d.default.instance.getRndInteger(1,3);"task1"!=t.taskData.id&&"task2"!=t.taskData.id||(i=0),t.scheduleOnce(function(){t.initUI()},i)}},function(t){d.default.instance.log("caoyang",d.LOG_LEVEL.ERROR,t)})},e.prototype.requestChechIn=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,h.default.instance.checkIn()];case 1:return t.sent()&&this.requestTaskComplete(),[2]}})})},e.prototype.loadTaskSpriteFrame=function(t,e){var n=(l.default.DEBUG?"https://test.memepet.io":"https://www.uptongame.xyz")+"/h5/monkey/images/resources/task/"+e+".png";cc.loader.load({url:n,type:"png"},function(e,n){t&&cc.isValid(t.node)&&!e&&(t.spriteFrame=new cc.SpriteFrame(n))})},r([y(cc.Label)],e.prototype,"title",void 0),r([y(cc.Sprite)],e.prototype,"taskIcon",void 0),r([y(cc.Sprite)],e.prototype,"rewardIcon",void 0),r([y(cc.SpriteFrame)],e.prototype,"rewardIconArr",void 0),r([y(cc.Label)],e.prototype,"num",void 0),r([y(cc.Node)],e.prototype,"btn_go",void 0),r([y(cc.Node)],e.prototype,"finishIcon",void 0),r([_],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../tool/GameData":"GameData","../tool/GameGlobal":"GameGlobal","../tool/GameHttp":"GameHttp","../tool/GameUI":"GameUI","../tool/GameUtils":"GameUtils","../tool/GameWeb":"GameWeb"}],Task:[function(t,e,n){"use strict";cc._RF.push(e,"e915cyO0gRJnZ9iXJ/JqEuF","Task");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/BaseDialog"),s=t("../tool/GameEvent"),c=t("../tool/GameGlobal"),l=t("../tool/GameHttp"),u=t("../tool/GameUtils"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.taskList=null,e.dailyTitle=null,e.basicTitle=null,e.taskItem=null,e.taskDailyTask=[],e.taskBaiseData=[],e.zIndexNodeArr=[],e}return o(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.initWidget(),this.requestTask()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.initWidget=function(){var t=this,e=cc.winSize.height/2;this.scheduleOnce(function(){var n=t.taskList.node.y+e-165;t.taskList.node.height=n,cc.find("view",t.taskList.node).height=n},.1)},e.prototype.requestTask=function(){var t=this;this.taskDailyTask=[],this.taskBaiseData=[];var e=c.default.httpPort.getTasks;l.default.instance.post(e,{},function(e){if((e=JSON.parse(e))&&200===e.ret_code&&cc.isValid(t.node)){for(var n=e.data.taskList,i=0;i<n.length;i++){var o=n[i];1==o.taskType?t.taskDailyTask.push(o):t.taskBaiseData.push(o)}t.taskSortData(),t.updateTaskUI()}},function(t){u.default.instance.log("caoyang",u.LOG_LEVEL.ERROR,t)})},e.prototype.taskSortData=function(){this.taskDailyTask&&0<this.taskDailyTask.length&&this.taskDailyTask.sort(function(t,e){return 1==t.state||1==e.state?t.state-e.state:t.sortNumber-e.sortNumber}),this.taskBaiseData&&0<this.taskBaiseData.length&&this.taskBaiseData.sort(function(t,e){return 1==t.state||1==e.state?t.state-e.state:t.sortNumber-e.sortNumber})},e.prototype.updateTaskUI=function(){var t=this,e=0;this.zIndexNodeArr=[this.dailyTitle];var n=function(){if(e>t.taskDailyTask.length+t.taskBaiseData.length-1)return t.unschedule(n),void t.updateItemZIndex();var i=null,o=0;e>t.taskDailyTask.length-1?(e==t.taskDailyTask.length&&t.zIndexNodeArr.push(t.basicTitle),i=t.taskBaiseData,o=e-t.taskDailyTask.length):(i=t.taskDailyTask,o=e);var r=cc.instantiate(t.taskItem);r.parent=t.taskList.content,t.zIndexNodeArr.push(r),r.getComponent("TaskBasicItem").init(t,i[o]),e++};this.schedule(n,1/60)},e.prototype.updateItemZIndex=function(){if(!(0>=this.zIndexNodeArr.length)){this.basicTitle.active=!0;for(var t=0;t<this.zIndexNodeArr.length;t++)this.zIndexNodeArr[t].zIndex=t}},e.prototype.onBtnClose=function(){this.node.destroy(),s.default.instance.dispatchEvent(s.default.UPDATE_TOGGLE_PAGE)},r([h(cc.ScrollView)],e.prototype,"scrollView",void 0),r([h(cc.ScrollView)],e.prototype,"taskList",void 0),r([h(cc.Node)],e.prototype,"dailyTitle",void 0),r([h(cc.Node)],e.prototype,"basicTitle",void 0),r([h(cc.Prefab)],e.prototype,"taskItem",void 0),r([d],e)}(a.default);n.default=f,cc._RF.pop()},{"../tool/BaseDialog":"BaseDialog","../tool/GameEvent":"GameEvent","../tool/GameGlobal":"GameGlobal","../tool/GameHttp":"GameHttp","../tool/GameUtils":"GameUtils"}],TimerLayout:[function(t,e,n){"use strict";cc._RF.push(e,"96c9bl/SOlI2aPcTvraUT7y","TimerLayout");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../tool/GameData"),s=t("../tool/GameEvent"),c=t("../tool/GameGlobal"),l=t("../tool/GameHttp"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TIME_HALF_SECOND_GAP=.5,e.TIME_SECOND_GAP=1,e.TIME_MINUTE_GAP=60,e.timerHalfSecondTime=e.TIME_HALF_SECOND_GAP,e.timerSecondTime=e.TIME_SECOND_GAP,e.timerMinuteTime=e.TIME_MINUTE_GAP,e}return o(e,t),e.prototype.onLoad=function(){cc.game.on(cc.game.EVENT_HIDE,this.changeHide,this),cc.game.on(cc.game.EVENT_SHOW,this.changeShow,this),this.requestTimer()},e.prototype.update=function(t){this.timerSecondTime-=t,this.timerSecondTime<=0&&(this.timerSecondTime=this.TIME_SECOND_GAP,this.secondUpdate(),this.timerMinuteTime--,this.timerMinuteTime<=0&&(this.timerMinuteTime=this.TIME_MINUTE_GAP,this.minuteUpdate()))},e.prototype.halfsecondUpdate=function(){s.default.instance.dispatchEvent(s.default.TIMER_HALF_S_UPDATE)},e.prototype.secondUpdate=function(){a.default.instance.serverTime+=1e3,a.default.instance.updateMoneyData({type:2,onlineTime:1}),s.default.instance.dispatchEvent(s.default.TIMER_S_UPDATE)},e.prototype.minuteUpdate=function(){s.default.instance.dispatchEvent(s.default.TIMER_M_UPDATE),a.default.instance.updateOfflineTime()},e.prototype.changeHide=function(){a.default.instance.updateOfflineTime()},e.prototype.changeShow=function(){this.requestTimer()},e.prototype.requestTimer=function(){var t=c.default.httpPort.timer;l.default.instance.get(t,function(t){t=JSON.parse(t),a.default.instance.serverTime=t?t.data:(new Date).getTime(),s.default.instance.dispatchEvent(s.default.GAME_OFFLINE_EARNINGS),a.default.instance.updateOfflineTime()},function(){a.default.instance.serverTime=(new Date).getTime()})},r([p],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../tool/GameData":"GameData","../tool/GameEvent":"GameEvent","../tool/GameGlobal":"GameGlobal","../tool/GameHttp":"GameHttp"}],"jszip.min":[function(t,e,n){(function(i,o){"use strict";cc._RF.push(e,"a17d4/BAjtERatq0fQAXobP","jszip.min"),function(t){"object"==typeof n&&void 0!==e?e.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(n,i,o){function r(s,c){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=i[s]={exports:{}};n[s][0].call(p.exports,function(t){return r(n[s][1][t]||t)},p,p.exports,e,n,i,o)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e,n){(function(i){!function(t){"object"==typeof n&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(n,i,o){function r(s,c){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=i[s]={exports:{}};n[s][0].call(p.exports,function(t){return r(n[s][1][t]||t)},p,p.exports,e,n,i,o)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e,n){(function(i){!function(t){"object"==typeof n&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(n,i,o){function r(s,c){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=i[s]={exports:{}};n[s][0].call(p.exports,function(t){return r(n[s][1][t]||t)},p,p.exports,e,n,i,o)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e,n){(function(i){!function(t){"object"==typeof n&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(n,i,o){function r(s,c){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=i[s]={exports:{}};n[s][0].call(p.exports,function(t){return r(n[s][1][t]||t)},p,p.exports,e,n,i,o)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e,n){(function(i){!function(t){"object"==typeof n&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(n,i,o){function r(s,c){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=i[s]={exports:{}};n[s][0].call(p.exports,function(t){return r(n[s][1][t]||t)},p,p.exports,e,n,i,o)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e,n){(function(i){!function(t){"object"==typeof n&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(n,i,o){function r(s,c){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=i[s]={exports:{}};n[s][0].call(p.exports,function(t){return r(n[s][1][t]||t)},p,p.exports,e,n,i,o)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e,n){var i=t("./utils"),o=t("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,o,a,s,c,l,u=[],p=0,d=t.length,h=d,f="string"!==i.getTypeOf(t);p<t.length;)h=d-p,o=f?(e=t[p++],n=p<d?t[p++]:0,p<d?t[p++]:0):(e=t.charCodeAt(p++),n=p<d?t.charCodeAt(p++):0,p<d?t.charCodeAt(p++):0),a=e>>2,s=(3&e)<<4|n>>4,c=1<h?(15&n)<<2|o>>6:64,l=2<h?63&o:64,u.push(r.charAt(a)+r.charAt(s)+r.charAt(c)+r.charAt(l));return u.join("")},n.decode=function(t){var e,n,i,a,s,c,l=0,u=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var p,d=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===r.charAt(64)&&d--,t.charAt(t.length-2)===r.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=o.uint8array?new Uint8Array(0|d):new Array(0|d);l<t.length;)e=r.indexOf(t.charAt(l++))<<2|(a=r.indexOf(t.charAt(l++)))>>4,n=(15&a)<<4|(s=r.indexOf(t.charAt(l++)))>>2,i=(3&s)<<6|(c=r.indexOf(t.charAt(l++))),p[u++]=e,64!==s&&(p[u++]=n),64!==c&&(p[u++]=i);return p}},{"./support":30,"./utils":32}],2:[function(t,e){var n=t("./external"),i=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),r=t("./stream/DataLengthProbe");function a(t,e,n,i,o){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=o}a.prototype={getContentWorker:function(){var t=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new r("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(t,e,n){return t.pipe(new o).pipe(new r("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new r("compressedSize")).withStreamInfo("compression",e)},e.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){var i=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e){var n=t("./utils"),i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==n.getTypeOf(t)?function(t,e,n){var o=i,r=0+n;t^=-1;for(var a=0;a<r;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}(0|e,t,t.length):function(t,e,n){var o=i,r=0+n;t^=-1;for(var a=0;a<r;a++)t=t>>>8^o[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e){var n;n="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:n}},{lie:37}],7:[function(t,e,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=t("pako"),r=t("./utils"),a=t("./stream/GenericWorker"),s=i?"uint8array":"array";function c(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}n.magic="\b\0",r.inherits(c,a),c.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(r.transformTo(s,t.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(t){return new c("Deflate",t)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e){function n(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i}function i(t,e,i,r,l,u){var p,d,h=t.file,f=t.compression,_=u!==a.utf8encode,y=o.transformTo("string",u(h.name)),m=o.transformTo("string",a.utf8encode(h.name)),g=h.comment,v=o.transformTo("string",u(g)),b=o.transformTo("string",a.utf8encode(g)),k=m.length!==h.name.length,w=b.length!==g.length,E="",T="",S="",C=h.dir,I=h.date,L={crc32:0,compressedSize:0,uncompressedSize:0};e&&!i||(L.crc32=t.crc32,L.compressedSize=t.compressedSize,L.uncompressedSize=t.uncompressedSize);var D=0;e&&(D|=8),_||!k&&!w||(D|=2048);var A,O=0,R=0;C&&(O|=16),"UNIX"===l?(R=798,O|=((A=h.unixPermissions)||(A=C?16893:33204),(65535&A)<<16)):(R=20,O|=63&(h.dosPermissions||0)),p=I.getUTCHours(),p<<=6,p|=I.getUTCMinutes(),p<<=5,p|=I.getUTCSeconds()/2,d=I.getUTCFullYear()-1980,d<<=4,d|=I.getUTCMonth()+1,d<<=5,d|=I.getUTCDate(),k&&(E+="up"+n((T=n(1,1)+n(s(y),4)+m).length,2)+T),w&&(E+="uc"+n((S=n(1,1)+n(s(v),4)+b).length,2)+S);var P="";return P+="\n\0",P+=n(D,2),P+=f.magic,P+=n(p,2),P+=n(d,2),P+=n(L.crc32,4),P+=n(L.compressedSize,4),P+=n(L.uncompressedSize,4),P+=n(y.length,2),P+=n(E.length,2),{fileRecord:c.LOCAL_FILE_HEADER+P+y+E,dirRecord:c.CENTRAL_FILE_HEADER+n(R,2)+P+n(v.length,2)+"\0\0\0\0"+n(O,4)+n(r,4)+y+E+v}}var o=t("../utils"),r=t("../stream/GenericWorker"),a=t("../utf8"),s=t("../crc32"),c=t("../signature");function l(t,e,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(l,r),l.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,r.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},l.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(t){this.accumulate=!1;var e,o=this.streamFiles&&!t.file.dir,r=i(t,o,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),o)this.push({data:(e=t,c.DATA_DESCRIPTOR+n(e.crc32,4)+n(e.compressedSize,4)+n(e.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var i,r,a,s,l,u,p=this.bytesWritten-t,d=(i=this.dirRecords.length,r=p,a=t,s=this.zipComment,l=this.encodeFileName,u=o.transformTo("string",l(s)),c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(i,2)+n(i,2)+n(r,4)+n(a,4)+n(u.length,2)+u);this.push({data:d,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},l.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(t){var e=this._sources;if(!r.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},l.prototype.lock=function(){r.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){var i=t("../compressions"),o=t("./ZipFileWorker");n.generateWorker=function(t,e,n){var r=new o(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach(function(t,n){a++;var o=function(t,e){var n=t||e,o=i[n];if(!o)throw new Error(n+" is not a valid compression method !");return o}(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},c=n.dir,l=n.date;n._compressWorker(o,s).withStreamInfo("file",{name:t,dir:c,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(r)}),r.entriesCount=a}catch(t){r.error(t)}return r}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.5.0",n.loadAsync=function(t,e){return(new n).loadAsync(t,e)},n.external=t("./external"),e.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e){var n=t("./utils"),i=t("./external"),o=t("./utf8"),r=t("./zipEntries"),a=t("./stream/Crc32Probe"),s=t("./nodejsUtils");function c(t){return new i.Promise(function(e,n){var i=t.decompressed.getContentWorker().pipe(new a);i.on("error",function(t){n(t)}).on("end",function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}e.exports=function(t,e){var a=this;return e=n.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),s.isNode&&s.isStream(t)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var n=new r(e);return n.load(t),n}).then(function(t){var n=[i.Promise.resolve(t)],o=t.files;if(e.checkCRC32)for(var r=0;r<o.length;r++)n.push(c(o[r]));return i.Promise.all(n)}).then(function(t){for(var n=t.shift(),i=n.files,o=0;o<i.length;o++){var r=i[o];a.file(r.fileNameStr,r.decompressed,{binary:!0,optimizedBinaryString:!0,date:r.date,dir:r.dir,comment:r.fileCommentStr.length?r.fileCommentStr:null,unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions,createFolders:e.createFolders})}return n.zipComment.length&&(a.comment=n.zipComment),a})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e){var n=t("../utils"),i=t("../stream/GenericWorker");function o(t,e){i.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}n.inherits(o,i),o.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e){var n=t("readable-stream").Readable;function i(t,e,i){n.call(this,e),this._helper=t;var o=this;t.on("data",function(t,e){o.push(t)||o._helper.pause(),i&&i(e)}).on("error",function(t){o.emit("error",t)}).on("end",function(){o.push(null)})}t("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,e){e.exports={isNode:void 0!==o,newBufferFrom:function(t,e){if(o.from&&o.from!==Uint8Array.from)return o.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new o(t,e)},allocBuffer:function(t){if(o.alloc)return o.alloc(t);var e=new o(t);return e.fill(0),e},isBuffer:function(t){return o.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e){function n(t,e,n){var o,s=r.getTypeOf(e),p=r.extend(n||{},c);p.date=p.date||new Date,null!==p.compression&&(p.compression=p.compression.toUpperCase()),"string"==typeof p.unixPermissions&&(p.unixPermissions=parseInt(p.unixPermissions,8)),p.unixPermissions&&16384&p.unixPermissions&&(p.dir=!0),p.dosPermissions&&16&p.dosPermissions&&(p.dir=!0),p.dir&&(t=i(t)),p.createFolders&&(o=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""}(t))&&f.call(this,o,!0);var _,y="string"===s&&!1===p.binary&&!1===p.base64;n&&void 0!==n.binary||(p.binary=!y),(e instanceof l&&0===e.uncompressedSize||p.dir||!e||0===e.length)&&(p.base64=!1,p.binary=!0,e="",p.compression="STORE",s="string"),_=e instanceof l||e instanceof a?e:d.isNode&&d.isStream(e)?new h(t,e):r.prepareContent(t,e,p.binary,p.optimizedBinaryString,p.base64);var m=new u(t,_,p);this.files[t]=m}function i(t){return"/"!==t.slice(-1)&&(t+="/"),t}var o=t("./utf8"),r=t("./utils"),a=t("./stream/GenericWorker"),s=t("./stream/StreamHelper"),c=t("./defaults"),l=t("./compressedObject"),u=t("./zipObject"),p=t("./generate"),d=t("./nodejsUtils"),h=t("./nodejs/NodejsStreamInputAdapter"),f=function(t,e){return e=void 0!==e?e:c.createFolders,t=i(t),this.files[t]||n.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function _(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(t){var e=[];return this.forEach(function(n,i){t(n,i)&&e.push(i)}),e},file:function(t,e,i){if(1!==arguments.length)return t=this.root+t,n.call(this,t,e,i),this;if(_(t)){var o=t;return this.filter(function(t,e){return!e.dir&&o.test(t)})}var r=this.files[this.root+t];return r&&!r.dir?r:null},folder:function(t){if(!t)return this;if(_(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=f.call(this,e),i=this.clone();return i.root=n.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=r.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";e=p.generateWorker(this,n,i)}catch(t){(e=new a("error")).error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e){e.exports=t("stream")},{stream:void 0}],17:[function(t,e){var n=t("./DataReader");function i(t){n.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(i,n),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),o=t.charCodeAt(3),r=this.length-4;0<=r;--r)if(this.data[r]===e&&this.data[r+1]===n&&this.data[r+2]===i&&this.data[r+3]===o)return r-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),o=t.charCodeAt(3),r=this.readData(4);return e===r[0]&&n===r[1]&&i===r[2]&&o===r[3]},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,e){var n=t("../utils");function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=i},{"../utils":32}],19:[function(t,e){var n=t("./Uint8ArrayReader");function i(t){n.call(this,t)}t("../utils").inherits(i,n),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e){var n=t("./DataReader");function i(t){n.call(this,t)}t("../utils").inherits(i,n),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,e){var n=t("./ArrayReader");function i(t){n.call(this,t)}t("../utils").inherits(i,n),i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,e){var n=t("../utils"),i=t("../support"),o=t("./ArrayReader"),r=t("./StringReader"),a=t("./NodeBufferReader"),s=t("./Uint8ArrayReader");e.exports=function(t){var e=n.getTypeOf(t);return n.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new a(t):i.uint8array?new s(n.transformTo("uint8array",t)):new o(n.transformTo("array",t)):new r(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,e){var n=t("./GenericWorker"),i=t("../utils");function o(t){n.call(this,"ConvertWorker to "+t),this.destType=t}i.inherits(o,n),o.prototype.processChunk=function(t){this.push({data:i.transformTo(this.destType,t.data),meta:t.meta})},e.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,e){var n=t("./GenericWorker"),i=t("../crc32");function o(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,n),o.prototype.processChunk=function(t){this.streamInfo.crc32=i(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e){var n=t("../utils"),i=t("./GenericWorker");function o(t){i.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}n.inherits(o,i),o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}i.prototype.processChunk.call(this,t)},e.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,e){var n=t("../utils"),i=t("./GenericWorker");function o(t){i.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=n.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}n.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,e){function n(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=n},{}],29:[function(t,e){var n=t("../utils"),i=t("./ConvertWorker"),r=t("./GenericWorker"),a=t("../base64"),s=t("../support"),c=t("../external"),l=null;if(s.nodestream)try{l=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function u(t,e,o){var a=e;switch(e){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=e,this._mimeType=o,n.checkSupport(a),this._worker=t.pipe(new i(a)),t.lock()}catch(t){this._worker=new r("error"),this._worker.error(t)}}u.prototype={accumulate:function(t){return e=this,i=t,new c.Promise(function(t,r){var s=[],c=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",function(t,e){s.push(t),i&&i(e)}).on("error",function(t){s=[],r(t)}).on("end",function(){try{var e=function(t,e,i){switch(t){case"blob":return n.newBlob(n.transformTo("arraybuffer",e),i);case"base64":return a.encode(e);default:return n.transformTo(t,e)}}(l,function(t,e){var n,i=0,r=null,a=0;for(n=0;n<e.length;n++)a+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(r=new Uint8Array(a),n=0;n<e.length;n++)r.set(e[n],i),i+=e[n].length;return r;case"nodebuffer":return o.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(c,s),u);t(e)}catch(e){r(e)}s=[]}).resume()});var e,i},on:function(t,e){var i=this;return"data"===t?this._worker.on(t,function(t){e.call(i,t.data,t.meta)}):this._worker.on(t,function(){n.delay(e,arguments,i)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==o,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(t){n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch(t){n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){for(var i=t("./utils"),o=t("./support"),r=t("./nodejsUtils"),a=t("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(t){return o.nodebuffer?r.newBufferFrom(t,"utf-8"):function(t){var e,n,i,r,a,s=t.length,c=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=o.uint8array?new Uint8Array(c):new Array(c),r=a=0;a<c;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e}(t)},n.utf8decode=function(t){return o.nodebuffer?i.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,o,r,a=t.length,c=new Array(2*a);for(e=n=0;e<a;)if((o=t[e++])<128)c[n++]=o;else if(4<(r=s[o]))c[n++]=65533,e+=r-1;else{for(o&=2===r?31:3===r?15:7;1<r&&e<a;)o=o<<6|63&t[e++],r--;1<r?c[n++]=65533:o<65536?c[n++]=o:(o-=65536,c[n++]=55296|o>>10&1023,c[n++]=56320|1023&o)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),i.applyFromCharCode(c)}(t=i.transformTo(o.uint8array?"uint8array":"array",t))},i.inherits(l,a),l.prototype.processChunk=function(t){var e=i.transformTo(o.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}(e),c=e;a!==e.length&&(o.uint8array?(c=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(c=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:n.utf8decode(c),meta:t.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,i.inherits(u,a),u.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){var i=t("./support"),o=t("./base64"),r=t("./nodejsUtils"),a=t("set-immediate-shim"),s=t("./external");function c(t){return t}function l(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}n.newBlob=function(e,i){n.checkSupport("blob");try{return new Blob([e],{type:i})}catch(t){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return o.append(e),o.getBlob(i)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(t,e,n){var i=[],o=0,r=t.length;if(r<=n)return String.fromCharCode.apply(null,t);for(;o<r;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(o,Math.min(o+n,r)))):i.push(String.fromCharCode.apply(null,t.subarray(o,Math.min(o+n,r)))),o+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(t){return!1}}()}};function p(t){var e=65536,i=n.getTypeOf(t),o=!0;if("uint8array"===i?o=u.applyCanBeUsed.uint8array:"nodebuffer"===i&&(o=u.applyCanBeUsed.nodebuffer),o)for(;1<e;)try{return u.stringifyByChunk(t,i,e)}catch(t){e=Math.floor(e/2)}return u.stringifyByChar(t)}function d(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}n.applyFromCharCode=p;var h={};h.string={string:c,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return h.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,r.allocBuffer(t.length))}},h.array={string:p,array:c,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(t)}},h.arraybuffer={string:function(t){return p(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:c,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(new Uint8Array(t))}},h.uint8array={string:p,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:c,nodebuffer:function(t){return r.newBufferFrom(t)}},h.nodebuffer={string:p,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return h.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:c},n.transformTo=function(t,e){if(e=e||"",!t)return e;n.checkSupport(t);var i=n.getTypeOf(e);return h[i][t](e)},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":i.nodebuffer&&r.isBuffer(t)?"nodebuffer":i.uint8array&&t instanceof Uint8Array?"uint8array":i.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!i[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},n.delay=function(t,e,n){a(function(){t.apply(n||null,e||[])})},n.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},n.prepareContent=function(t,e,r,a,c){return s.Promise.resolve(e).then(function(t){return i.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise(function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)}):t}).then(function(e){var u,p=n.getTypeOf(e);return p?("arraybuffer"===p?e=n.transformTo("uint8array",e):"string"===p&&(c?e=o.decode(e):r&&!0!==a&&(e=l(u=e,i.uint8array?new Uint8Array(u.length):new Array(u.length)))),e):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e){var n=t("./reader/readerFor"),i=t("./utils"),o=t("./signature"),r=t("./zipEntry"),a=(t("./utf8"),t("./support"));function s(t){this.files=[],this.loadOptions=t}s.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(e)+", expected "+i.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=a.uint8array?"uint8array":"array",n=i.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new r({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(0<r)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=n(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=s},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e){var n=t("./reader/readerFor"),i=t("./utils"),o=t("./compressedObject"),r=t("./crc32"),a=t("./utf8"),s=t("./compressions"),c=t("./support");function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in s)if(s.hasOwnProperty(e)&&s[e].magic===t)return s[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,n,i,o=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<o;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i};t.setIndex(o)},handleUTF8:function(){var t=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=i.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var o=this.findExtraFieldUnicodeComment();if(null!==o)this.fileCommentStr=o;else{var r=i.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=n(t.value);return 1!==e.readInt(1)?null:r(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=n(t.value);return 1!==e.readInt(1)?null:r(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null}},e.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e){function n(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),r=t("./utf8"),a=t("./compressedObject"),s=t("./stream/GenericWorker");n.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var o="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var a=!this._dataBinary;a&&!o&&(e=e.pipe(new r.Utf8EncodeWorker)),!a&&o&&(e=e.pipe(new r.Utf8DecodeWorker))}catch(t){(e=new s("error")).error(t)}return new i(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof a&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new r.Utf8EncodeWorker)),a.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)n.prototype[c[u]]=l;e.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e){(function(t){var n,i,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var r=0,a=new o(u),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=r=++r%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var c=new t.MessageChannel;c.port1.onmessage=u,n=function(){c.port2.postMessage(0)}}var l=[];function u(){var t,e;i=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}i=!1}e.exports=function(t){1!==l.push(t)||i||n()}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e){var n=t("immediate");function i(){}var o={},r=["REJECTED"],a=["FULFILLED"],s=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,t!==i&&d(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(t,e,i){n(function(){var n;try{n=e(i)}catch(n){return o.reject(t,n)}n===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,n)})}function p(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var a=h(function(){e(r,i)});"error"===a.status&&i(a.value)}function h(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=c).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===r)return this;var n=new this.constructor(i);return this.state!==s?u(n,this.state===a?t:e,this.outcome):this.queue.push(new l(n,t,e)),n},l.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){u(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){o.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){u(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=h(p,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)d(t,i);else{t.state=a,t.outcome=e;for(var r=-1,s=t.queue.length;++r<s;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=r,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},c.resolve=function(t){return t instanceof this?t:o.resolve(new this(i),t)},c.reject=function(t){var e=new this(i);return o.reject(e,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,l=new this(i);++c<n;)u(t[c],c);return l;function u(t,i){e.resolve(t).then(function(t){a[i]=t,++s!==n||r||(r=!0,o.resolve(l,a))},function(t){r||(r=!0,o.reject(l,t))})}},c.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var r,a=-1,s=new this(i);++a<e;)r=t[a],this.resolve(r).then(function(t){n||(n=!0,o.resolve(s,t))},function(t){n||(n=!0,o.reject(s,t))});return s}},{immediate:36}],38:[function(t,e){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){var i=t("./zlib/deflate"),o=t("./utils/common"),r=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),c=Object.prototype.toString,l=0,u=-1,p=0,d=8;function h(t){if(!(this instanceof h))return new h(t);this.options=o.assign({level:u,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==l)throw new Error(a[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var f;if(f="string"==typeof e.dictionary?r.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=i.deflateSetDictionary(this.strm,f))!==l)throw new Error(a[n]);this._dict_set=!0}}function f(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(t,e){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=r.string2buf(t):"[object ArrayBuffer]"===c.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=i.deflate(s,a))&&n!==l)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(r.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==a||(this.onEnd(l),!(s.avail_out=0))},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=h,n.deflate=f,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,f(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){var i=t("./zlib/inflate"),o=t("./utils/common"),r=t("./utils/strings"),a=t("./zlib/constants"),s=t("./zlib/messages"),c=t("./zlib/zstream"),l=t("./zlib/gzheader"),u=Object.prototype.toString;function p(t){if(!(this instanceof p))return new p(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new l,i.inflateGetHeader(this.strm,this.header)}function d(t,e){var n=new p(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}p.prototype.push=function(t,e){var n,s,c,l,p,d,h=this.strm,f=this.options.chunkSize,_=this.options.dictionary,y=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?h.input=r.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new o.Buf8(f),h.next_out=0,h.avail_out=f),(n=i.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&_&&(d="string"==typeof _?r.string2buf(_):"[object ArrayBuffer]"===u.call(_)?new Uint8Array(_):_,n=i.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===y&&(n=a.Z_OK,y=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=r.utf8border(h.output,h.next_out),l=h.next_out-c,p=r.buf2string(h.output,c),h.next_out=l,h.avail_out=f-l,l&&o.arraySet(h.output,h.output,c,l,0),this.onData(p)):this.onData(o.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(y=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(h.avail_out=0))},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=p,n.inflate=d,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,o){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),o);else for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){var e,n,i,o,r,a;for(e=i=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),e=o=0,n=t.length;e<n;e++)r=t[e],a.set(r,o),o+=r.length;return a}},r={arraySet:function(t,e,n,i,o){for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(i)},{}],42:[function(t,e,n){var i=t("./common"),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(t,e){if(e<65537&&(t.subarray&&r||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,n.string2buf=function(t){var e,n,o,r,a,s=t.length,c=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(o=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(o-56320),r++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(c),r=a=0;a<c;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(o=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(o-56320),r++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},n.buf2binstring=function(t){return c(t,t.length)},n.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,o=e.length;n<o;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,i,o,r,s=e||t.length,l=new Array(2*s);for(n=i=0;n<s;)if((o=t[n++])<128)l[i++]=o;else if(4<(r=a[o]))l[i++]=65533,n+=r-1;else{for(o&=2===r?31:3===r?15:7;1<r&&n<s;)o=o<<6|63&t[n++],r--;1<r?l[i++]=65533:o<65536?l[i++]=o:(o-=65536,l[i++]=55296|o>>10&1023,l[i++]=56320|1023&o)}return c(l,i)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e}},{"./common":41}],43:[function(t,e){e.exports=function(t,e,n,i){for(var o=65535&t|0,r=t>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;r=r+(o=o+e[i++]|0)|0,--a;);o%=65521,r%=65521}return o|r<<16|0}},{}],44:[function(t,e){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e){var n=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,i,o){var r=n,a=o+i;t^=-1;for(var s=o;s<a;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,n){var i,o=t("../utils/common"),r=t("./trees"),a=t("./adler32"),s=t("./crc32"),c=t("./messages"),l=0,u=0,p=-2,d=2,h=8,f=286,_=30,y=19,m=2*f+1,g=15,v=3,b=258,k=b+v+1,w=42,E=113;function T(t,e){return t.msg=c[e],e}function S(t){return(t<<1)-(4<t?9:0)}function C(t){for(var e=t.length;0<=--e;)t[e]=0}function I(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(o.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function L(t,e){r._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,I(t.strm)}function D(t,e){t.pending_buf[t.pending++]=e}function A(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function O(t,e){var n,i,o=t.max_chain_length,r=t.strstart,a=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-k?t.strstart-(t.w_size-k):0,l=t.window,u=t.w_mask,p=t.prev,d=t.strstart+b,h=l[r+a-1],f=l[r+a];t.prev_length>=t.good_match&&(o>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(n=e)+a]===f&&l[n+a-1]===h&&l[n]===l[r]&&l[++n]===l[r+1]){r+=2,n++;do{}while(l[++r]===l[++n]&&l[++r]===l[++n]&&l[++r]===l[++n]&&l[++r]===l[++n]&&l[++r]===l[++n]&&l[++r]===l[++n]&&l[++r]===l[++n]&&l[++r]===l[++n]&&r<d);if(i=b-(d-r),r=d-b,a<i){if(t.match_start=e,s<=(a=i))break;h=l[r+a-1],f=l[r+a]}}}while((e=p[e&u])>c&&0!=--o);return a<=t.lookahead?a:t.lookahead}function R(t){var e,n,i,r,c,l,u,p,d,h,f=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-k)){for(o.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=n=t.hash_size;i=t.head[--e],t.head[e]=f<=i?i-f:0,--n;);for(e=n=f;i=t.prev[--e],t.prev[e]=f<=i?i-f:0,--n;);r+=f}if(0===t.strm.avail_in)break;if(l=t.strm,u=t.window,p=t.strstart+t.lookahead,h=void 0,(d=r)<(h=l.avail_in)&&(h=d),n=0===h?0:(l.avail_in-=h,o.arraySet(u,l.input,l.next_in,h,p),1===l.state.wrap?l.adler=a(l.adler,u,h,p):2===l.state.wrap&&(l.adler=s(l.adler,u,h,p)),l.next_in+=h,l.total_in+=h,h),t.lookahead+=n,t.lookahead+t.insert>=v)for(c=t.strstart-t.insert,t.ins_h=t.window[c],t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+v-1])&t.hash_mask,t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<v)););}while(t.lookahead<k&&0!==t.strm.avail_in)}function P(t,e){for(var n,i;;){if(t.lookahead<k){if(R(t),t.lookahead<k&&e===l)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=v&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+v-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-k&&(t.match_length=O(t,n)),t.match_length>=v)if(i=r._tr_tally(t,t.strstart-t.match_start,t.match_length-v),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=v){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+v-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(L(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<v-1?t.strstart:v-1,4===e?(L(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(L(t,!1),0===t.strm.avail_out)?1:2}function G(t,e){for(var n,i,o;;){if(t.lookahead<k){if(R(t),t.lookahead<k&&e===l)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=v&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+v-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=v-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-k&&(t.match_length=O(t,n),t.match_length<=5&&(1===t.strategy||t.match_length===v&&4096<t.strstart-t.match_start)&&(t.match_length=v-1)),t.prev_length>=v&&t.match_length<=t.prev_length){for(o=t.strstart+t.lookahead-v,i=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-v),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+v-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=v-1,t.strstart++,i&&(L(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=r._tr_tally(t,0,t.window[t.strstart-1]))&&L(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=r._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<v-1?t.strstart:v-1,4===e?(L(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(L(t,!1),0===t.strm.avail_out)?1:2}function M(t,e,n,i,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=o}function N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*m),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*y+1)),C(this.dyn_ltree),C(this.dyn_dtree),C(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(g+1),this.heap=new o.Buf16(2*f+1),C(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*f+1),C(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function B(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=d,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?w:E,t.adler=2===e.wrap?0:1,e.last_flush=l,r._tr_init(e),u):T(t,p)}function x(t){var e,n=B(t);return n===u&&((e=t.state).window_size=2*e.w_size,C(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=v-1,e.match_available=0,e.ins_h=0),n}function U(t,e,n,i,r,a){if(!t)return p;var s=1;if(-1===e&&(e=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),r<1||9<r||n!==h||i<8||15<i||e<0||9<e||a<0||4<a)return T(t,p);8===i&&(i=9);var c=new N;return(t.state=c).strm=t,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=r+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+v-1)/v),c.window=new o.Buf8(2*c.w_size),c.head=new o.Buf16(c.hash_size),c.prev=new o.Buf16(c.w_size),c.lit_bufsize=1<<r+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new o.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=a,c.method=n,x(t)}i=[new M(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(R(t),0===t.lookahead&&e===l)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,L(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-k&&(L(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(L(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(L(t,!1),t.strm.avail_out),1)}),new M(4,4,8,4,P),new M(4,5,16,8,P),new M(4,6,32,32,P),new M(4,4,16,16,G),new M(8,16,32,32,G),new M(8,16,128,128,G),new M(8,32,128,256,G),new M(32,128,258,1024,G),new M(32,258,258,4096,G)],n.deflateInit=function(t,e){return U(t,e,h,15,8,0)},n.deflateInit2=U,n.deflateReset=x,n.deflateResetKeep=B,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?p:(t.state.gzhead=e,u):p},n.deflate=function(t,e){var n,o,a,c;if(!t||!t.state||5<e||e<0)return t?T(t,p):p;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||666===o.status&&4!==e)return T(t,0===t.avail_out?-5:p);if(o.strm=t,n=o.last_flush,o.last_flush=e,o.status===w)if(2===o.wrap)t.adler=0,D(o,31),D(o,139),D(o,8),o.gzhead?(D(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),D(o,255&o.gzhead.time),D(o,o.gzhead.time>>8&255),D(o,o.gzhead.time>>16&255),D(o,o.gzhead.time>>24&255),D(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),D(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(D(o,255&o.gzhead.extra.length),D(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=s(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(D(o,0),D(o,0),D(o,0),D(o,0),D(o,0),D(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),D(o,3),o.status=E);else{var d=h+(o.w_bits-8<<4)<<8;d|=(2<=o.strategy||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(d|=32),d+=31-d%31,o.status=E,A(o,d),0!==o.strstart&&(A(o,t.adler>>>16),A(o,65535&t.adler)),t.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),I(t),a=o.pending,o.pending!==o.pending_buf_size));)D(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),I(t),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,D(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),I(t),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,D(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&I(t),o.pending+2<=o.pending_buf_size&&(D(o,255&t.adler),D(o,t.adler>>8&255),t.adler=0,o.status=E)):o.status=E),0!==o.pending){if(I(t),0===t.avail_out)return o.last_flush=-1,u}else if(0===t.avail_in&&S(e)<=S(n)&&4!==e)return T(t,-5);if(666===o.status&&0!==t.avail_in)return T(t,-5);if(0!==t.avail_in||0!==o.lookahead||e!==l&&666!==o.status){var f=2===o.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(R(t),0===t.lookahead)){if(e===l)return 1;break}if(t.match_length=0,n=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(L(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(L(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(L(t,!1),0===t.strm.avail_out)?1:2}(o,e):3===o.strategy?function(t,e){for(var n,i,o,a,s=t.window;;){if(t.lookahead<=b){if(R(t),t.lookahead<=b&&e===l)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=v&&0<t.strstart&&(i=s[o=t.strstart-1])===s[++o]&&i===s[++o]&&i===s[++o]){a=t.strstart+b;do{}while(i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&o<a);t.match_length=b-(a-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=v?(n=r._tr_tally(t,1,t.match_length-v),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(L(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(L(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(L(t,!1),0===t.strm.avail_out)?1:2}(o,e):i[o.level].func(o,e);if(3!==f&&4!==f||(o.status=666),1===f||3===f)return 0===t.avail_out&&(o.last_flush=-1),u;if(2===f&&(1===e?r._tr_align(o):5!==e&&(r._tr_stored_block(o,0,0,!1),3===e&&(C(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),I(t),0===t.avail_out))return o.last_flush=-1,u}return 4!==e?u:o.wrap<=0?1:(2===o.wrap?(D(o,255&t.adler),D(o,t.adler>>8&255),D(o,t.adler>>16&255),D(o,t.adler>>24&255),D(o,255&t.total_in),D(o,t.total_in>>8&255),D(o,t.total_in>>16&255),D(o,t.total_in>>24&255)):(A(o,t.adler>>>16),A(o,65535&t.adler)),I(t),0<o.wrap&&(o.wrap=-o.wrap),0!==o.pending?u:1)},n.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==w&&69!==e&&73!==e&&91!==e&&103!==e&&e!==E&&666!==e?T(t,p):(t.state=null,e===E?T(t,-3):u):p},n.deflateSetDictionary=function(t,e){var n,i,r,s,c,l,d,h,f=e.length;if(!t||!t.state)return p;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==w||n.lookahead)return p;for(1===s&&(t.adler=a(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(C(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new o.Buf8(n.w_size),o.arraySet(h,e,f-n.w_size,n.w_size,0),e=h,f=n.w_size),c=t.avail_in,l=t.next_in,d=t.input,t.avail_in=f,t.next_in=0,t.input=e,R(n);n.lookahead>=v;){for(i=n.strstart,r=n.lookahead-(v-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+v-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--r;);n.strstart=i,n.lookahead=v-1,R(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=v-1,n.match_available=0,t.next_in=l,t.input=d,t.avail_in=c,n.wrap=s,u},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e){e.exports=function(t,e){var n,i,o,r,a,s,c,l,u,p,d,h,f,_,y,m,g,v,b,k,w,E,T,S,C;n=t.state,i=t.next_in,S=t.input,o=i+(t.avail_in-5),r=t.next_out,C=t.output,a=r-(e-t.avail_out),s=r+(t.avail_out-257),c=n.dmax,l=n.wsize,u=n.whave,p=n.wnext,d=n.window,h=n.hold,f=n.bits,_=n.lencode,y=n.distcode,m=(1<<n.lenbits)-1,g=(1<<n.distbits)-1;t:do{f<15&&(h+=S[i++]<<f,f+=8,h+=S[i++]<<f,f+=8),v=_[h&m];e:for(;;){if(h>>>=b=v>>>24,f-=b,0==(b=v>>>16&255))C[r++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=_[(65535&v)+(h&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}k=65535&v,(b&=15)&&(f<b&&(h+=S[i++]<<f,f+=8),k+=h&(1<<b)-1,h>>>=b,f-=b),f<15&&(h+=S[i++]<<f,f+=8,h+=S[i++]<<f,f+=8),v=y[h&g];n:for(;;){if(h>>>=b=v>>>24,f-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=y[(65535&v)+(h&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&v,f<(b&=15)&&(h+=S[i++]<<f,(f+=8)<b&&(h+=S[i++]<<f,f+=8)),c<(w+=h&(1<<b)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(h>>>=b,f-=b,(b=r-a)<w){if(u<(b=w-b)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(T=d,(E=0)===p){if(E+=l-b,b<k){for(k-=b;C[r++]=d[E++],--b;);E=r-w,T=C}}else if(p<b){if(E+=l+p-b,(b-=p)<k){for(k-=b;C[r++]=d[E++],--b;);if(E=0,p<k){for(k-=b=p;C[r++]=d[E++],--b;);E=r-w,T=C}}}else if(E+=p-b,b<k){for(k-=b;C[r++]=d[E++],--b;);E=r-w,T=C}for(;2<k;)C[r++]=T[E++],C[r++]=T[E++],C[r++]=T[E++],k-=3;k&&(C[r++]=T[E++],1<k&&(C[r++]=T[E++]))}else{for(E=r-w;C[r++]=C[E++],C[r++]=C[E++],C[r++]=C[E++],2<(k-=3););k&&(C[r++]=C[E++],1<k&&(C[r++]=C[E++]))}break}}break}}while(i<o&&r<s);i-=k=f>>3,h&=(1<<(f-=k<<3))-1,t.next_in=i,t.next_out=r,t.avail_in=i<o?o-i+5:5-(i-o),t.avail_out=r<s?s-r+257:257-(r-s),n.hold=h,n.bits=f}},{}],49:[function(t,e,n){var i=t("../utils/common"),o=t("./adler32"),r=t("./crc32"),a=t("./inffast"),s=t("./inftrees"),c=1,l=2,u=0,p=-2,d=1,h=852,f=592;function _(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=d,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(h),e.distcode=e.distdyn=new i.Buf32(f),e.sane=1,e.back=-1,u):p}function g(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,m(t)):p}function v(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?p:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,g(t))):p}function b(t,e){var n,i;return t?(i=new y,(t.state=i).window=null,(n=v(t,e))!==u&&(t.state=null),n):p}var k,w,E=!0;function T(t){if(E){var e;for(k=new i.Buf32(512),w=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(c,t.lens,0,288,k,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(l,t.lens,0,32,w,0,t.work,{bits:5}),E=!1}t.lencode=k,t.lenbits=9,t.distcode=w,t.distbits=5}function S(t,e,n,o){var r,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),o>=a.wsize?(i.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(o<(r=a.wsize-a.wnext)&&(r=o),i.arraySet(a.window,e,n-o,r,a.wnext),(o-=r)?(i.arraySet(a.window,e,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0}n.inflateReset=g,n.inflateReset2=v,n.inflateResetKeep=m,n.inflateInit=function(t){return b(t,15)},n.inflateInit2=b,n.inflate=function(t,e){var n,h,f,y,m,g,v,b,k,w,E,C,I,L,D,A,O,R,P,G,M,N,B,x,U=0,F=new i.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return p;12===(n=t.state).mode&&(n.mode=13),m=t.next_out,f=t.output,v=t.avail_out,y=t.next_in,h=t.input,g=t.avail_in,b=n.hold,k=n.bits,w=g,E=v,N=u;t:for(;;)switch(n.mode){case d:if(0===n.wrap){n.mode=13;break}for(;k<16;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}if(2&n.wrap&&35615===b){F[n.check=0]=255&b,F[1]=b>>>8&255,n.check=r(n.check,F,2,0),k=b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&b)){t.msg="unknown compression method",n.mode=30;break}if(k-=4,M=8+(15&(b>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<M,t.adler=n.check=1,n.mode=512&b?10:12,k=b=0;break;case 2:for(;k<16;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}if(n.flags=b,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(F[0]=255&b,F[1]=b>>>8&255,n.check=r(n.check,F,2,0)),k=b=0,n.mode=3;case 3:for(;k<32;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}n.head&&(n.head.time=b),512&n.flags&&(F[0]=255&b,F[1]=b>>>8&255,F[2]=b>>>16&255,F[3]=b>>>24&255,n.check=r(n.check,F,4,0)),k=b=0,n.mode=4;case 4:for(;k<16;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(F[0]=255&b,F[1]=b>>>8&255,n.check=r(n.check,F,2,0)),k=b=0,n.mode=5;case 5:if(1024&n.flags){for(;k<16;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(F[0]=255&b,F[1]=b>>>8&255,n.check=r(n.check,F,2,0)),k=b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(g<(C=n.length)&&(C=g),C&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,h,y,C,M)),512&n.flags&&(n.check=r(n.check,h,C,y)),g-=C,y+=C,n.length-=C),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break t;for(C=0;M=h[y+C++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M)),M&&C<g;);if(512&n.flags&&(n.check=r(n.check,h,C,y)),g-=C,y+=C,M)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break t;for(C=0;M=h[y+C++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M)),M&&C<g;);if(512&n.flags&&(n.check=r(n.check,h,C,y)),g-=C,y+=C,M)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;k<16;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}if(b!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}k=b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;k<32;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}t.adler=n.check=_(b),k=b=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=m,t.avail_out=v,t.next_in=y,t.avail_in=g,n.hold=b,n.bits=k,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){b>>>=7&k,k-=7&k,n.mode=27;break}for(;k<3;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}switch(n.last=1&b,k-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(T(n),n.mode=20,6!==e)break;b>>>=2,k-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}b>>>=2,k-=2;break;case 14:for(b>>>=7&k,k-=7&k;k<32;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}if((65535&b)!=(b>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&b,k=b=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(C=n.length){if(g<C&&(C=g),v<C&&(C=v),0===C)break t;i.arraySet(f,h,y,C,m),g-=C,y+=C,v-=C,m+=C,n.length-=C;break}n.mode=12;break;case 17:for(;k<14;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}if(n.nlen=257+(31&b),b>>>=5,k-=5,n.ndist=1+(31&b),b>>>=5,k-=5,n.ncode=4+(15&b),b>>>=4,k-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;k<3;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}n.lens[z[n.have++]]=7&b,b>>>=3,k-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,B={bits:n.lenbits},N=s(0,n.lens,0,19,n.lencode,0,n.work,B),n.lenbits=B.bits,N){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(U=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,O=65535&U,!((D=U>>>24)<=k);){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}if(O<16)b>>>=D,k-=D,n.lens[n.have++]=O;else{if(16===O){for(x=D+2;k<x;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}if(b>>>=D,k-=D,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}M=n.lens[n.have-1],C=3+(3&b),b>>>=2,k-=2}else if(17===O){for(x=D+3;k<x;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}k-=D,M=0,C=3+(7&(b>>>=D)),b>>>=3,k-=3}else{for(x=D+7;k<x;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}k-=D,M=0,C=11+(127&(b>>>=D)),b>>>=7,k-=7}if(n.have+C>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=M}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,B={bits:n.lenbits},N=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,B),n.lenbits=B.bits,N){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,B={bits:n.distbits},N=s(l,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,B),n.distbits=B.bits,N){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=g&&258<=v){t.next_out=m,t.avail_out=v,t.next_in=y,t.avail_in=g,n.hold=b,n.bits=k,a(t,E),m=t.next_out,f=t.output,v=t.avail_out,y=t.next_in,h=t.input,g=t.avail_in,b=n.hold,k=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;A=(U=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,O=65535&U,!((D=U>>>24)<=k);){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}if(A&&0==(240&A)){for(R=D,P=A,G=O;A=(U=n.lencode[G+((b&(1<<R+P)-1)>>R)])>>>16&255,O=65535&U,!(R+(D=U>>>24)<=k);){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}b>>>=R,k-=R,n.back+=R}if(b>>>=D,k-=D,n.back+=D,n.length=O,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=12;break}if(64&A){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(x=n.extra;k<x;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,k-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(U=n.distcode[b&(1<<n.distbits)-1])>>>16&255,O=65535&U,!((D=U>>>24)<=k);){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}if(0==(240&A)){for(R=D,P=A,G=O;A=(U=n.distcode[G+((b&(1<<R+P)-1)>>R)])>>>16&255,O=65535&U,!(R+(D=U>>>24)<=k);){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}b>>>=R,k-=R,n.back+=R}if(b>>>=D,k-=D,n.back+=D,64&A){t.msg="invalid distance code",n.mode=30;break}n.offset=O,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(x=n.extra;k<x;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,k-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===v)break t;if(C=E-v,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}I=C>n.wnext?(C-=n.wnext,n.wsize-C):n.wnext-C,C>n.length&&(C=n.length),L=n.window}else L=f,I=m-n.offset,C=n.length;for(v<C&&(C=v),v-=C,n.length-=C;f[m++]=L[I++],--C;);0===n.length&&(n.mode=21);break;case 26:if(0===v)break t;f[m++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;k<32;){if(0===g)break t;g--,b|=h[y++]<<k,k+=8}if(E-=v,t.total_out+=E,n.total+=E,E&&(t.adler=n.check=n.flags?r(n.check,f,E,m-E):o(n.check,f,E,m-E)),E=v,(n.flags?b:_(b))!==n.check){t.msg="incorrect data check",n.mode=30;break}k=b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;k<32;){if(0===g)break t;g--,b+=h[y++]<<k,k+=8}if(b!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}k=b=0}n.mode=29;case 29:N=1;break t;case 30:N=-3;break t;case 31:return-4;case 32:default:return p}return t.next_out=m,t.avail_out=v,t.next_in=y,t.avail_in=g,n.hold=b,n.bits=k,(n.wsize||E!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&S(t,t.output,t.next_out,E-t.avail_out)?(n.mode=31,-4):(w-=t.avail_in,E-=t.avail_out,t.total_in+=w,t.total_out+=E,n.total+=E,n.wrap&&E&&(t.adler=n.check=n.flags?r(n.check,f,E,t.next_out-E):o(n.check,f,E,t.next_out-E)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===E||4===e)&&N===u&&(N=-5),N)},n.inflateEnd=function(t){if(!t||!t.state)return p;var e=t.state;return e.window&&(e.window=null),t.state=null,u},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?p:((n.head=e).done=!1,u):p},n.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?p:11===n.mode&&o(1,e,i,0)!==n.check?-3:S(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,u):p},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e){var n=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],r=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,s,c,l,u,p,d){var h,f,_,y,m,g,v,b,k,w=d.bits,E=0,T=0,S=0,C=0,I=0,L=0,D=0,A=0,O=0,R=0,P=null,G=0,M=new n.Buf16(16),N=new n.Buf16(16),B=null,x=0;for(E=0;E<=15;E++)M[E]=0;for(T=0;T<c;T++)M[e[s+T]]++;for(I=w,C=15;1<=C&&0===M[C];C--);if(C<I&&(I=C),0===C)return l[u++]=20971520,l[u++]=20971520,d.bits=1,0;for(S=1;S<C&&0===M[S];S++);for(I<S&&(I=S),E=A=1;E<=15;E++)if(A<<=1,(A-=M[E])<0)return-1;if(0<A&&(0===t||1!==C))return-1;for(N[1]=0,E=1;E<15;E++)N[E+1]=N[E]+M[E];for(T=0;T<c;T++)0!==e[s+T]&&(p[N[e[s+T]]++]=T);if(g=0===t?(P=B=p,19):1===t?(P=i,G-=257,B=o,x-=257,256):(P=r,B=a,-1),E=S,m=u,D=T=R=0,_=-1,y=(O=1<<(L=I))-1,1===t&&852<O||2===t&&592<O)return 1;for(;;){for(v=E-D,k=p[T]<g?(b=0,p[T]):p[T]>g?(b=B[x+p[T]],P[G+p[T]]):(b=96,0),h=1<<E-D,S=f=1<<L;l[m+(R>>D)+(f-=h)]=v<<24|b<<16|k|0,0!==f;);for(h=1<<E-1;R&h;)h>>=1;if(0!==h?(R&=h-1,R+=h):R=0,T++,0==--M[E]){if(E===C)break;E=e[s+p[T]]}if(I<E&&(R&y)!==_){for(0===D&&(D=I),m+=S,A=1<<(L=E-D);L+D<C&&!((A-=M[L+D])<=0);)L++,A<<=1;if(O+=1<<L,1===t&&852<O||2===t&&592<O)return 1;l[_=R&y]=I<<24|L<<16|m-u|0}}return 0!==R&&(l[m+R]=E-D<<24|64<<16|0),d.bits=I,0}},{"../utils/common":41}],51:[function(t,e){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){var i=t("../utils/common");function o(t){for(var e=t.length;0<=--e;)t[e]=0}var r=15,a=16,s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);o(p);var d=new Array(60);o(d);var h=new Array(512);o(h);var f=new Array(256);o(f);var _=new Array(29);o(_);var y,m,g,v=new Array(30);function b(t,e,n,i,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=t&&t.length}function k(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function w(t){return t<256?h[t]:h[256+(t>>>7)]}function E(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function T(t,e,n){t.bi_valid>a-n?(t.bi_buf|=e<<t.bi_valid&65535,E(t,t.bi_buf),t.bi_buf=e>>a-t.bi_valid,t.bi_valid+=n-a):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function S(t,e,n){T(t,n[2*e],n[2*e+1])}function C(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function I(t,e,n){var i,o,a=new Array(r+1),s=0;for(i=1;i<=r;i++)a[i]=s=s+n[i-1]<<1;for(o=0;o<=e;o++){var c=t[2*o+1];0!==c&&(t[2*o]=C(a[c]++,c))}}function L(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function D(t){8<t.bi_valid?E(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function A(t,e,n,i){var o=2*e,r=2*n;return t[o]<t[r]||t[o]===t[r]&&i[e]<=i[n]}function O(t,e,n){for(var i=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&A(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!A(e,i,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=i}function R(t,e,n){var i,o,r,a,l=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],o=t.pending_buf[t.l_buf+l],l++,0===i?S(t,o,e):(S(t,(r=f[o])+256+1,e),0!==(a=s[r])&&T(t,o-=_[r],a),S(t,r=w(--i),n),0!==(a=c[r])&&T(t,i-=v[r],a)),l<t.last_lit;);S(t,256,e)}function P(t,e){var n,i,o,a=e.dyn_tree,s=e.stat_desc.static_tree,c=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==a[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(o=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[o]=0,t.opt_len--,c&&(t.static_len-=s[2*o+1]);for(e.max_code=u,n=t.heap_len>>1;1<=n;n--)O(t,a,n);for(o=l;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],O(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,a[2*o]=a[2*n]+a[2*i],t.depth[o]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,a[2*n+1]=a[2*i+1]=o,t.heap[1]=o++,O(t,a,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,o,a,s,c,l=e.dyn_tree,u=e.max_code,p=e.stat_desc.static_tree,d=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,_=e.stat_desc.max_length,y=0;for(a=0;a<=r;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)_<(a=l[2*l[2*(i=t.heap[n])+1]+1]+1)&&(a=_,y++),l[2*i+1]=a,u<i||(t.bl_count[a]++,s=0,f<=i&&(s=h[i-f]),c=l[2*i],t.opt_len+=c*(a+s),d&&(t.static_len+=c*(p[2*i+1]+s)));if(0!==y){do{for(a=_-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[_]--,y-=2}while(0<y);for(a=_;0!==a;a--)for(i=t.bl_count[a];0!==i;)u<(o=t.heap[--n])||(l[2*o+1]!==a&&(t.opt_len+=(a-l[2*o+1])*l[2*o],l[2*o+1]=a),i--)}}(t,e),I(a,u,t.bl_count)}function G(t,e,n){var i,o,r=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)o=a,a=e[2*(i+1)+1],++s<c&&o===a||(s<l?t.bl_tree[2*o]+=s:0!==o?(o!==r&&t.bl_tree[2*o]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,r=o,l=(s=0)===a?(c=138,3):o===a?(c=6,3):(c=7,4))}function M(t,e,n){var i,o,r=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),i=0;i<=n;i++)if(o=a,a=e[2*(i+1)+1],!(++s<c&&o===a)){if(s<l)for(;S(t,o,t.bl_tree),0!=--s;);else 0!==o?(o!==r&&(S(t,o,t.bl_tree),s--),S(t,16,t.bl_tree),T(t,s-3,2)):s<=10?(S(t,17,t.bl_tree),T(t,s-3,3)):(S(t,18,t.bl_tree),T(t,s-11,7));r=o,l=(s=0)===a?(c=138,3):o===a?(c=6,3):(c=7,4)}}o(v);var N=!1;function B(t,e,n,o){var r,a,s;T(t,0+(o?1:0),3),a=e,s=n,D(r=t),E(r,s),E(r,~s),i.arraySet(r.pending_buf,r.window,a,s,r.pending),r.pending+=s}n._tr_init=function(t){N||(function(){var t,e,n,i,o,a=new Array(r+1);for(i=n=0;i<28;i++)for(_[i]=n,t=0;t<1<<s[i];t++)f[n++]=i;for(f[n-1]=i,i=o=0;i<16;i++)for(v[i]=o,t=0;t<1<<c[i];t++)h[o++]=i;for(o>>=7;i<30;i++)for(v[i]=o<<7,t=0;t<1<<c[i]-7;t++)h[256+o++]=i;for(e=0;e<=r;e++)a[e]=0;for(t=0;t<=143;)p[2*t+1]=8,t++,a[8]++;for(;t<=255;)p[2*t+1]=9,t++,a[9]++;for(;t<=279;)p[2*t+1]=7,t++,a[7]++;for(;t<=287;)p[2*t+1]=8,t++,a[8]++;for(I(p,287,a),t=0;t<30;t++)d[2*t+1]=5,d[2*t]=C(t,5);y=new b(p,s,257,286,r),m=new b(d,c,0,30,r),g=new b(new Array(0),l,0,19,7)}(),N=!0),t.l_desc=new k(t.dyn_ltree,y),t.d_desc=new k(t.dyn_dtree,m),t.bl_desc=new k(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,L(t)},n._tr_stored_block=B,n._tr_flush_block=function(t,e,n,i){var o,r,a=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),P(t,t.l_desc),P(t,t.d_desc),a=function(t){var e;for(G(t,t.dyn_ltree,t.l_desc.max_code),G(t,t.dyn_dtree,t.d_desc.max_code),P(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=14+3*(e+1),e}(t),o=t.opt_len+3+7>>>3,(r=t.static_len+3+7>>>3)<=o&&(o=r)):o=r=n+5,n+4<=o&&-1!==e?B(t,e,n,i):4===t.strategy||r===o?(T(t,2+(i?1:0),3),R(t,p,d)):(T(t,4+(i?1:0),3),function(t,e,n,i){var o;for(T(t,e-257,5),T(t,n-1,5),T(t,i-4,4),o=0;o<i;o++)T(t,t.bl_tree[2*u[o]+1],3);M(t,t.dyn_ltree,e-1),M(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),R(t,t.dyn_ltree,t.dyn_dtree)),L(t),i&&D(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){var e;T(t,2,3),S(t,256,p),16===(e=t).bi_valid?(E(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":41}],53:[function(t,e){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e){e.exports="function"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{buffer:2}],md5:[function(require,module,exports){(function(process,global){"use strict";cc._RF.push(module,"f235fQ4+ixNk7QK8/3d0vC4","md5"),function(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&process&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(e){return new Md5(!0).update(e)[t]()}},createMethod=function(){var t=createOutputMethod("hex");NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Md5},t.update=function(e){return t.create().update(e)};for(var e=0;e<OUTPUT_TYPES.length;++e){var n=OUTPUT_TYPES[e];t[n]=createOutputMethod(n)}return t},nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("md5").update(t,"utf8").digest("hex");if(null==t)throw ERROR;return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash("md5").update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod};function Md5(t){if(t)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if("string"!==n){if("object"!==n)throw ERROR;if(null===t)throw ERROR;if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw ERROR;e=!0}for(var i,o,r=0,a=t.length,s=this.blocks,c=this.buffer8;r<a;){if(this.hashed&&(this.hashed=!1,s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)if(ARRAY_BUFFER)for(o=this.start;r<a&&o<64;++r)c[o++]=t[r];else for(o=this.start;r<a&&o<64;++r)s[o>>2]|=t[r]<<SHIFT[3&o++];else if(ARRAY_BUFFER)for(o=this.start;r<a&&o<64;++r)(i=t.charCodeAt(r))<128?c[o++]=i:i<2048?(c[o++]=192|i>>6,c[o++]=128|63&i):i<55296||i>=57344?(c[o++]=224|i>>12,c[o++]=128|i>>6&63,c[o++]=128|63&i):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++r)),c[o++]=240|i>>18,c[o++]=128|i>>12&63,c[o++]=128|i>>6&63,c[o++]=128|63&i);else for(o=this.start;r<a&&o<64;++r)(i=t.charCodeAt(r))<128?s[o>>2]|=i<<SHIFT[3&o++]:i<2048?(s[o>>2]|=(192|i>>6)<<SHIFT[3&o++],s[o>>2]|=(128|63&i)<<SHIFT[3&o++]):i<55296||i>=57344?(s[o>>2]|=(224|i>>12)<<SHIFT[3&o++],s[o>>2]|=(128|i>>6&63)<<SHIFT[3&o++],s[o>>2]|=(128|63&i)<<SHIFT[3&o++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++r)),s[o>>2]|=(240|i>>18)<<SHIFT[3&o++],s[o>>2]|=(128|i>>12&63)<<SHIFT[3&o++],s[o>>2]|=(128|i>>6&63)<<SHIFT[3&o++],s[o>>2]|=(128|63&i)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>2]|=EXTRA[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var t,e,n,i,o,r,a=this.blocks;this.first?e=((e=((t=((t=a[0]-680876937)<<7|t>>>25)-271733879<<0)^(n=((n=(-271733879^(i=((i=(-1732584194^2004318071&t)+a[1]-117830708)<<12|i>>>20)+t<<0)&(-271733879^t))+a[2]-1126478375)<<17|n>>>15)+i<<0)&(i^t))+a[3]-1316259209)<<22|e>>>10)+n<<0:(t=this.h0,e=this.h1,n=this.h2,e=((e+=((t=((t+=((i=this.h3)^e&(n^i))+a[0]-680876936)<<7|t>>>25)+e<<0)^(n=((n+=(e^(i=((i+=(n^t&(e^n))+a[1]-389564586)<<12|i>>>20)+t<<0)&(t^e))+a[2]+606105819)<<17|n>>>15)+i<<0)&(i^t))+a[3]-1044525330)<<22|e>>>10)+n<<0),e=((e+=((t=((t+=(i^e&(n^i))+a[4]-176418897)<<7|t>>>25)+e<<0)^(n=((n+=(e^(i=((i+=(n^t&(e^n))+a[5]+1200080426)<<12|i>>>20)+t<<0)&(t^e))+a[6]-1473231341)<<17|n>>>15)+i<<0)&(i^t))+a[7]-45705983)<<22|e>>>10)+n<<0,e=((e+=((t=((t+=(i^e&(n^i))+a[8]+1770035416)<<7|t>>>25)+e<<0)^(n=((n+=(e^(i=((i+=(n^t&(e^n))+a[9]-1958414417)<<12|i>>>20)+t<<0)&(t^e))+a[10]-42063)<<17|n>>>15)+i<<0)&(i^t))+a[11]-1990404162)<<22|e>>>10)+n<<0,e=((e+=((t=((t+=(i^e&(n^i))+a[12]+1804603682)<<7|t>>>25)+e<<0)^(n=((n+=(e^(i=((i+=(n^t&(e^n))+a[13]-40341101)<<12|i>>>20)+t<<0)&(t^e))+a[14]-1502002290)<<17|n>>>15)+i<<0)&(i^t))+a[15]+1236535329)<<22|e>>>10)+n<<0,e=((e+=((i=((i+=(e^n&((t=((t+=(n^i&(e^n))+a[1]-165796510)<<5|t>>>27)+e<<0)^e))+a[6]-1069501632)<<9|i>>>23)+t<<0)^t&((n=((n+=(t^e&(i^t))+a[11]+643717713)<<14|n>>>18)+i<<0)^i))+a[0]-373897302)<<20|e>>>12)+n<<0,e=((e+=((i=((i+=(e^n&((t=((t+=(n^i&(e^n))+a[5]-701558691)<<5|t>>>27)+e<<0)^e))+a[10]+38016083)<<9|i>>>23)+t<<0)^t&((n=((n+=(t^e&(i^t))+a[15]-660478335)<<14|n>>>18)+i<<0)^i))+a[4]-405537848)<<20|e>>>12)+n<<0,e=((e+=((i=((i+=(e^n&((t=((t+=(n^i&(e^n))+a[9]+568446438)<<5|t>>>27)+e<<0)^e))+a[14]-1019803690)<<9|i>>>23)+t<<0)^t&((n=((n+=(t^e&(i^t))+a[3]-187363961)<<14|n>>>18)+i<<0)^i))+a[8]+1163531501)<<20|e>>>12)+n<<0,e=((e+=((i=((i+=(e^n&((t=((t+=(n^i&(e^n))+a[13]-1444681467)<<5|t>>>27)+e<<0)^e))+a[2]-51403784)<<9|i>>>23)+t<<0)^t&((n=((n+=(t^e&(i^t))+a[7]+1735328473)<<14|n>>>18)+i<<0)^i))+a[12]-1926607734)<<20|e>>>12)+n<<0,e=((e+=((r=(i=((i+=((o=e^n)^(t=((t+=(o^i)+a[5]-378558)<<4|t>>>28)+e<<0))+a[8]-2022574463)<<11|i>>>21)+t<<0)^t)^(n=((n+=(r^e)+a[11]+1839030562)<<16|n>>>16)+i<<0))+a[14]-35309556)<<23|e>>>9)+n<<0,e=((e+=((r=(i=((i+=((o=e^n)^(t=((t+=(o^i)+a[1]-1530992060)<<4|t>>>28)+e<<0))+a[4]+1272893353)<<11|i>>>21)+t<<0)^t)^(n=((n+=(r^e)+a[7]-155497632)<<16|n>>>16)+i<<0))+a[10]-1094730640)<<23|e>>>9)+n<<0,e=((e+=((r=(i=((i+=((o=e^n)^(t=((t+=(o^i)+a[13]+681279174)<<4|t>>>28)+e<<0))+a[0]-358537222)<<11|i>>>21)+t<<0)^t)^(n=((n+=(r^e)+a[3]-722521979)<<16|n>>>16)+i<<0))+a[6]+76029189)<<23|e>>>9)+n<<0,e=((e+=((r=(i=((i+=((o=e^n)^(t=((t+=(o^i)+a[9]-640364487)<<4|t>>>28)+e<<0))+a[12]-421815835)<<11|i>>>21)+t<<0)^t)^(n=((n+=(r^e)+a[15]+530742520)<<16|n>>>16)+i<<0))+a[2]-995338651)<<23|e>>>9)+n<<0,e=((e+=((i=((i+=(e^((t=((t+=(n^(e|~i))+a[0]-198630844)<<6|t>>>26)+e<<0)|~n))+a[7]+1126891415)<<10|i>>>22)+t<<0)^((n=((n+=(t^(i|~e))+a[14]-1416354905)<<15|n>>>17)+i<<0)|~t))+a[5]-57434055)<<21|e>>>11)+n<<0,e=((e+=((i=((i+=(e^((t=((t+=(n^(e|~i))+a[12]+1700485571)<<6|t>>>26)+e<<0)|~n))+a[3]-1894986606)<<10|i>>>22)+t<<0)^((n=((n+=(t^(i|~e))+a[10]-1051523)<<15|n>>>17)+i<<0)|~t))+a[1]-2054922799)<<21|e>>>11)+n<<0,e=((e+=((i=((i+=(e^((t=((t+=(n^(e|~i))+a[8]+1873313359)<<6|t>>>26)+e<<0)|~n))+a[15]-30611744)<<10|i>>>22)+t<<0)^((n=((n+=(t^(i|~e))+a[6]-1560198380)<<15|n>>>17)+i<<0)|~t))+a[13]+1309151649)<<21|e>>>11)+n<<0,e=((e+=((i=((i+=(e^((t=((t+=(n^(e|~i))+a[4]-145523070)<<6|t>>>26)+e<<0)|~n))+a[11]-1120210379)<<10|i>>>22)+t<<0)^((n=((n+=(t^(i|~e))+a[2]+718787259)<<15|n>>>17)+i<<0)|~t))+a[9]-343485551)<<21|e>>>11)+n<<0,this.first?(this.h0=t+1732584193<<0,this.h1=e-271733879<<0,this.h2=n-1732584194<<0,this.h3=i+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+i<<0)},Md5.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,i=this.h3;return HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,i=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var t,e,n,i="",o=this.array(),r=0;r<15;)t=o[r++],e=o[r++],n=o[r++],i+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|e>>>4)]+BASE64_ENCODE_CHAR[63&(e<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return t=o[r],i+(BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&define(function(){return exports}))}(),cc._RF.pop()}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:5}]},{},["FlyEffect","FlyEffectItem","GMTest","PopLoading","PopTiShi","GameCfgInterface","GameTable","TB_Guide","TB_Item","TB_Leaderboard","TB_MonkeyExp","TB_Onlinepoints","TB_Skin","TB_TapPoints","TB_WelfareTask","TB_LanguageSprite","TB_LanguageText","AirDrop","AirDropReward","Backpack","BackpackSkinDetails","BackpackSkinItem","BackpackTicketItem","Earnings","GameMainGuide","GuideMain","GuideNew","LocalizedLabel","LocalizedRichText","LocalizedSprite","InviteItem","InviteLayout","Login","LoginLoading","LoginOffline","Main","NumAnim","TimerLayout","Pledge","PledgeRule","Rank","RankListItem","RankNew","RankPageItem","Setting","Task","TaskBasicItem","BaseDialog","ButtonEx","GameAudio","GameBezier","GameData","GameEvent","GameGlobal","GameHttp","GamePublic","GameStore","GameUI","GameUtils","GameWeb","List","ListItem","PoolManager","QRCode","CCMAudioManager","CCMBinding","CCMRouter","CCMImageCache","CCMImageLoader","CCMLoader","CCMSpineLoader","CCMZipLoader","CCMUtils","jszip.min","md5","BindWallet","ConnectWallet"]);